var Dy=t=>{throw TypeError(t)};var Ff=(t,e,n)=>e.has(t)||Dy("Cannot "+n);var O=(t,e,n)=>(Ff(t,e,"read from private field"),n?n.call(t):e.get(t)),De=(t,e,n)=>e.has(t)?Dy("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),be=(t,e,n,s)=>(Ff(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n),Ut=(t,e,n)=>(Ff(t,e,"access private method"),n);var ou=(t,e,n,s)=>({set _(r){be(t,e,r,n)},get _(){return O(t,e,s)}});function ER(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in t)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function f_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var m_={exports:{}},yh={},p_={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ac=Symbol.for("react.element"),jR=Symbol.for("react.portal"),kR=Symbol.for("react.fragment"),TR=Symbol.for("react.strict_mode"),IR=Symbol.for("react.profiler"),RR=Symbol.for("react.provider"),PR=Symbol.for("react.context"),AR=Symbol.for("react.forward_ref"),MR=Symbol.for("react.suspense"),OR=Symbol.for("react.memo"),DR=Symbol.for("react.lazy"),Ly=Symbol.iterator;function LR(t){return t===null||typeof t!="object"?null:(t=Ly&&t[Ly]||t["@@iterator"],typeof t=="function"?t:null)}var g_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x_=Object.assign,v_={};function Ma(t,e,n){this.props=t,this.context=e,this.refs=v_,this.updater=n||g_}Ma.prototype.isReactComponent={};Ma.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ma.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function y_(){}y_.prototype=Ma.prototype;function Ag(t,e,n){this.props=t,this.context=e,this.refs=v_,this.updater=n||g_}var Mg=Ag.prototype=new y_;Mg.constructor=Ag;x_(Mg,Ma.prototype);Mg.isPureReactComponent=!0;var Fy=Array.isArray,w_=Object.prototype.hasOwnProperty,Og={current:null},b_={key:!0,ref:!0,__self:!0,__source:!0};function __(t,e,n){var s,r={},i=null,a=null;if(e!=null)for(s in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)w_.call(e,s)&&!b_.hasOwnProperty(s)&&(r[s]=e[s]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(t&&t.defaultProps)for(s in l=t.defaultProps,l)r[s]===void 0&&(r[s]=l[s]);return{$$typeof:Ac,type:t,key:i,ref:a,props:r,_owner:Og.current}}function FR(t,e){return{$$typeof:Ac,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Dg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ac}function $R(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $y=/\/+/g;function $f(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$R(""+t.key):e.toString(36)}function Lu(t,e,n,s,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ac:case jR:a=!0}}if(a)return a=t,r=r(a),t=s===""?"."+$f(a,0):s,Fy(r)?(n="",t!=null&&(n=t.replace($y,"$&/")+"/"),Lu(r,e,n,"",function(u){return u})):r!=null&&(Dg(r)&&(r=FR(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace($y,"$&/")+"/")+t)),e.push(r)),1;if(a=0,s=s===""?".":s+":",Fy(t))for(var l=0;l<t.length;l++){i=t[l];var c=s+$f(i,l);a+=Lu(i,e,n,c,r)}else if(c=LR(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=s+$f(i,l++),a+=Lu(i,e,n,c,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function au(t,e,n){if(t==null)return t;var s=[],r=0;return Lu(t,s,"","",function(i){return e.call(n,i,r++)}),s}function UR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tn={current:null},Fu={transition:null},zR={ReactCurrentDispatcher:tn,ReactCurrentBatchConfig:Fu,ReactCurrentOwner:Og};function N_(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:au,forEach:function(t,e,n){au(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return au(t,function(){e++}),e},toArray:function(t){return au(t,function(e){return e})||[]},only:function(t){if(!Dg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=Ma;Te.Fragment=kR;Te.Profiler=IR;Te.PureComponent=Ag;Te.StrictMode=TR;Te.Suspense=MR;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zR;Te.act=N_;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=x_({},t.props),r=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Og.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)w_.call(e,c)&&!b_.hasOwnProperty(c)&&(s[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:Ac,type:t.type,key:r,ref:i,props:s,_owner:a}};Te.createContext=function(t){return t={$$typeof:PR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:RR,_context:t},t.Consumer=t};Te.createElement=__;Te.createFactory=function(t){var e=__.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:AR,render:t}};Te.isValidElement=Dg;Te.lazy=function(t){return{$$typeof:DR,_payload:{_status:-1,_result:t},_init:UR}};Te.memo=function(t,e){return{$$typeof:OR,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=Fu.transition;Fu.transition={};try{t()}finally{Fu.transition=e}};Te.unstable_act=N_;Te.useCallback=function(t,e){return tn.current.useCallback(t,e)};Te.useContext=function(t){return tn.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return tn.current.useDeferredValue(t)};Te.useEffect=function(t,e){return tn.current.useEffect(t,e)};Te.useId=function(){return tn.current.useId()};Te.useImperativeHandle=function(t,e,n){return tn.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return tn.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return tn.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return tn.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return tn.current.useReducer(t,e,n)};Te.useRef=function(t){return tn.current.useRef(t)};Te.useState=function(t){return tn.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return tn.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return tn.current.useTransition()};Te.version="18.3.1";p_.exports=Te;var f=p_.exports;const F=f_(f),Lg=ER({__proto__:null,default:F},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BR=f,VR=Symbol.for("react.element"),WR=Symbol.for("react.fragment"),HR=Object.prototype.hasOwnProperty,GR=BR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KR={key:!0,ref:!0,__self:!0,__source:!0};function C_(t,e,n){var s,r={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(s in e)HR.call(e,s)&&!KR.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:VR,type:t,key:i,ref:a,props:r,_owner:GR.current}}yh.Fragment=WR;yh.jsx=C_;yh.jsxs=C_;m_.exports=yh;var o=m_.exports,S_={exports:{}},kn={},E_={exports:{}},j_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,j){var A=P.length;P.push(j);e:for(;0<A;){var D=A-1>>>1,$=P[D];if(0<r($,j))P[D]=j,P[A]=$,A=D;else break e}}function n(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var j=P[0],A=P.pop();if(A!==j){P[0]=A;e:for(var D=0,$=P.length,Y=$>>>1;D<Y;){var Q=2*(D+1)-1,de=P[Q],ce=Q+1,T=P[ce];if(0>r(de,A))ce<$&&0>r(T,de)?(P[D]=T,P[ce]=A,D=ce):(P[D]=de,P[Q]=A,D=Q);else if(ce<$&&0>r(T,A))P[D]=T,P[ce]=A,D=ce;else break e}}return j}function r(P,j){var A=P.sortIndex-j.sortIndex;return A!==0?A:P.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,m=3,p=!1,w=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(P){for(var j=n(u);j!==null;){if(j.callback===null)s(u);else if(j.startTime<=P)s(u),j.sortIndex=j.expirationTime,e(c,j);else break;j=n(u)}}function N(P){if(g=!1,y(P),!w)if(n(c)!==null)w=!0,K(_);else{var j=n(u);j!==null&&Z(N,j.startTime-P)}}function _(P,j){w=!1,g&&(g=!1,x(E),E=-1),p=!0;var A=m;try{for(y(j),d=n(c);d!==null&&(!(d.expirationTime>j)||P&&!L());){var D=d.callback;if(typeof D=="function"){d.callback=null,m=d.priorityLevel;var $=D(d.expirationTime<=j);j=t.unstable_now(),typeof $=="function"?d.callback=$:d===n(c)&&s(c),y(j)}else s(c);d=n(c)}if(d!==null)var Y=!0;else{var Q=n(u);Q!==null&&Z(N,Q.startTime-j),Y=!1}return Y}finally{d=null,m=A,p=!1}}var S=!1,C=null,E=-1,k=5,I=-1;function L(){return!(t.unstable_now()-I<k)}function M(){if(C!==null){var P=t.unstable_now();I=P;var j=!0;try{j=C(!0,P)}finally{j?z():(S=!1,C=null)}}else S=!1}var z;if(typeof v=="function")z=function(){v(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,W=R.port2;R.port1.onmessage=M,z=function(){W.postMessage(null)}}else z=function(){b(M,0)};function K(P){C=P,S||(S=!0,z())}function Z(P,j){E=b(function(){P(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){w||p||(w=!0,K(_))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(P){switch(m){case 1:case 2:case 3:var j=3;break;default:j=m}var A=m;m=j;try{return P()}finally{m=A}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,j){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var A=m;m=P;try{return j()}finally{m=A}},t.unstable_scheduleCallback=function(P,j,A){var D=t.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?D+A:D):A=D,P){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=A+$,P={id:h++,callback:j,priorityLevel:P,startTime:A,expirationTime:$,sortIndex:-1},A>D?(P.sortIndex=A,e(u,P),n(c)===null&&P===n(u)&&(g?(x(E),E=-1):g=!0,Z(N,A-D))):(P.sortIndex=$,e(c,P),w||p||(w=!0,K(_))),P},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(P){var j=m;return function(){var A=m;m=j;try{return P.apply(this,arguments)}finally{m=A}}}})(j_);E_.exports=j_;var QR=E_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qR=f,Sn=QR;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k_=new Set,Hl={};function mo(t,e){pa(t,e),pa(t+"Capture",e)}function pa(t,e){for(Hl[t]=e,t=0;t<e.length;t++)k_.add(e[t])}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bm=Object.prototype.hasOwnProperty,YR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uy={},zy={};function XR(t){return Bm.call(zy,t)?!0:Bm.call(Uy,t)?!1:YR.test(t)?zy[t]=!0:(Uy[t]=!0,!1)}function JR(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ZR(t,e,n,s){if(e===null||typeof e>"u"||JR(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nn(t,e,n,s,r,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dt[t]=new nn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dt[e]=new nn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dt[t]=new nn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dt[t]=new nn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dt[t]=new nn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dt[t]=new nn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dt[t]=new nn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dt[t]=new nn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dt[t]=new nn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Fg=/[\-:]([a-z])/g;function $g(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Fg,$g);Dt[e]=new nn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Fg,$g);Dt[e]=new nn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Fg,$g);Dt[e]=new nn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dt[t]=new nn(t,1,!1,t.toLowerCase(),null,!1,!1)});Dt.xlinkHref=new nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dt[t]=new nn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ug(t,e,n,s){var r=Dt.hasOwnProperty(e)?Dt[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ZR(e,n,r,s)&&(n=null),s||r===null?XR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,s=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var mr=qR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lu=Symbol.for("react.element"),Ro=Symbol.for("react.portal"),Po=Symbol.for("react.fragment"),zg=Symbol.for("react.strict_mode"),Vm=Symbol.for("react.profiler"),T_=Symbol.for("react.provider"),I_=Symbol.for("react.context"),Bg=Symbol.for("react.forward_ref"),Wm=Symbol.for("react.suspense"),Hm=Symbol.for("react.suspense_list"),Vg=Symbol.for("react.memo"),jr=Symbol.for("react.lazy"),R_=Symbol.for("react.offscreen"),By=Symbol.iterator;function rl(t){return t===null||typeof t!="object"?null:(t=By&&t[By]||t["@@iterator"],typeof t=="function"?t:null)}var rt=Object.assign,Uf;function yl(t){if(Uf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Uf=e&&e[1]||""}return`
`+Uf+t}var zf=!1;function Bf(t,e){if(!t||zf)return"";zf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){s=u}t.call(e.prototype)}else{try{throw Error()}catch(u){s=u}t()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),i=s.stack.split(`
`),a=r.length-1,l=i.length-1;1<=a&&0<=l&&r[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(r[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||r[a]!==i[l]){var c=`
`+r[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{zf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?yl(t):""}function e2(t){switch(t.tag){case 5:return yl(t.type);case 16:return yl("Lazy");case 13:return yl("Suspense");case 19:return yl("SuspenseList");case 0:case 2:case 15:return t=Bf(t.type,!1),t;case 11:return t=Bf(t.type.render,!1),t;case 1:return t=Bf(t.type,!0),t;default:return""}}function Gm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Po:return"Fragment";case Ro:return"Portal";case Vm:return"Profiler";case zg:return"StrictMode";case Wm:return"Suspense";case Hm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case I_:return(t.displayName||"Context")+".Consumer";case T_:return(t._context.displayName||"Context")+".Provider";case Bg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Vg:return e=t.displayName||null,e!==null?e:Gm(t.type)||"Memo";case jr:e=t._payload,t=t._init;try{return Gm(t(e))}catch{}}return null}function t2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gm(e);case 8:return e===zg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function P_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function n2(t){var e=P_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){s=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(a){s=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function cu(t){t._valueTracker||(t._valueTracker=n2(t))}function A_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=P_(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function ad(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Km(t,e){var n=e.checked;return rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Vy(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=hi(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function M_(t,e){e=e.checked,e!=null&&Ug(t,"checked",e,!1)}function Qm(t,e){M_(t,e);var n=hi(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qm(t,e.type,n):e.hasOwnProperty("defaultValue")&&qm(t,e.type,hi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Wy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function qm(t,e,n){(e!=="number"||ad(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var wl=Array.isArray;function Ho(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+hi(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Ym(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Hy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(wl(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:hi(n)}}function O_(t,e){var n=hi(e.value),s=hi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function Gy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function D_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?D_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var uu,L_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(uu=uu||document.createElement("div"),uu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=uu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Gl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var jl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},s2=["Webkit","ms","Moz","O"];Object.keys(jl).forEach(function(t){s2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),jl[e]=jl[t]})});function F_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||jl.hasOwnProperty(t)&&jl[t]?(""+e).trim():e+"px"}function $_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=F_(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,r):t[n]=r}}var r2=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jm(t,e){if(e){if(r2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Zm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ep=null;function Wg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tp=null,Go=null,Ko=null;function Ky(t){if(t=Dc(t)){if(typeof tp!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Ch(e),tp(t.stateNode,t.type,e))}}function U_(t){Go?Ko?Ko.push(t):Ko=[t]:Go=t}function z_(){if(Go){var t=Go,e=Ko;if(Ko=Go=null,Ky(t),e)for(t=0;t<e.length;t++)Ky(e[t])}}function B_(t,e){return t(e)}function V_(){}var Vf=!1;function W_(t,e,n){if(Vf)return t(e,n);Vf=!0;try{return B_(t,e,n)}finally{Vf=!1,(Go!==null||Ko!==null)&&(V_(),z_())}}function Kl(t,e){var n=t.stateNode;if(n===null)return null;var s=Ch(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var np=!1;if(sr)try{var il={};Object.defineProperty(il,"passive",{get:function(){np=!0}}),window.addEventListener("test",il,il),window.removeEventListener("test",il,il)}catch{np=!1}function i2(t,e,n,s,r,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var kl=!1,ld=null,cd=!1,sp=null,o2={onError:function(t){kl=!0,ld=t}};function a2(t,e,n,s,r,i,a,l,c){kl=!1,ld=null,i2.apply(o2,arguments)}function l2(t,e,n,s,r,i,a,l,c){if(a2.apply(this,arguments),kl){if(kl){var u=ld;kl=!1,ld=null}else throw Error(U(198));cd||(cd=!0,sp=u)}}function po(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function H_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Qy(t){if(po(t)!==t)throw Error(U(188))}function c2(t){var e=t.alternate;if(!e){if(e=po(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return Qy(r),t;if(i===s)return Qy(r),e;i=i.sibling}throw Error(U(188))}if(n.return!==s.return)n=r,s=i;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,s=i;break}if(l===s){a=!0,s=r,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,s=r;break}if(l===s){a=!0,s=i,n=r;break}l=l.sibling}if(!a)throw Error(U(189))}}if(n.alternate!==s)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function G_(t){return t=c2(t),t!==null?K_(t):null}function K_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=K_(t);if(e!==null)return e;t=t.sibling}return null}var Q_=Sn.unstable_scheduleCallback,qy=Sn.unstable_cancelCallback,u2=Sn.unstable_shouldYield,d2=Sn.unstable_requestPaint,dt=Sn.unstable_now,h2=Sn.unstable_getCurrentPriorityLevel,Hg=Sn.unstable_ImmediatePriority,q_=Sn.unstable_UserBlockingPriority,ud=Sn.unstable_NormalPriority,f2=Sn.unstable_LowPriority,Y_=Sn.unstable_IdlePriority,wh=null,Rs=null;function m2(t){if(Rs&&typeof Rs.onCommitFiberRoot=="function")try{Rs.onCommitFiberRoot(wh,t,void 0,(t.current.flags&128)===128)}catch{}}var hs=Math.clz32?Math.clz32:x2,p2=Math.log,g2=Math.LN2;function x2(t){return t>>>=0,t===0?32:31-(p2(t)/g2|0)|0}var du=64,hu=4194304;function bl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function dd(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,r=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~r;l!==0?s=bl(l):(i&=a,i!==0&&(s=bl(i)))}else a=n&~r,a!==0?s=bl(a):i!==0&&(s=bl(i));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-hs(e),r=1<<n,s|=t[n],e&=~r;return s}function v2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function y2(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-hs(i),l=1<<a,c=r[a];c===-1?(!(l&n)||l&s)&&(r[a]=v2(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function rp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function X_(){var t=du;return du<<=1,!(du&4194240)&&(du=64),t}function Wf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Mc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hs(e),t[e]=n}function w2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-hs(n),i=1<<r;e[r]=0,s[r]=-1,t[r]=-1,n&=~i}}function Gg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-hs(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}var $e=0;function J_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Z_,Kg,e1,t1,n1,ip=!1,fu=[],Kr=null,Qr=null,qr=null,Ql=new Map,ql=new Map,Tr=[],b2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yy(t,e){switch(t){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":Ql.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(e.pointerId)}}function ol(t,e,n,s,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=Dc(e),e!==null&&Kg(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function _2(t,e,n,s,r){switch(e){case"focusin":return Kr=ol(Kr,t,e,n,s,r),!0;case"dragenter":return Qr=ol(Qr,t,e,n,s,r),!0;case"mouseover":return qr=ol(qr,t,e,n,s,r),!0;case"pointerover":var i=r.pointerId;return Ql.set(i,ol(Ql.get(i)||null,t,e,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,ql.set(i,ol(ql.get(i)||null,t,e,n,s,r)),!0}return!1}function s1(t){var e=Pi(t.target);if(e!==null){var n=po(e);if(n!==null){if(e=n.tag,e===13){if(e=H_(n),e!==null){t.blockedOn=e,n1(t.priority,function(){e1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $u(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=op(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);ep=s,n.target.dispatchEvent(s),ep=null}else return e=Dc(n),e!==null&&Kg(e),t.blockedOn=n,!1;e.shift()}return!0}function Xy(t,e,n){$u(t)&&n.delete(e)}function N2(){ip=!1,Kr!==null&&$u(Kr)&&(Kr=null),Qr!==null&&$u(Qr)&&(Qr=null),qr!==null&&$u(qr)&&(qr=null),Ql.forEach(Xy),ql.forEach(Xy)}function al(t,e){t.blockedOn===e&&(t.blockedOn=null,ip||(ip=!0,Sn.unstable_scheduleCallback(Sn.unstable_NormalPriority,N2)))}function Yl(t){function e(r){return al(r,t)}if(0<fu.length){al(fu[0],t);for(var n=1;n<fu.length;n++){var s=fu[n];s.blockedOn===t&&(s.blockedOn=null)}}for(Kr!==null&&al(Kr,t),Qr!==null&&al(Qr,t),qr!==null&&al(qr,t),Ql.forEach(e),ql.forEach(e),n=0;n<Tr.length;n++)s=Tr[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<Tr.length&&(n=Tr[0],n.blockedOn===null);)s1(n),n.blockedOn===null&&Tr.shift()}var Qo=mr.ReactCurrentBatchConfig,hd=!0;function C2(t,e,n,s){var r=$e,i=Qo.transition;Qo.transition=null;try{$e=1,Qg(t,e,n,s)}finally{$e=r,Qo.transition=i}}function S2(t,e,n,s){var r=$e,i=Qo.transition;Qo.transition=null;try{$e=4,Qg(t,e,n,s)}finally{$e=r,Qo.transition=i}}function Qg(t,e,n,s){if(hd){var r=op(t,e,n,s);if(r===null)em(t,e,s,fd,n),Yy(t,s);else if(_2(r,t,e,n,s))s.stopPropagation();else if(Yy(t,s),e&4&&-1<b2.indexOf(t)){for(;r!==null;){var i=Dc(r);if(i!==null&&Z_(i),i=op(t,e,n,s),i===null&&em(t,e,s,fd,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else em(t,e,s,null,n)}}var fd=null;function op(t,e,n,s){if(fd=null,t=Wg(s),t=Pi(t),t!==null)if(e=po(t),e===null)t=null;else if(n=e.tag,n===13){if(t=H_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fd=t,null}function r1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(h2()){case Hg:return 1;case q_:return 4;case ud:case f2:return 16;case Y_:return 536870912;default:return 16}default:return 16}}var Ur=null,qg=null,Uu=null;function i1(){if(Uu)return Uu;var t,e=qg,n=e.length,s,r="value"in Ur?Ur.value:Ur.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(s=1;s<=a&&e[n-s]===r[i-s];s++);return Uu=r.slice(t,1<s?1-s:void 0)}function zu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function mu(){return!0}function Jy(){return!1}function Tn(t){function e(n,s,r,i,a){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?mu:Jy,this.isPropagationStopped=Jy,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mu)},persist:function(){},isPersistent:mu}),e}var Oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yg=Tn(Oa),Oc=rt({},Oa,{view:0,detail:0}),E2=Tn(Oc),Hf,Gf,ll,bh=rt({},Oc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ll&&(ll&&t.type==="mousemove"?(Hf=t.screenX-ll.screenX,Gf=t.screenY-ll.screenY):Gf=Hf=0,ll=t),Hf)},movementY:function(t){return"movementY"in t?t.movementY:Gf}}),Zy=Tn(bh),j2=rt({},bh,{dataTransfer:0}),k2=Tn(j2),T2=rt({},Oc,{relatedTarget:0}),Kf=Tn(T2),I2=rt({},Oa,{animationName:0,elapsedTime:0,pseudoElement:0}),R2=Tn(I2),P2=rt({},Oa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),A2=Tn(P2),M2=rt({},Oa,{data:0}),ew=Tn(M2),O2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function F2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=L2[t])?!!e[t]:!1}function Xg(){return F2}var $2=rt({},Oc,{key:function(t){if(t.key){var e=O2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?D2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xg,charCode:function(t){return t.type==="keypress"?zu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),U2=Tn($2),z2=rt({},bh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tw=Tn(z2),B2=rt({},Oc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xg}),V2=Tn(B2),W2=rt({},Oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),H2=Tn(W2),G2=rt({},bh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K2=Tn(G2),Q2=[9,13,27,32],Jg=sr&&"CompositionEvent"in window,Tl=null;sr&&"documentMode"in document&&(Tl=document.documentMode);var q2=sr&&"TextEvent"in window&&!Tl,o1=sr&&(!Jg||Tl&&8<Tl&&11>=Tl),nw=" ",sw=!1;function a1(t,e){switch(t){case"keyup":return Q2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function l1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ao=!1;function Y2(t,e){switch(t){case"compositionend":return l1(e);case"keypress":return e.which!==32?null:(sw=!0,nw);case"textInput":return t=e.data,t===nw&&sw?null:t;default:return null}}function X2(t,e){if(Ao)return t==="compositionend"||!Jg&&a1(t,e)?(t=i1(),Uu=qg=Ur=null,Ao=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return o1&&e.locale!=="ko"?null:e.data;default:return null}}var J2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!J2[t.type]:e==="textarea"}function c1(t,e,n,s){U_(s),e=md(e,"onChange"),0<e.length&&(n=new Yg("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Il=null,Xl=null;function Z2(t){w1(t,0)}function _h(t){var e=Do(t);if(A_(e))return t}function eP(t,e){if(t==="change")return e}var u1=!1;if(sr){var Qf;if(sr){var qf="oninput"in document;if(!qf){var iw=document.createElement("div");iw.setAttribute("oninput","return;"),qf=typeof iw.oninput=="function"}Qf=qf}else Qf=!1;u1=Qf&&(!document.documentMode||9<document.documentMode)}function ow(){Il&&(Il.detachEvent("onpropertychange",d1),Xl=Il=null)}function d1(t){if(t.propertyName==="value"&&_h(Xl)){var e=[];c1(e,Xl,t,Wg(t)),W_(Z2,e)}}function tP(t,e,n){t==="focusin"?(ow(),Il=e,Xl=n,Il.attachEvent("onpropertychange",d1)):t==="focusout"&&ow()}function nP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _h(Xl)}function sP(t,e){if(t==="click")return _h(e)}function rP(t,e){if(t==="input"||t==="change")return _h(e)}function iP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gs=typeof Object.is=="function"?Object.is:iP;function Jl(t,e){if(gs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!Bm.call(e,r)||!gs(t[r],e[r]))return!1}return!0}function aw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lw(t,e){var n=aw(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=aw(n)}}function h1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?h1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function f1(){for(var t=window,e=ad();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ad(t.document)}return e}function Zg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function oP(t){var e=f1(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&h1(n.ownerDocument.documentElement,n)){if(s!==null&&Zg(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!t.extend&&i>s&&(r=s,s=i,i=r),r=lw(n,i);var a=lw(n,s);r&&a&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>s?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var aP=sr&&"documentMode"in document&&11>=document.documentMode,Mo=null,ap=null,Rl=null,lp=!1;function cw(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lp||Mo==null||Mo!==ad(s)||(s=Mo,"selectionStart"in s&&Zg(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Rl&&Jl(Rl,s)||(Rl=s,s=md(ap,"onSelect"),0<s.length&&(e=new Yg("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=Mo)))}function pu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Oo={animationend:pu("Animation","AnimationEnd"),animationiteration:pu("Animation","AnimationIteration"),animationstart:pu("Animation","AnimationStart"),transitionend:pu("Transition","TransitionEnd")},Yf={},m1={};sr&&(m1=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function Nh(t){if(Yf[t])return Yf[t];if(!Oo[t])return t;var e=Oo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in m1)return Yf[t]=e[n];return t}var p1=Nh("animationend"),g1=Nh("animationiteration"),x1=Nh("animationstart"),v1=Nh("transitionend"),y1=new Map,uw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yi(t,e){y1.set(t,e),mo(e,[t])}for(var Xf=0;Xf<uw.length;Xf++){var Jf=uw[Xf],lP=Jf.toLowerCase(),cP=Jf[0].toUpperCase()+Jf.slice(1);yi(lP,"on"+cP)}yi(p1,"onAnimationEnd");yi(g1,"onAnimationIteration");yi(x1,"onAnimationStart");yi("dblclick","onDoubleClick");yi("focusin","onFocus");yi("focusout","onBlur");yi(v1,"onTransitionEnd");pa("onMouseEnter",["mouseout","mouseover"]);pa("onMouseLeave",["mouseout","mouseover"]);pa("onPointerEnter",["pointerout","pointerover"]);pa("onPointerLeave",["pointerout","pointerover"]);mo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mo("onBeforeInput",["compositionend","keypress","textInput","paste"]);mo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uP=new Set("cancel close invalid load scroll toggle".split(" ").concat(_l));function dw(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,l2(s,e,void 0,t),t.currentTarget=null}function w1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var a=s.length-1;0<=a;a--){var l=s[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&r.isPropagationStopped())break e;dw(r,l,u),i=c}else for(a=0;a<s.length;a++){if(l=s[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&r.isPropagationStopped())break e;dw(r,l,u),i=c}}}if(cd)throw t=sp,cd=!1,sp=null,t}function qe(t,e){var n=e[fp];n===void 0&&(n=e[fp]=new Set);var s=t+"__bubble";n.has(s)||(b1(e,t,2,!1),n.add(s))}function Zf(t,e,n){var s=0;e&&(s|=4),b1(n,t,s,e)}var gu="_reactListening"+Math.random().toString(36).slice(2);function Zl(t){if(!t[gu]){t[gu]=!0,k_.forEach(function(n){n!=="selectionchange"&&(uP.has(n)||Zf(n,!1,t),Zf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gu]||(e[gu]=!0,Zf("selectionchange",!1,e))}}function b1(t,e,n,s){switch(r1(e)){case 1:var r=C2;break;case 4:r=S2;break;default:r=Qg}n=r.bind(null,e,n,t),r=void 0,!np||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function em(t,e,n,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var l=s.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(a===4)for(a=s.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;a=a.return}for(;l!==null;){if(a=Pi(l),a===null)return;if(c=a.tag,c===5||c===6){s=i=a;continue e}l=l.parentNode}}s=s.return}W_(function(){var u=i,h=Wg(n),d=[];e:{var m=y1.get(t);if(m!==void 0){var p=Yg,w=t;switch(t){case"keypress":if(zu(n)===0)break e;case"keydown":case"keyup":p=U2;break;case"focusin":w="focus",p=Kf;break;case"focusout":w="blur",p=Kf;break;case"beforeblur":case"afterblur":p=Kf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Zy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=k2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=V2;break;case p1:case g1:case x1:p=R2;break;case v1:p=H2;break;case"scroll":p=E2;break;case"wheel":p=K2;break;case"copy":case"cut":case"paste":p=A2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=tw}var g=(e&4)!==0,b=!g&&t==="scroll",x=g?m!==null?m+"Capture":null:m;g=[];for(var v=u,y;v!==null;){y=v;var N=y.stateNode;if(y.tag===5&&N!==null&&(y=N,x!==null&&(N=Kl(v,x),N!=null&&g.push(ec(v,N,y)))),b)break;v=v.return}0<g.length&&(m=new p(m,w,null,n,h),d.push({event:m,listeners:g}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==ep&&(w=n.relatedTarget||n.fromElement)&&(Pi(w)||w[rr]))break e;if((p||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=u,w=w?Pi(w):null,w!==null&&(b=po(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=u),p!==w)){if(g=Zy,N="onMouseLeave",x="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=tw,N="onPointerLeave",x="onPointerEnter",v="pointer"),b=p==null?m:Do(p),y=w==null?m:Do(w),m=new g(N,v+"leave",p,n,h),m.target=b,m.relatedTarget=y,N=null,Pi(h)===u&&(g=new g(x,v+"enter",w,n,h),g.target=y,g.relatedTarget=b,N=g),b=N,p&&w)t:{for(g=p,x=w,v=0,y=g;y;y=So(y))v++;for(y=0,N=x;N;N=So(N))y++;for(;0<v-y;)g=So(g),v--;for(;0<y-v;)x=So(x),y--;for(;v--;){if(g===x||x!==null&&g===x.alternate)break t;g=So(g),x=So(x)}g=null}else g=null;p!==null&&hw(d,m,p,g,!1),w!==null&&b!==null&&hw(d,b,w,g,!0)}}e:{if(m=u?Do(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var _=eP;else if(rw(m))if(u1)_=rP;else{_=nP;var S=tP}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(_=sP);if(_&&(_=_(t,u))){c1(d,_,n,h);break e}S&&S(t,m,u),t==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&qm(m,"number",m.value)}switch(S=u?Do(u):window,t){case"focusin":(rw(S)||S.contentEditable==="true")&&(Mo=S,ap=u,Rl=null);break;case"focusout":Rl=ap=Mo=null;break;case"mousedown":lp=!0;break;case"contextmenu":case"mouseup":case"dragend":lp=!1,cw(d,n,h);break;case"selectionchange":if(aP)break;case"keydown":case"keyup":cw(d,n,h)}var C;if(Jg)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ao?a1(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(o1&&n.locale!=="ko"&&(Ao||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ao&&(C=i1()):(Ur=h,qg="value"in Ur?Ur.value:Ur.textContent,Ao=!0)),S=md(u,E),0<S.length&&(E=new ew(E,t,null,n,h),d.push({event:E,listeners:S}),C?E.data=C:(C=l1(n),C!==null&&(E.data=C)))),(C=q2?Y2(t,n):X2(t,n))&&(u=md(u,"onBeforeInput"),0<u.length&&(h=new ew("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=C))}w1(d,e)})}function ec(t,e,n){return{instance:t,listener:e,currentTarget:n}}function md(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Kl(t,n),i!=null&&s.unshift(ec(t,i,r)),i=Kl(t,e),i!=null&&s.push(ec(t,i,r))),t=t.return}return s}function So(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function hw(t,e,n,s,r){for(var i=e._reactName,a=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,r?(c=Kl(n,i),c!=null&&a.unshift(ec(n,c,l))):r||(c=Kl(n,i),c!=null&&a.push(ec(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var dP=/\r\n?/g,hP=/\u0000|\uFFFD/g;function fw(t){return(typeof t=="string"?t:""+t).replace(dP,`
`).replace(hP,"")}function xu(t,e,n){if(e=fw(e),fw(t)!==e&&n)throw Error(U(425))}function pd(){}var cp=null,up=null;function dp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hp=typeof setTimeout=="function"?setTimeout:void 0,fP=typeof clearTimeout=="function"?clearTimeout:void 0,mw=typeof Promise=="function"?Promise:void 0,mP=typeof queueMicrotask=="function"?queueMicrotask:typeof mw<"u"?function(t){return mw.resolve(null).then(t).catch(pP)}:hp;function pP(t){setTimeout(function(){throw t})}function tm(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){t.removeChild(r),Yl(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);Yl(e)}function Yr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function pw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Da=Math.random().toString(36).slice(2),ks="__reactFiber$"+Da,tc="__reactProps$"+Da,rr="__reactContainer$"+Da,fp="__reactEvents$"+Da,gP="__reactListeners$"+Da,xP="__reactHandles$"+Da;function Pi(t){var e=t[ks];if(e)return e;for(var n=t.parentNode;n;){if(e=n[rr]||n[ks]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=pw(t);t!==null;){if(n=t[ks])return n;t=pw(t)}return e}t=n,n=t.parentNode}return null}function Dc(t){return t=t[ks]||t[rr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Do(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Ch(t){return t[tc]||null}var mp=[],Lo=-1;function wi(t){return{current:t}}function Ye(t){0>Lo||(t.current=mp[Lo],mp[Lo]=null,Lo--)}function Ke(t,e){Lo++,mp[Lo]=t.current,t.current=e}var fi={},Ht=wi(fi),dn=wi(!1),Ki=fi;function ga(t,e){var n=t.type.contextTypes;if(!n)return fi;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=e[i];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function hn(t){return t=t.childContextTypes,t!=null}function gd(){Ye(dn),Ye(Ht)}function gw(t,e,n){if(Ht.current!==fi)throw Error(U(168));Ke(Ht,e),Ke(dn,n)}function _1(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(U(108,t2(t)||"Unknown",r));return rt({},n,s)}function xd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fi,Ki=Ht.current,Ke(Ht,t),Ke(dn,dn.current),!0}function xw(t,e,n){var s=t.stateNode;if(!s)throw Error(U(169));n?(t=_1(t,e,Ki),s.__reactInternalMemoizedMergedChildContext=t,Ye(dn),Ye(Ht),Ke(Ht,t)):Ye(dn),Ke(dn,n)}var Hs=null,Sh=!1,nm=!1;function N1(t){Hs===null?Hs=[t]:Hs.push(t)}function vP(t){Sh=!0,N1(t)}function bi(){if(!nm&&Hs!==null){nm=!0;var t=0,e=$e;try{var n=Hs;for($e=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}Hs=null,Sh=!1}catch(r){throw Hs!==null&&(Hs=Hs.slice(t+1)),Q_(Hg,bi),r}finally{$e=e,nm=!1}}return null}var Fo=[],$o=0,vd=null,yd=0,Pn=[],An=0,Qi=null,Ks=1,Qs="";function ki(t,e){Fo[$o++]=yd,Fo[$o++]=vd,vd=t,yd=e}function C1(t,e,n){Pn[An++]=Ks,Pn[An++]=Qs,Pn[An++]=Qi,Qi=t;var s=Ks;t=Qs;var r=32-hs(s)-1;s&=~(1<<r),n+=1;var i=32-hs(e)+r;if(30<i){var a=r-r%5;i=(s&(1<<a)-1).toString(32),s>>=a,r-=a,Ks=1<<32-hs(e)+r|n<<r|s,Qs=i+t}else Ks=1<<i|n<<r|s,Qs=t}function ex(t){t.return!==null&&(ki(t,1),C1(t,1,0))}function tx(t){for(;t===vd;)vd=Fo[--$o],Fo[$o]=null,yd=Fo[--$o],Fo[$o]=null;for(;t===Qi;)Qi=Pn[--An],Pn[An]=null,Qs=Pn[--An],Pn[An]=null,Ks=Pn[--An],Pn[An]=null}var _n=null,wn=null,et=!1,is=null;function S1(t,e){var n=Dn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function vw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_n=t,wn=Yr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_n=t,wn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Qi!==null?{id:Ks,overflow:Qs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Dn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,_n=t,wn=null,!0):!1;default:return!1}}function pp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gp(t){if(et){var e=wn;if(e){var n=e;if(!vw(t,e)){if(pp(t))throw Error(U(418));e=Yr(n.nextSibling);var s=_n;e&&vw(t,e)?S1(s,n):(t.flags=t.flags&-4097|2,et=!1,_n=t)}}else{if(pp(t))throw Error(U(418));t.flags=t.flags&-4097|2,et=!1,_n=t}}}function yw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_n=t}function vu(t){if(t!==_n)return!1;if(!et)return yw(t),et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dp(t.type,t.memoizedProps)),e&&(e=wn)){if(pp(t))throw E1(),Error(U(418));for(;e;)S1(t,e),e=Yr(e.nextSibling)}if(yw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wn=Yr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wn=null}}else wn=_n?Yr(t.stateNode.nextSibling):null;return!0}function E1(){for(var t=wn;t;)t=Yr(t.nextSibling)}function xa(){wn=_n=null,et=!1}function nx(t){is===null?is=[t]:is.push(t)}var yP=mr.ReactCurrentBatchConfig;function cl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var s=n.stateNode}if(!s)throw Error(U(147,t));var r=s,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=r.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function yu(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ww(t){var e=t._init;return e(t._payload)}function j1(t){function e(x,v){if(t){var y=x.deletions;y===null?(x.deletions=[v],x.flags|=16):y.push(v)}}function n(x,v){if(!t)return null;for(;v!==null;)e(x,v),v=v.sibling;return null}function s(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function r(x,v){return x=ei(x,v),x.index=0,x.sibling=null,x}function i(x,v,y){return x.index=y,t?(y=x.alternate,y!==null?(y=y.index,y<v?(x.flags|=2,v):y):(x.flags|=2,v)):(x.flags|=1048576,v)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function l(x,v,y,N){return v===null||v.tag!==6?(v=cm(y,x.mode,N),v.return=x,v):(v=r(v,y),v.return=x,v)}function c(x,v,y,N){var _=y.type;return _===Po?h(x,v,y.props.children,N,y.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===jr&&ww(_)===v.type)?(N=r(v,y.props),N.ref=cl(x,v,y),N.return=x,N):(N=Qu(y.type,y.key,y.props,null,x.mode,N),N.ref=cl(x,v,y),N.return=x,N)}function u(x,v,y,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=um(y,x.mode,N),v.return=x,v):(v=r(v,y.children||[]),v.return=x,v)}function h(x,v,y,N,_){return v===null||v.tag!==7?(v=Wi(y,x.mode,N,_),v.return=x,v):(v=r(v,y),v.return=x,v)}function d(x,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=cm(""+v,x.mode,y),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case lu:return y=Qu(v.type,v.key,v.props,null,x.mode,y),y.ref=cl(x,null,v),y.return=x,y;case Ro:return v=um(v,x.mode,y),v.return=x,v;case jr:var N=v._init;return d(x,N(v._payload),y)}if(wl(v)||rl(v))return v=Wi(v,x.mode,y,null),v.return=x,v;yu(x,v)}return null}function m(x,v,y,N){var _=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return _!==null?null:l(x,v,""+y,N);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case lu:return y.key===_?c(x,v,y,N):null;case Ro:return y.key===_?u(x,v,y,N):null;case jr:return _=y._init,m(x,v,_(y._payload),N)}if(wl(y)||rl(y))return _!==null?null:h(x,v,y,N,null);yu(x,y)}return null}function p(x,v,y,N,_){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(y)||null,l(v,x,""+N,_);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case lu:return x=x.get(N.key===null?y:N.key)||null,c(v,x,N,_);case Ro:return x=x.get(N.key===null?y:N.key)||null,u(v,x,N,_);case jr:var S=N._init;return p(x,v,y,S(N._payload),_)}if(wl(N)||rl(N))return x=x.get(y)||null,h(v,x,N,_,null);yu(v,N)}return null}function w(x,v,y,N){for(var _=null,S=null,C=v,E=v=0,k=null;C!==null&&E<y.length;E++){C.index>E?(k=C,C=null):k=C.sibling;var I=m(x,C,y[E],N);if(I===null){C===null&&(C=k);break}t&&C&&I.alternate===null&&e(x,C),v=i(I,v,E),S===null?_=I:S.sibling=I,S=I,C=k}if(E===y.length)return n(x,C),et&&ki(x,E),_;if(C===null){for(;E<y.length;E++)C=d(x,y[E],N),C!==null&&(v=i(C,v,E),S===null?_=C:S.sibling=C,S=C);return et&&ki(x,E),_}for(C=s(x,C);E<y.length;E++)k=p(C,x,E,y[E],N),k!==null&&(t&&k.alternate!==null&&C.delete(k.key===null?E:k.key),v=i(k,v,E),S===null?_=k:S.sibling=k,S=k);return t&&C.forEach(function(L){return e(x,L)}),et&&ki(x,E),_}function g(x,v,y,N){var _=rl(y);if(typeof _!="function")throw Error(U(150));if(y=_.call(y),y==null)throw Error(U(151));for(var S=_=null,C=v,E=v=0,k=null,I=y.next();C!==null&&!I.done;E++,I=y.next()){C.index>E?(k=C,C=null):k=C.sibling;var L=m(x,C,I.value,N);if(L===null){C===null&&(C=k);break}t&&C&&L.alternate===null&&e(x,C),v=i(L,v,E),S===null?_=L:S.sibling=L,S=L,C=k}if(I.done)return n(x,C),et&&ki(x,E),_;if(C===null){for(;!I.done;E++,I=y.next())I=d(x,I.value,N),I!==null&&(v=i(I,v,E),S===null?_=I:S.sibling=I,S=I);return et&&ki(x,E),_}for(C=s(x,C);!I.done;E++,I=y.next())I=p(C,x,E,I.value,N),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?E:I.key),v=i(I,v,E),S===null?_=I:S.sibling=I,S=I);return t&&C.forEach(function(M){return e(x,M)}),et&&ki(x,E),_}function b(x,v,y,N){if(typeof y=="object"&&y!==null&&y.type===Po&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case lu:e:{for(var _=y.key,S=v;S!==null;){if(S.key===_){if(_=y.type,_===Po){if(S.tag===7){n(x,S.sibling),v=r(S,y.props.children),v.return=x,x=v;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===jr&&ww(_)===S.type){n(x,S.sibling),v=r(S,y.props),v.ref=cl(x,S,y),v.return=x,x=v;break e}n(x,S);break}else e(x,S);S=S.sibling}y.type===Po?(v=Wi(y.props.children,x.mode,N,y.key),v.return=x,x=v):(N=Qu(y.type,y.key,y.props,null,x.mode,N),N.ref=cl(x,v,y),N.return=x,x=N)}return a(x);case Ro:e:{for(S=y.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){n(x,v.sibling),v=r(v,y.children||[]),v.return=x,x=v;break e}else{n(x,v);break}else e(x,v);v=v.sibling}v=um(y,x.mode,N),v.return=x,x=v}return a(x);case jr:return S=y._init,b(x,v,S(y._payload),N)}if(wl(y))return w(x,v,y,N);if(rl(y))return g(x,v,y,N);yu(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(n(x,v.sibling),v=r(v,y),v.return=x,x=v):(n(x,v),v=cm(y,x.mode,N),v.return=x,x=v),a(x)):n(x,v)}return b}var va=j1(!0),k1=j1(!1),wd=wi(null),bd=null,Uo=null,sx=null;function rx(){sx=Uo=bd=null}function ix(t){var e=wd.current;Ye(wd),t._currentValue=e}function xp(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function qo(t,e){bd=t,sx=Uo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(an=!0),t.firstContext=null)}function Bn(t){var e=t._currentValue;if(sx!==t)if(t={context:t,memoizedValue:e,next:null},Uo===null){if(bd===null)throw Error(U(308));Uo=t,bd.dependencies={lanes:0,firstContext:t}}else Uo=Uo.next=t;return e}var Ai=null;function ox(t){Ai===null?Ai=[t]:Ai.push(t)}function T1(t,e,n,s){var r=e.interleaved;return r===null?(n.next=n,ox(e)):(n.next=r.next,r.next=n),e.interleaved=n,ir(t,s)}function ir(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var kr=!1;function ax(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function I1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Js(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xr(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,Me&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,ir(t,n)}return r=s.interleaved,r===null?(e.next=e,ox(s)):(e.next=r.next,r.next=e),s.interleaved=e,ir(t,n)}function Bu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Gg(t,n)}}function bw(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function _d(t,e,n,s){var r=t.updateQueue;kr=!1;var i=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(i!==null){var d=r.baseState;a=0,h=u=c=null,l=i;do{var m=l.lane,p=l.eventTime;if((s&m)===m){h!==null&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=t,g=l;switch(m=e,p=n,g.tag){case 1:if(w=g.payload,typeof w=="function"){d=w.call(p,d,m);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=g.payload,m=typeof w=="function"?w.call(p,d,m):w,m==null)break e;d=rt({},d,m);break e;case 2:kr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=r.effects,m===null?r.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=p,c=d):h=h.next=p,a|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;m=l,l=m.next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}while(!0);if(h===null&&(c=d),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);Yi|=a,t.lanes=a,t.memoizedState=d}}function _w(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(U(191,r));r.call(s)}}}var Lc={},Ps=wi(Lc),nc=wi(Lc),sc=wi(Lc);function Mi(t){if(t===Lc)throw Error(U(174));return t}function lx(t,e){switch(Ke(sc,e),Ke(nc,t),Ke(Ps,Lc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xm(e,t)}Ye(Ps),Ke(Ps,e)}function ya(){Ye(Ps),Ye(nc),Ye(sc)}function R1(t){Mi(sc.current);var e=Mi(Ps.current),n=Xm(e,t.type);e!==n&&(Ke(nc,t),Ke(Ps,n))}function cx(t){nc.current===t&&(Ye(Ps),Ye(nc))}var nt=wi(0);function Nd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sm=[];function ux(){for(var t=0;t<sm.length;t++)sm[t]._workInProgressVersionPrimary=null;sm.length=0}var Vu=mr.ReactCurrentDispatcher,rm=mr.ReactCurrentBatchConfig,qi=0,st=null,vt=null,Et=null,Cd=!1,Pl=!1,rc=0,wP=0;function zt(){throw Error(U(321))}function dx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gs(t[n],e[n]))return!1;return!0}function hx(t,e,n,s,r,i){if(qi=i,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vu.current=t===null||t.memoizedState===null?CP:SP,t=n(s,r),Pl){i=0;do{if(Pl=!1,rc=0,25<=i)throw Error(U(301));i+=1,Et=vt=null,e.updateQueue=null,Vu.current=EP,t=n(s,r)}while(Pl)}if(Vu.current=Sd,e=vt!==null&&vt.next!==null,qi=0,Et=vt=st=null,Cd=!1,e)throw Error(U(300));return t}function fx(){var t=rc!==0;return rc=0,t}function Cs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?st.memoizedState=Et=t:Et=Et.next=t,Et}function Vn(){if(vt===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var e=Et===null?st.memoizedState:Et.next;if(e!==null)Et=e,vt=t;else{if(t===null)throw Error(U(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Et===null?st.memoizedState=Et=t:Et=Et.next=t}return Et}function ic(t,e){return typeof e=="function"?e(t):e}function im(t){var e=Vn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var s=vt,r=s.baseQueue,i=n.pending;if(i!==null){if(r!==null){var a=r.next;r.next=i.next,i.next=a}s.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,s=s.baseState;var l=a=null,c=null,u=i;do{var h=u.lane;if((qi&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:t(s,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,a=s):c=c.next=d,st.lanes|=h,Yi|=h}u=u.next}while(u!==null&&u!==i);c===null?a=s:c.next=l,gs(s,e.memoizedState)||(an=!0),e.memoizedState=s,e.baseState=a,e.baseQueue=c,n.lastRenderedState=s}if(t=n.interleaved,t!==null){r=t;do i=r.lane,st.lanes|=i,Yi|=i,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function om(t){var e=Vn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do i=t(i,a.action),a=a.next;while(a!==r);gs(i,e.memoizedState)||(an=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,s]}function P1(){}function A1(t,e){var n=st,s=Vn(),r=e(),i=!gs(s.memoizedState,r);if(i&&(s.memoizedState=r,an=!0),s=s.queue,mx(D1.bind(null,n,s,t),[t]),s.getSnapshot!==e||i||Et!==null&&Et.memoizedState.tag&1){if(n.flags|=2048,oc(9,O1.bind(null,n,s,r,e),void 0,null),Tt===null)throw Error(U(349));qi&30||M1(n,e,r)}return r}function M1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function O1(t,e,n,s){e.value=n,e.getSnapshot=s,L1(e)&&F1(t)}function D1(t,e,n){return n(function(){L1(e)&&F1(t)})}function L1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gs(t,n)}catch{return!0}}function F1(t){var e=ir(t,1);e!==null&&fs(e,t,1,-1)}function Nw(t){var e=Cs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ic,lastRenderedState:t},e.queue=t,t=t.dispatch=NP.bind(null,st,t),[e.memoizedState,t]}function oc(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function $1(){return Vn().memoizedState}function Wu(t,e,n,s){var r=Cs();st.flags|=t,r.memoizedState=oc(1|e,n,void 0,s===void 0?null:s)}function Eh(t,e,n,s){var r=Vn();s=s===void 0?null:s;var i=void 0;if(vt!==null){var a=vt.memoizedState;if(i=a.destroy,s!==null&&dx(s,a.deps)){r.memoizedState=oc(e,n,i,s);return}}st.flags|=t,r.memoizedState=oc(1|e,n,i,s)}function Cw(t,e){return Wu(8390656,8,t,e)}function mx(t,e){return Eh(2048,8,t,e)}function U1(t,e){return Eh(4,2,t,e)}function z1(t,e){return Eh(4,4,t,e)}function B1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function V1(t,e,n){return n=n!=null?n.concat([t]):null,Eh(4,4,B1.bind(null,e,t),n)}function px(){}function W1(t,e){var n=Vn();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&dx(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function H1(t,e){var n=Vn();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&dx(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function G1(t,e,n){return qi&21?(gs(n,e)||(n=X_(),st.lanes|=n,Yi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,an=!0),t.memoizedState=n)}function bP(t,e){var n=$e;$e=n!==0&&4>n?n:4,t(!0);var s=rm.transition;rm.transition={};try{t(!1),e()}finally{$e=n,rm.transition=s}}function K1(){return Vn().memoizedState}function _P(t,e,n){var s=Zr(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Q1(t))q1(e,n);else if(n=T1(t,e,n,s),n!==null){var r=Xt();fs(n,t,s,r),Y1(n,e,s)}}function NP(t,e,n){var s=Zr(t),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Q1(t))q1(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(r.hasEagerState=!0,r.eagerState=l,gs(l,a)){var c=e.interleaved;c===null?(r.next=r,ox(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}n=T1(t,e,r,s),n!==null&&(r=Xt(),fs(n,t,s,r),Y1(n,e,s))}}function Q1(t){var e=t.alternate;return t===st||e!==null&&e===st}function q1(t,e){Pl=Cd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Y1(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Gg(t,n)}}var Sd={readContext:Bn,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},CP={readContext:Bn,useCallback:function(t,e){return Cs().memoizedState=[t,e===void 0?null:e],t},useContext:Bn,useEffect:Cw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wu(4194308,4,B1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wu(4,2,t,e)},useMemo:function(t,e){var n=Cs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Cs();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=_P.bind(null,st,t),[s.memoizedState,t]},useRef:function(t){var e=Cs();return t={current:t},e.memoizedState=t},useState:Nw,useDebugValue:px,useDeferredValue:function(t){return Cs().memoizedState=t},useTransition:function(){var t=Nw(!1),e=t[0];return t=bP.bind(null,t[1]),Cs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=st,r=Cs();if(et){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Tt===null)throw Error(U(349));qi&30||M1(s,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,Cw(D1.bind(null,s,i,t),[t]),s.flags|=2048,oc(9,O1.bind(null,s,i,n,e),void 0,null),n},useId:function(){var t=Cs(),e=Tt.identifierPrefix;if(et){var n=Qs,s=Ks;n=(s&~(1<<32-hs(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=rc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},SP={readContext:Bn,useCallback:W1,useContext:Bn,useEffect:mx,useImperativeHandle:V1,useInsertionEffect:U1,useLayoutEffect:z1,useMemo:H1,useReducer:im,useRef:$1,useState:function(){return im(ic)},useDebugValue:px,useDeferredValue:function(t){var e=Vn();return G1(e,vt.memoizedState,t)},useTransition:function(){var t=im(ic)[0],e=Vn().memoizedState;return[t,e]},useMutableSource:P1,useSyncExternalStore:A1,useId:K1,unstable_isNewReconciler:!1},EP={readContext:Bn,useCallback:W1,useContext:Bn,useEffect:mx,useImperativeHandle:V1,useInsertionEffect:U1,useLayoutEffect:z1,useMemo:H1,useReducer:om,useRef:$1,useState:function(){return om(ic)},useDebugValue:px,useDeferredValue:function(t){var e=Vn();return vt===null?e.memoizedState=t:G1(e,vt.memoizedState,t)},useTransition:function(){var t=om(ic)[0],e=Vn().memoizedState;return[t,e]},useMutableSource:P1,useSyncExternalStore:A1,useId:K1,unstable_isNewReconciler:!1};function es(t,e){if(t&&t.defaultProps){e=rt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function vp(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:rt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var jh={isMounted:function(t){return(t=t._reactInternals)?po(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Xt(),r=Zr(t),i=Js(s,r);i.payload=e,n!=null&&(i.callback=n),e=Xr(t,i,r),e!==null&&(fs(e,t,r,s),Bu(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Xt(),r=Zr(t),i=Js(s,r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Xr(t,i,r),e!==null&&(fs(e,t,r,s),Bu(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Xt(),s=Zr(t),r=Js(n,s);r.tag=2,e!=null&&(r.callback=e),e=Xr(t,r,s),e!==null&&(fs(e,t,s,n),Bu(e,t,s))}};function Sw(t,e,n,s,r,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,a):e.prototype&&e.prototype.isPureReactComponent?!Jl(n,s)||!Jl(r,i):!0}function X1(t,e,n){var s=!1,r=fi,i=e.contextType;return typeof i=="object"&&i!==null?i=Bn(i):(r=hn(e)?Ki:Ht.current,s=e.contextTypes,i=(s=s!=null)?ga(t,r):fi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=jh,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function Ew(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&jh.enqueueReplaceState(e,e.state,null)}function yp(t,e,n,s){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},ax(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=Bn(i):(i=hn(e)?Ki:Ht.current,r.context=ga(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(vp(t,e,i,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&jh.enqueueReplaceState(r,r.state,null),_d(t,n,r,s),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function wa(t,e){try{var n="",s=e;do n+=e2(s),s=s.return;while(s);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function am(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function wp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var jP=typeof WeakMap=="function"?WeakMap:Map;function J1(t,e,n){n=Js(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){jd||(jd=!0,Ip=s),wp(t,e)},n}function Z1(t,e,n){n=Js(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;n.payload=function(){return s(r)},n.callback=function(){wp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){wp(t,e),typeof s!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function jw(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new jP;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(r.add(n),t=zP.bind(null,t,e,n),e.then(t,t))}function kw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Tw(t,e,n,s,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Js(-1,1),e.tag=2,Xr(n,e,1))),n.lanes|=1),t)}var kP=mr.ReactCurrentOwner,an=!1;function Qt(t,e,n,s){e.child=t===null?k1(e,null,n,s):va(e,t.child,n,s)}function Iw(t,e,n,s,r){n=n.render;var i=e.ref;return qo(e,r),s=hx(t,e,n,s,i,r),n=fx(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,or(t,e,r)):(et&&n&&ex(e),e.flags|=1,Qt(t,e,s,r),e.child)}function Rw(t,e,n,s,r){if(t===null){var i=n.type;return typeof i=="function"&&!Nx(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,eN(t,e,i,s,r)):(t=Qu(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Jl,n(a,s)&&t.ref===e.ref)return or(t,e,r)}return e.flags|=1,t=ei(i,s),t.ref=e.ref,t.return=e,e.child=t}function eN(t,e,n,s,r){if(t!==null){var i=t.memoizedProps;if(Jl(i,s)&&t.ref===e.ref)if(an=!1,e.pendingProps=s=i,(t.lanes&r)!==0)t.flags&131072&&(an=!0);else return e.lanes=t.lanes,or(t,e,r)}return bp(t,e,n,s,r)}function tN(t,e,n){var s=e.pendingProps,r=s.children,i=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Bo,xn),xn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ke(Bo,xn),xn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,Ke(Bo,xn),xn|=s}else i!==null?(s=i.baseLanes|n,e.memoizedState=null):s=n,Ke(Bo,xn),xn|=s;return Qt(t,e,r,n),e.child}function nN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bp(t,e,n,s,r){var i=hn(n)?Ki:Ht.current;return i=ga(e,i),qo(e,r),n=hx(t,e,n,s,i,r),s=fx(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,or(t,e,r)):(et&&s&&ex(e),e.flags|=1,Qt(t,e,n,r),e.child)}function Pw(t,e,n,s,r){if(hn(n)){var i=!0;xd(e)}else i=!1;if(qo(e,r),e.stateNode===null)Hu(t,e),X1(e,n,s),yp(e,n,s,r),s=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Bn(u):(u=hn(n)?Ki:Ht.current,u=ga(e,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==s||c!==u)&&Ew(e,a,s,u),kr=!1;var m=e.memoizedState;a.state=m,_d(e,s,a,r),c=e.memoizedState,l!==s||m!==c||dn.current||kr?(typeof h=="function"&&(vp(e,n,h,s),c=e.memoizedState),(l=kr||Sw(e,n,l,s,m,c,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=c),a.props=s,a.state=c,a.context=u,s=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{a=e.stateNode,I1(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:es(e.type,l),a.props=u,d=e.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Bn(c):(c=hn(n)?Ki:Ht.current,c=ga(e,c));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==d||m!==c)&&Ew(e,a,s,c),kr=!1,m=e.memoizedState,a.state=m,_d(e,s,a,r);var w=e.memoizedState;l!==d||m!==w||dn.current||kr?(typeof p=="function"&&(vp(e,n,p,s),w=e.memoizedState),(u=kr||Sw(e,n,u,s,m,w,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,w,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=w),a.props=s,a.state=w,a.context=c,s=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),s=!1)}return _p(t,e,n,s,i,r)}function _p(t,e,n,s,r,i){nN(t,e);var a=(e.flags&128)!==0;if(!s&&!a)return r&&xw(e,n,!1),or(t,e,i);s=e.stateNode,kP.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&a?(e.child=va(e,t.child,null,i),e.child=va(e,null,l,i)):Qt(t,e,l,i),e.memoizedState=s.state,r&&xw(e,n,!0),e.child}function sN(t){var e=t.stateNode;e.pendingContext?gw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&gw(t,e.context,!1),lx(t,e.containerInfo)}function Aw(t,e,n,s,r){return xa(),nx(r),e.flags|=256,Qt(t,e,n,s),e.child}var Np={dehydrated:null,treeContext:null,retryLane:0};function Cp(t){return{baseLanes:t,cachePool:null,transitions:null}}function rN(t,e,n){var s=e.pendingProps,r=nt.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(r&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Ke(nt,r&1),t===null)return gp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=s.children,t=s.fallback,i?(s=e.mode,i=e.child,a={mode:"hidden",children:a},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Ih(a,s,0,null),t=Wi(t,s,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Cp(n),e.memoizedState=Np,t):gx(e,a));if(r=t.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return TP(t,e,a,s,l,r,n);if(i){i=s.fallback,a=e.mode,r=t.child,l=r.sibling;var c={mode:"hidden",children:s.children};return!(a&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=c,e.deletions=null):(s=ei(r,c),s.subtreeFlags=r.subtreeFlags&14680064),l!==null?i=ei(l,i):(i=Wi(i,a,n,null),i.flags|=2),i.return=e,s.return=e,s.sibling=i,e.child=s,s=i,i=e.child,a=t.child.memoizedState,a=a===null?Cp(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=Np,s}return i=t.child,t=i.sibling,s=ei(i,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function gx(t,e){return e=Ih({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function wu(t,e,n,s){return s!==null&&nx(s),va(e,t.child,null,n),t=gx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function TP(t,e,n,s,r,i,a){if(n)return e.flags&256?(e.flags&=-257,s=am(Error(U(422))),wu(t,e,a,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=s.fallback,r=e.mode,s=Ih({mode:"visible",children:s.children},r,0,null),i=Wi(i,r,a,null),i.flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,e.mode&1&&va(e,t.child,null,a),e.child.memoizedState=Cp(a),e.memoizedState=Np,i);if(!(e.mode&1))return wu(t,e,a,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(U(419)),s=am(i,s,void 0),wu(t,e,a,s)}if(l=(a&t.childLanes)!==0,an||l){if(s=Tt,s!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|a)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,ir(t,r),fs(s,t,r,-1))}return _x(),s=am(Error(U(421))),wu(t,e,a,s)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=BP.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,wn=Yr(r.nextSibling),_n=e,et=!0,is=null,t!==null&&(Pn[An++]=Ks,Pn[An++]=Qs,Pn[An++]=Qi,Ks=t.id,Qs=t.overflow,Qi=e),e=gx(e,s.children),e.flags|=4096,e)}function Mw(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),xp(t.return,e,n)}function lm(t,e,n,s,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function iN(t,e,n){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if(Qt(t,e,s.children,n),s=nt.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mw(t,n,e);else if(t.tag===19)Mw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(Ke(nt,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Nd(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),lm(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Nd(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}lm(e,!0,n,null,i);break;case"together":lm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Hu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function or(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Yi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=ei(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ei(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function IP(t,e,n){switch(e.tag){case 3:sN(e),xa();break;case 5:R1(e);break;case 1:hn(e.type)&&xd(e);break;case 4:lx(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;Ke(wd,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(Ke(nt,nt.current&1),e.flags|=128,null):n&e.child.childLanes?rN(t,e,n):(Ke(nt,nt.current&1),t=or(t,e,n),t!==null?t.sibling:null);Ke(nt,nt.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return iN(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ke(nt,nt.current),s)break;return null;case 22:case 23:return e.lanes=0,tN(t,e,n)}return or(t,e,n)}var oN,Sp,aN,lN;oN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sp=function(){};aN=function(t,e,n,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,Mi(Ps.current);var i=null;switch(n){case"input":r=Km(t,r),s=Km(t,s),i=[];break;case"select":r=rt({},r,{value:void 0}),s=rt({},s,{value:void 0}),i=[];break;case"textarea":r=Ym(t,r),s=Ym(t,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=pd)}Jm(n,s);var a;n=null;for(u in r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var l=r[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Hl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var c=s[u];if(l=r!=null?r[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Hl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&qe("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};lN=function(t,e,n,s){n!==s&&(e.flags|=4)};function ul(t,e){if(!et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function RP(t,e,n){var s=e.pendingProps;switch(tx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(e),null;case 1:return hn(e.type)&&gd(),Bt(e),null;case 3:return s=e.stateNode,ya(),Ye(dn),Ye(Ht),ux(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(vu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,is!==null&&(Ap(is),is=null))),Sp(t,e),Bt(e),null;case 5:cx(e);var r=Mi(sc.current);if(n=e.type,t!==null&&e.stateNode!=null)aN(t,e,n,s,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(U(166));return Bt(e),null}if(t=Mi(Ps.current),vu(e)){s=e.stateNode,n=e.type;var i=e.memoizedProps;switch(s[ks]=e,s[tc]=i,t=(e.mode&1)!==0,n){case"dialog":qe("cancel",s),qe("close",s);break;case"iframe":case"object":case"embed":qe("load",s);break;case"video":case"audio":for(r=0;r<_l.length;r++)qe(_l[r],s);break;case"source":qe("error",s);break;case"img":case"image":case"link":qe("error",s),qe("load",s);break;case"details":qe("toggle",s);break;case"input":Vy(s,i),qe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},qe("invalid",s);break;case"textarea":Hy(s,i),qe("invalid",s)}Jm(n,i),r=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&xu(s.textContent,l,t),r=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&xu(s.textContent,l,t),r=["children",""+l]):Hl.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&qe("scroll",s)}switch(n){case"input":cu(s),Wy(s,i,!0);break;case"textarea":cu(s),Gy(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=pd)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=D_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=a.createElement(n,{is:s.is}):(t=a.createElement(n),n==="select"&&(a=t,s.multiple?a.multiple=!0:s.size&&(a.size=s.size))):t=a.createElementNS(t,n),t[ks]=e,t[tc]=s,oN(t,e,!1,!1),e.stateNode=t;e:{switch(a=Zm(n,s),n){case"dialog":qe("cancel",t),qe("close",t),r=s;break;case"iframe":case"object":case"embed":qe("load",t),r=s;break;case"video":case"audio":for(r=0;r<_l.length;r++)qe(_l[r],t);r=s;break;case"source":qe("error",t),r=s;break;case"img":case"image":case"link":qe("error",t),qe("load",t),r=s;break;case"details":qe("toggle",t),r=s;break;case"input":Vy(t,s),r=Km(t,s),qe("invalid",t);break;case"option":r=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=rt({},s,{value:void 0}),qe("invalid",t);break;case"textarea":Hy(t,s),r=Ym(t,s),qe("invalid",t);break;default:r=s}Jm(n,r),l=r;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?$_(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&L_(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Gl(t,c):typeof c=="number"&&Gl(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Hl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&qe("scroll",t):c!=null&&Ug(t,i,c,a))}switch(n){case"input":cu(t),Wy(t,s,!1);break;case"textarea":cu(t),Gy(t);break;case"option":s.value!=null&&t.setAttribute("value",""+hi(s.value));break;case"select":t.multiple=!!s.multiple,i=s.value,i!=null?Ho(t,!!s.multiple,i,!1):s.defaultValue!=null&&Ho(t,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=pd)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Bt(e),null;case 6:if(t&&e.stateNode!=null)lN(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(U(166));if(n=Mi(sc.current),Mi(Ps.current),vu(e)){if(s=e.stateNode,n=e.memoizedProps,s[ks]=e,(i=s.nodeValue!==n)&&(t=_n,t!==null))switch(t.tag){case 3:xu(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xu(s.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[ks]=e,e.stateNode=s}return Bt(e),null;case 13:if(Ye(nt),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(et&&wn!==null&&e.mode&1&&!(e.flags&128))E1(),xa(),e.flags|=98560,i=!1;else if(i=vu(e),s!==null&&s.dehydrated!==null){if(t===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[ks]=e}else xa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Bt(e),i=!1}else is!==null&&(Ap(is),is=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||nt.current&1?_t===0&&(_t=3):_x())),e.updateQueue!==null&&(e.flags|=4),Bt(e),null);case 4:return ya(),Sp(t,e),t===null&&Zl(e.stateNode.containerInfo),Bt(e),null;case 10:return ix(e.type._context),Bt(e),null;case 17:return hn(e.type)&&gd(),Bt(e),null;case 19:if(Ye(nt),i=e.memoizedState,i===null)return Bt(e),null;if(s=(e.flags&128)!==0,a=i.rendering,a===null)if(s)ul(i,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Nd(t),a!==null){for(e.flags|=128,ul(i,!1),s=a.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)i=n,t=s,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ke(nt,nt.current&1|2),e.child}t=t.sibling}i.tail!==null&&dt()>ba&&(e.flags|=128,s=!0,ul(i,!1),e.lanes=4194304)}else{if(!s)if(t=Nd(a),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ul(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!et)return Bt(e),null}else 2*dt()-i.renderingStartTime>ba&&n!==1073741824&&(e.flags|=128,s=!0,ul(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=dt(),e.sibling=null,n=nt.current,Ke(nt,s?n&1|2:n&1),e):(Bt(e),null);case 22:case 23:return bx(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?xn&1073741824&&(Bt(e),e.subtreeFlags&6&&(e.flags|=8192)):Bt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function PP(t,e){switch(tx(e),e.tag){case 1:return hn(e.type)&&gd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ya(),Ye(dn),Ye(Ht),ux(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return cx(e),null;case 13:if(Ye(nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));xa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(nt),null;case 4:return ya(),null;case 10:return ix(e.type._context),null;case 22:case 23:return bx(),null;case 24:return null;default:return null}}var bu=!1,Wt=!1,AP=typeof WeakSet=="function"?WeakSet:Set,ne=null;function zo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){at(t,e,s)}else n.current=null}function Ep(t,e,n){try{n()}catch(s){at(t,e,s)}}var Ow=!1;function MP(t,e){if(cp=hd,t=f1(),Zg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=t,m=null;t:for(;;){for(var p;d!==n||r!==0&&d.nodeType!==3||(l=a+r),d!==i||s!==0&&d.nodeType!==3||(c=a+s),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)m=d,d=p;for(;;){if(d===t)break t;if(m===n&&++u===r&&(l=a),m===i&&++h===s&&(c=a),(p=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(up={focusedElem:t,selectionRange:n},hd=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var g=w.memoizedProps,b=w.memoizedState,x=e.stateNode,v=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:es(e.type,g),b);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(N){at(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return w=Ow,Ow=!1,w}function Al(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&Ep(e,n,i)}r=r.next}while(r!==s)}}function kh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function jp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function cN(t){var e=t.alternate;e!==null&&(t.alternate=null,cN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ks],delete e[tc],delete e[fp],delete e[gP],delete e[xP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function uN(t){return t.tag===5||t.tag===3||t.tag===4}function Dw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kp(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=pd));else if(s!==4&&(t=t.child,t!==null))for(kp(t,e,n),t=t.sibling;t!==null;)kp(t,e,n),t=t.sibling}function Tp(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(Tp(t,e,n),t=t.sibling;t!==null;)Tp(t,e,n),t=t.sibling}var Rt=null,rs=!1;function br(t,e,n){for(n=n.child;n!==null;)dN(t,e,n),n=n.sibling}function dN(t,e,n){if(Rs&&typeof Rs.onCommitFiberUnmount=="function")try{Rs.onCommitFiberUnmount(wh,n)}catch{}switch(n.tag){case 5:Wt||zo(n,e);case 6:var s=Rt,r=rs;Rt=null,br(t,e,n),Rt=s,rs=r,Rt!==null&&(rs?(t=Rt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Rt.removeChild(n.stateNode));break;case 18:Rt!==null&&(rs?(t=Rt,n=n.stateNode,t.nodeType===8?tm(t.parentNode,n):t.nodeType===1&&tm(t,n),Yl(t)):tm(Rt,n.stateNode));break;case 4:s=Rt,r=rs,Rt=n.stateNode.containerInfo,rs=!0,br(t,e,n),Rt=s,rs=r;break;case 0:case 11:case 14:case 15:if(!Wt&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Ep(n,e,a),r=r.next}while(r!==s)}br(t,e,n);break;case 1:if(!Wt&&(zo(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){at(n,e,l)}br(t,e,n);break;case 21:br(t,e,n);break;case 22:n.mode&1?(Wt=(s=Wt)||n.memoizedState!==null,br(t,e,n),Wt=s):br(t,e,n);break;default:br(t,e,n)}}function Lw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new AP),e.forEach(function(s){var r=VP.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}}function Xn(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Rt=l.stateNode,rs=!1;break e;case 3:Rt=l.stateNode.containerInfo,rs=!0;break e;case 4:Rt=l.stateNode.containerInfo,rs=!0;break e}l=l.return}if(Rt===null)throw Error(U(160));dN(i,a,r),Rt=null,rs=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(u){at(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hN(e,t),e=e.sibling}function hN(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xn(e,t),Ns(t),s&4){try{Al(3,t,t.return),kh(3,t)}catch(g){at(t,t.return,g)}try{Al(5,t,t.return)}catch(g){at(t,t.return,g)}}break;case 1:Xn(e,t),Ns(t),s&512&&n!==null&&zo(n,n.return);break;case 5:if(Xn(e,t),Ns(t),s&512&&n!==null&&zo(n,n.return),t.flags&32){var r=t.stateNode;try{Gl(r,"")}catch(g){at(t,t.return,g)}}if(s&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&M_(r,i),Zm(l,a);var u=Zm(l,i);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];h==="style"?$_(r,d):h==="dangerouslySetInnerHTML"?L_(r,d):h==="children"?Gl(r,d):Ug(r,h,d,u)}switch(l){case"input":Qm(r,i);break;case"textarea":O_(r,i);break;case"select":var m=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ho(r,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?Ho(r,!!i.multiple,i.defaultValue,!0):Ho(r,!!i.multiple,i.multiple?[]:"",!1))}r[tc]=i}catch(g){at(t,t.return,g)}}break;case 6:if(Xn(e,t),Ns(t),s&4){if(t.stateNode===null)throw Error(U(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(g){at(t,t.return,g)}}break;case 3:if(Xn(e,t),Ns(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Yl(e.containerInfo)}catch(g){at(t,t.return,g)}break;case 4:Xn(e,t),Ns(t);break;case 13:Xn(e,t),Ns(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(yx=dt())),s&4&&Lw(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Wt=(u=Wt)||h,Xn(e,t),Wt=u):Xn(e,t),Ns(t),s&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(ne=t,h=t.child;h!==null;){for(d=ne=h;ne!==null;){switch(m=ne,p=m.child,m.tag){case 0:case 11:case 14:case 15:Al(4,m,m.return);break;case 1:zo(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){s=m,n=m.return;try{e=s,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(g){at(s,n,g)}}break;case 5:zo(m,m.return);break;case 22:if(m.memoizedState!==null){$w(d);continue}}p!==null?(p.return=m,ne=p):$w(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{r=d.stateNode,u?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,c=d.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=F_("display",a))}catch(g){at(t,t.return,g)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){at(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Xn(e,t),Ns(t),s&4&&Lw(t);break;case 21:break;default:Xn(e,t),Ns(t)}}function Ns(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(uN(n)){var s=n;break e}n=n.return}throw Error(U(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(Gl(r,""),s.flags&=-33);var i=Dw(t);Tp(t,i,r);break;case 3:case 4:var a=s.stateNode.containerInfo,l=Dw(t);kp(t,l,a);break;default:throw Error(U(161))}}catch(c){at(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function OP(t,e,n){ne=t,fN(t)}function fN(t,e,n){for(var s=(t.mode&1)!==0;ne!==null;){var r=ne,i=r.child;if(r.tag===22&&s){var a=r.memoizedState!==null||bu;if(!a){var l=r.alternate,c=l!==null&&l.memoizedState!==null||Wt;l=bu;var u=Wt;if(bu=a,(Wt=c)&&!u)for(ne=r;ne!==null;)a=ne,c=a.child,a.tag===22&&a.memoizedState!==null?Uw(r):c!==null?(c.return=a,ne=c):Uw(r);for(;i!==null;)ne=i,fN(i),i=i.sibling;ne=r,bu=l,Wt=u}Fw(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,ne=i):Fw(t)}}function Fw(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wt||kh(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Wt)if(n===null)s.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:es(e.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&_w(e,i,s);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}_w(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Yl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Wt||e.flags&512&&jp(e)}catch(m){at(e,e.return,m)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function $w(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function Uw(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{kh(4,e)}catch(c){at(e,n,c)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(c){at(e,r,c)}}var i=e.return;try{jp(e)}catch(c){at(e,i,c)}break;case 5:var a=e.return;try{jp(e)}catch(c){at(e,a,c)}}}catch(c){at(e,e.return,c)}if(e===t){ne=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ne=l;break}ne=e.return}}var DP=Math.ceil,Ed=mr.ReactCurrentDispatcher,xx=mr.ReactCurrentOwner,Fn=mr.ReactCurrentBatchConfig,Me=0,Tt=null,pt=null,Mt=0,xn=0,Bo=wi(0),_t=0,ac=null,Yi=0,Th=0,vx=0,Ml=null,on=null,yx=0,ba=1/0,Ws=null,jd=!1,Ip=null,Jr=null,_u=!1,zr=null,kd=0,Ol=0,Rp=null,Gu=-1,Ku=0;function Xt(){return Me&6?dt():Gu!==-1?Gu:Gu=dt()}function Zr(t){return t.mode&1?Me&2&&Mt!==0?Mt&-Mt:yP.transition!==null?(Ku===0&&(Ku=X_()),Ku):(t=$e,t!==0||(t=window.event,t=t===void 0?16:r1(t.type)),t):1}function fs(t,e,n,s){if(50<Ol)throw Ol=0,Rp=null,Error(U(185));Mc(t,n,s),(!(Me&2)||t!==Tt)&&(t===Tt&&(!(Me&2)&&(Th|=n),_t===4&&Ir(t,Mt)),fn(t,s),n===1&&Me===0&&!(e.mode&1)&&(ba=dt()+500,Sh&&bi()))}function fn(t,e){var n=t.callbackNode;y2(t,e);var s=dd(t,t===Tt?Mt:0);if(s===0)n!==null&&qy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&qy(n),e===1)t.tag===0?vP(zw.bind(null,t)):N1(zw.bind(null,t)),mP(function(){!(Me&6)&&bi()}),n=null;else{switch(J_(s)){case 1:n=Hg;break;case 4:n=q_;break;case 16:n=ud;break;case 536870912:n=Y_;break;default:n=ud}n=bN(n,mN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function mN(t,e){if(Gu=-1,Ku=0,Me&6)throw Error(U(327));var n=t.callbackNode;if(Yo()&&t.callbackNode!==n)return null;var s=dd(t,t===Tt?Mt:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=Td(t,s);else{e=s;var r=Me;Me|=2;var i=gN();(Tt!==t||Mt!==e)&&(Ws=null,ba=dt()+500,Vi(t,e));do try{$P();break}catch(l){pN(t,l)}while(!0);rx(),Ed.current=i,Me=r,pt!==null?e=0:(Tt=null,Mt=0,e=_t)}if(e!==0){if(e===2&&(r=rp(t),r!==0&&(s=r,e=Pp(t,r))),e===1)throw n=ac,Vi(t,0),Ir(t,s),fn(t,dt()),n;if(e===6)Ir(t,s);else{if(r=t.current.alternate,!(s&30)&&!LP(r)&&(e=Td(t,s),e===2&&(i=rp(t),i!==0&&(s=i,e=Pp(t,i))),e===1))throw n=ac,Vi(t,0),Ir(t,s),fn(t,dt()),n;switch(t.finishedWork=r,t.finishedLanes=s,e){case 0:case 1:throw Error(U(345));case 2:Ti(t,on,Ws);break;case 3:if(Ir(t,s),(s&130023424)===s&&(e=yx+500-dt(),10<e)){if(dd(t,0)!==0)break;if(r=t.suspendedLanes,(r&s)!==s){Xt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=hp(Ti.bind(null,t,on,Ws),e);break}Ti(t,on,Ws);break;case 4:if(Ir(t,s),(s&4194240)===s)break;for(e=t.eventTimes,r=-1;0<s;){var a=31-hs(s);i=1<<a,a=e[a],a>r&&(r=a),s&=~i}if(s=r,s=dt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*DP(s/1960))-s,10<s){t.timeoutHandle=hp(Ti.bind(null,t,on,Ws),s);break}Ti(t,on,Ws);break;case 5:Ti(t,on,Ws);break;default:throw Error(U(329))}}}return fn(t,dt()),t.callbackNode===n?mN.bind(null,t):null}function Pp(t,e){var n=Ml;return t.current.memoizedState.isDehydrated&&(Vi(t,e).flags|=256),t=Td(t,e),t!==2&&(e=on,on=n,e!==null&&Ap(e)),t}function Ap(t){on===null?on=t:on.push.apply(on,t)}function LP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!gs(i(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ir(t,e){for(e&=~vx,e&=~Th,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hs(e),s=1<<n;t[n]=-1,e&=~s}}function zw(t){if(Me&6)throw Error(U(327));Yo();var e=dd(t,0);if(!(e&1))return fn(t,dt()),null;var n=Td(t,e);if(t.tag!==0&&n===2){var s=rp(t);s!==0&&(e=s,n=Pp(t,s))}if(n===1)throw n=ac,Vi(t,0),Ir(t,e),fn(t,dt()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ti(t,on,Ws),fn(t,dt()),null}function wx(t,e){var n=Me;Me|=1;try{return t(e)}finally{Me=n,Me===0&&(ba=dt()+500,Sh&&bi())}}function Xi(t){zr!==null&&zr.tag===0&&!(Me&6)&&Yo();var e=Me;Me|=1;var n=Fn.transition,s=$e;try{if(Fn.transition=null,$e=1,t)return t()}finally{$e=s,Fn.transition=n,Me=e,!(Me&6)&&bi()}}function bx(){xn=Bo.current,Ye(Bo)}function Vi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fP(n)),pt!==null)for(n=pt.return;n!==null;){var s=n;switch(tx(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&gd();break;case 3:ya(),Ye(dn),Ye(Ht),ux();break;case 5:cx(s);break;case 4:ya();break;case 13:Ye(nt);break;case 19:Ye(nt);break;case 10:ix(s.type._context);break;case 22:case 23:bx()}n=n.return}if(Tt=t,pt=t=ei(t.current,null),Mt=xn=e,_t=0,ac=null,vx=Th=Yi=0,on=Ml=null,Ai!==null){for(e=0;e<Ai.length;e++)if(n=Ai[e],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,i=n.pending;if(i!==null){var a=i.next;i.next=r,s.next=a}n.pending=s}Ai=null}return t}function pN(t,e){do{var n=pt;try{if(rx(),Vu.current=Sd,Cd){for(var s=st.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Cd=!1}if(qi=0,Et=vt=st=null,Pl=!1,rc=0,xx.current=null,n===null||n.return===null){_t=1,ac=e,pt=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=Mt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=kw(a);if(p!==null){p.flags&=-257,Tw(p,a,l,i,e),p.mode&1&&jw(i,u,e),e=p,c=u;var w=e.updateQueue;if(w===null){var g=new Set;g.add(c),e.updateQueue=g}else w.add(c);break e}else{if(!(e&1)){jw(i,u,e),_x();break e}c=Error(U(426))}}else if(et&&l.mode&1){var b=kw(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Tw(b,a,l,i,e),nx(wa(c,l));break e}}i=c=wa(c,l),_t!==4&&(_t=2),Ml===null?Ml=[i]:Ml.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=J1(i,c,e);bw(i,x);break e;case 1:l=c;var v=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Jr===null||!Jr.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=Z1(i,l,e);bw(i,N);break e}}i=i.return}while(i!==null)}vN(n)}catch(_){e=_,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(!0)}function gN(){var t=Ed.current;return Ed.current=Sd,t===null?Sd:t}function _x(){(_t===0||_t===3||_t===2)&&(_t=4),Tt===null||!(Yi&268435455)&&!(Th&268435455)||Ir(Tt,Mt)}function Td(t,e){var n=Me;Me|=2;var s=gN();(Tt!==t||Mt!==e)&&(Ws=null,Vi(t,e));do try{FP();break}catch(r){pN(t,r)}while(!0);if(rx(),Me=n,Ed.current=s,pt!==null)throw Error(U(261));return Tt=null,Mt=0,_t}function FP(){for(;pt!==null;)xN(pt)}function $P(){for(;pt!==null&&!u2();)xN(pt)}function xN(t){var e=wN(t.alternate,t,xn);t.memoizedProps=t.pendingProps,e===null?vN(t):pt=e,xx.current=null}function vN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=PP(n,e),n!==null){n.flags&=32767,pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,pt=null;return}}else if(n=RP(n,e,xn),n!==null){pt=n;return}if(e=e.sibling,e!==null){pt=e;return}pt=e=t}while(e!==null);_t===0&&(_t=5)}function Ti(t,e,n){var s=$e,r=Fn.transition;try{Fn.transition=null,$e=1,UP(t,e,n,s)}finally{Fn.transition=r,$e=s}return null}function UP(t,e,n,s){do Yo();while(zr!==null);if(Me&6)throw Error(U(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(w2(t,i),t===Tt&&(pt=Tt=null,Mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_u||(_u=!0,bN(ud,function(){return Yo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Fn.transition,Fn.transition=null;var a=$e;$e=1;var l=Me;Me|=4,xx.current=null,MP(t,n),hN(n,t),oP(up),hd=!!cp,up=cp=null,t.current=n,OP(n),d2(),Me=l,$e=a,Fn.transition=i}else t.current=n;if(_u&&(_u=!1,zr=t,kd=r),i=t.pendingLanes,i===0&&(Jr=null),m2(n.stateNode),fn(t,dt()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(jd)throw jd=!1,t=Ip,Ip=null,t;return kd&1&&t.tag!==0&&Yo(),i=t.pendingLanes,i&1?t===Rp?Ol++:(Ol=0,Rp=t):Ol=0,bi(),null}function Yo(){if(zr!==null){var t=J_(kd),e=Fn.transition,n=$e;try{if(Fn.transition=null,$e=16>t?16:t,zr===null)var s=!1;else{if(t=zr,zr=null,kd=0,Me&6)throw Error(U(331));var r=Me;for(Me|=4,ne=t.current;ne!==null;){var i=ne,a=i.child;if(ne.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ne=u;ne!==null;){var h=ne;switch(h.tag){case 0:case 11:case 15:Al(8,h,i)}var d=h.child;if(d!==null)d.return=h,ne=d;else for(;ne!==null;){h=ne;var m=h.sibling,p=h.return;if(cN(h),h===u){ne=null;break}if(m!==null){m.return=p,ne=m;break}ne=p}}}var w=i.alternate;if(w!==null){var g=w.child;if(g!==null){w.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}ne=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ne=a;else e:for(;ne!==null;){if(i=ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Al(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,ne=x;break e}ne=i.return}}var v=t.current;for(ne=v;ne!==null;){a=ne;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,ne=y;else e:for(a=v;ne!==null;){if(l=ne,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:kh(9,l)}}catch(_){at(l,l.return,_)}if(l===a){ne=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,ne=N;break e}ne=l.return}}if(Me=r,bi(),Rs&&typeof Rs.onPostCommitFiberRoot=="function")try{Rs.onPostCommitFiberRoot(wh,t)}catch{}s=!0}return s}finally{$e=n,Fn.transition=e}}return!1}function Bw(t,e,n){e=wa(n,e),e=J1(t,e,1),t=Xr(t,e,1),e=Xt(),t!==null&&(Mc(t,1,e),fn(t,e))}function at(t,e,n){if(t.tag===3)Bw(t,t,n);else for(;e!==null;){if(e.tag===3){Bw(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Jr===null||!Jr.has(s))){t=wa(n,t),t=Z1(e,t,1),e=Xr(e,t,1),t=Xt(),e!==null&&(Mc(e,1,t),fn(e,t));break}}e=e.return}}function zP(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=Xt(),t.pingedLanes|=t.suspendedLanes&n,Tt===t&&(Mt&n)===n&&(_t===4||_t===3&&(Mt&130023424)===Mt&&500>dt()-yx?Vi(t,0):vx|=n),fn(t,e)}function yN(t,e){e===0&&(t.mode&1?(e=hu,hu<<=1,!(hu&130023424)&&(hu=4194304)):e=1);var n=Xt();t=ir(t,e),t!==null&&(Mc(t,e,n),fn(t,n))}function BP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),yN(t,n)}function VP(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(U(314))}s!==null&&s.delete(e),yN(t,n)}var wN;wN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||dn.current)an=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return an=!1,IP(t,e,n);an=!!(t.flags&131072)}else an=!1,et&&e.flags&1048576&&C1(e,yd,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Hu(t,e),t=e.pendingProps;var r=ga(e,Ht.current);qo(e,n),r=hx(null,e,s,t,r,n);var i=fx();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,hn(s)?(i=!0,xd(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,ax(e),r.updater=jh,e.stateNode=r,r._reactInternals=e,yp(e,s,t,n),e=_p(null,e,s,!0,i,n)):(e.tag=0,et&&i&&ex(e),Qt(null,e,r,n),e=e.child),e;case 16:s=e.elementType;e:{switch(Hu(t,e),t=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=HP(s),t=es(s,t),r){case 0:e=bp(null,e,s,t,n);break e;case 1:e=Pw(null,e,s,t,n);break e;case 11:e=Iw(null,e,s,t,n);break e;case 14:e=Rw(null,e,s,es(s.type,t),n);break e}throw Error(U(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:es(s,r),bp(t,e,s,r,n);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:es(s,r),Pw(t,e,s,r,n);case 3:e:{if(sN(e),t===null)throw Error(U(387));s=e.pendingProps,i=e.memoizedState,r=i.element,I1(t,e),_d(e,s,null,n);var a=e.memoizedState;if(s=a.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=wa(Error(U(423)),e),e=Aw(t,e,s,n,r);break e}else if(s!==r){r=wa(Error(U(424)),e),e=Aw(t,e,s,n,r);break e}else for(wn=Yr(e.stateNode.containerInfo.firstChild),_n=e,et=!0,is=null,n=k1(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xa(),s===r){e=or(t,e,n);break e}Qt(t,e,s,n)}e=e.child}return e;case 5:return R1(e),t===null&&gp(e),s=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,a=r.children,dp(s,r)?a=null:i!==null&&dp(s,i)&&(e.flags|=32),nN(t,e),Qt(t,e,a,n),e.child;case 6:return t===null&&gp(e),null;case 13:return rN(t,e,n);case 4:return lx(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=va(e,null,s,n):Qt(t,e,s,n),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:es(s,r),Iw(t,e,s,r,n);case 7:return Qt(t,e,e.pendingProps,n),e.child;case 8:return Qt(t,e,e.pendingProps.children,n),e.child;case 12:return Qt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,i=e.memoizedProps,a=r.value,Ke(wd,s._currentValue),s._currentValue=a,i!==null)if(gs(i.value,a)){if(i.children===r.children&&!dn.current){e=or(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Js(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),xp(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(U(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),xp(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Qt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,qo(e,n),r=Bn(r),s=s(r),e.flags|=1,Qt(t,e,s,n),e.child;case 14:return s=e.type,r=es(s,e.pendingProps),r=es(s.type,r),Rw(t,e,s,r,n);case 15:return eN(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:es(s,r),Hu(t,e),e.tag=1,hn(s)?(t=!0,xd(e)):t=!1,qo(e,n),X1(e,s,r),yp(e,s,r,n),_p(null,e,s,!0,t,n);case 19:return iN(t,e,n);case 22:return tN(t,e,n)}throw Error(U(156,e.tag))};function bN(t,e){return Q_(t,e)}function WP(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,e,n,s){return new WP(t,e,n,s)}function Nx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HP(t){if(typeof t=="function")return Nx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Bg)return 11;if(t===Vg)return 14}return 2}function ei(t,e){var n=t.alternate;return n===null?(n=Dn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qu(t,e,n,s,r,i){var a=2;if(s=t,typeof t=="function")Nx(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Po:return Wi(n.children,r,i,e);case zg:a=8,r|=8;break;case Vm:return t=Dn(12,n,e,r|2),t.elementType=Vm,t.lanes=i,t;case Wm:return t=Dn(13,n,e,r),t.elementType=Wm,t.lanes=i,t;case Hm:return t=Dn(19,n,e,r),t.elementType=Hm,t.lanes=i,t;case R_:return Ih(n,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case T_:a=10;break e;case I_:a=9;break e;case Bg:a=11;break e;case Vg:a=14;break e;case jr:a=16,s=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Dn(a,n,e,r),e.elementType=t,e.type=s,e.lanes=i,e}function Wi(t,e,n,s){return t=Dn(7,t,s,e),t.lanes=n,t}function Ih(t,e,n,s){return t=Dn(22,t,s,e),t.elementType=R_,t.lanes=n,t.stateNode={isHidden:!1},t}function cm(t,e,n){return t=Dn(6,t,null,e),t.lanes=n,t}function um(t,e,n){return e=Dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function GP(t,e,n,s,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wf(0),this.expirationTimes=Wf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wf(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Cx(t,e,n,s,r,i,a,l,c){return t=new GP(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Dn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ax(i),t}function KP(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ro,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function _N(t){if(!t)return fi;t=t._reactInternals;e:{if(po(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(hn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(hn(n))return _1(t,n,e)}return e}function NN(t,e,n,s,r,i,a,l,c){return t=Cx(n,s,!0,t,r,i,a,l,c),t.context=_N(null),n=t.current,s=Xt(),r=Zr(n),i=Js(s,r),i.callback=e??null,Xr(n,i,r),t.current.lanes=r,Mc(t,r,s),fn(t,s),t}function Rh(t,e,n,s){var r=e.current,i=Xt(),a=Zr(r);return n=_N(n),e.context===null?e.context=n:e.pendingContext=n,e=Js(i,a),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=Xr(r,e,a),t!==null&&(fs(t,r,a,i),Bu(t,r,a)),a}function Id(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Sx(t,e){Vw(t,e),(t=t.alternate)&&Vw(t,e)}function QP(){return null}var CN=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ex(t){this._internalRoot=t}Ph.prototype.render=Ex.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Rh(t,e,null,null)};Ph.prototype.unmount=Ex.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xi(function(){Rh(null,t,null,null)}),e[rr]=null}};function Ph(t){this._internalRoot=t}Ph.prototype.unstable_scheduleHydration=function(t){if(t){var e=t1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Tr.length&&e!==0&&e<Tr[n].priority;n++);Tr.splice(n,0,t),n===0&&s1(t)}};function jx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ah(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ww(){}function qP(t,e,n,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var u=Id(a);i.call(u)}}var a=NN(e,s,t,0,null,!1,!1,"",Ww);return t._reactRootContainer=a,t[rr]=a.current,Zl(t.nodeType===8?t.parentNode:t),Xi(),a}for(;r=t.lastChild;)t.removeChild(r);if(typeof s=="function"){var l=s;s=function(){var u=Id(c);l.call(u)}}var c=Cx(t,0,!1,null,null,!1,!1,"",Ww);return t._reactRootContainer=c,t[rr]=c.current,Zl(t.nodeType===8?t.parentNode:t),Xi(function(){Rh(e,c,n,s)}),c}function Mh(t,e,n,s,r){var i=n._reactRootContainer;if(i){var a=i;if(typeof r=="function"){var l=r;r=function(){var c=Id(a);l.call(c)}}Rh(e,a,t,r)}else a=qP(n,e,t,r,s);return Id(a)}Z_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=bl(e.pendingLanes);n!==0&&(Gg(e,n|1),fn(e,dt()),!(Me&6)&&(ba=dt()+500,bi()))}break;case 13:Xi(function(){var s=ir(t,1);if(s!==null){var r=Xt();fs(s,t,1,r)}}),Sx(t,1)}};Kg=function(t){if(t.tag===13){var e=ir(t,134217728);if(e!==null){var n=Xt();fs(e,t,134217728,n)}Sx(t,134217728)}};e1=function(t){if(t.tag===13){var e=Zr(t),n=ir(t,e);if(n!==null){var s=Xt();fs(n,t,e,s)}Sx(t,e)}};t1=function(){return $e};n1=function(t,e){var n=$e;try{return $e=t,e()}finally{$e=n}};tp=function(t,e,n){switch(e){case"input":if(Qm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=Ch(s);if(!r)throw Error(U(90));A_(s),Qm(s,r)}}}break;case"textarea":O_(t,n);break;case"select":e=n.value,e!=null&&Ho(t,!!n.multiple,e,!1)}};B_=wx;V_=Xi;var YP={usingClientEntryPoint:!1,Events:[Dc,Do,Ch,U_,z_,wx]},dl={findFiberByHostInstance:Pi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XP={bundleType:dl.bundleType,version:dl.version,rendererPackageName:dl.rendererPackageName,rendererConfig:dl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=G_(t),t===null?null:t.stateNode},findFiberByHostInstance:dl.findFiberByHostInstance||QP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nu.isDisabled&&Nu.supportsFiber)try{wh=Nu.inject(XP),Rs=Nu}catch{}}kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YP;kn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jx(e))throw Error(U(200));return KP(t,e,null,n)};kn.createRoot=function(t,e){if(!jx(t))throw Error(U(299));var n=!1,s="",r=CN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Cx(t,1,!1,null,null,n,!1,s,r),t[rr]=e.current,Zl(t.nodeType===8?t.parentNode:t),new Ex(e)};kn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=G_(e),t=t===null?null:t.stateNode,t};kn.flushSync=function(t){return Xi(t)};kn.hydrate=function(t,e,n){if(!Ah(e))throw Error(U(200));return Mh(null,t,e,!0,n)};kn.hydrateRoot=function(t,e,n){if(!jx(t))throw Error(U(405));var s=n!=null&&n.hydratedSources||null,r=!1,i="",a=CN;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=NN(e,null,t,1,n??null,r,!1,i,a),t[rr]=e.current,Zl(t),s)for(t=0;t<s.length;t++)n=s[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Ph(e)};kn.render=function(t,e,n){if(!Ah(e))throw Error(U(200));return Mh(null,t,e,!1,n)};kn.unmountComponentAtNode=function(t){if(!Ah(t))throw Error(U(40));return t._reactRootContainer?(Xi(function(){Mh(null,null,t,!1,function(){t._reactRootContainer=null,t[rr]=null})}),!0):!1};kn.unstable_batchedUpdates=wx;kn.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!Ah(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Mh(t,e,n,!1,s)};kn.version="18.3.1-next-f1338f8080-20240426";function SN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SN)}catch(t){console.error(t)}}SN(),S_.exports=kn;var go=S_.exports;const EN=f_(go);var jN,Hw=go;jN=Hw.createRoot,Hw.hydrateRoot;const JP=1,ZP=1e6;let dm=0;function eA(){return dm=(dm+1)%Number.MAX_SAFE_INTEGER,dm.toString()}const hm=new Map,Gw=t=>{if(hm.has(t))return;const e=setTimeout(()=>{hm.delete(t),Dl({type:"REMOVE_TOAST",toastId:t})},ZP);hm.set(t,e)},tA=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,JP)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Gw(n):t.toasts.forEach(s=>{Gw(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},qu=[];let Yu={toasts:[]};function Dl(t){Yu=tA(Yu,t),qu.forEach(e=>{e(Yu)})}function X({...t}){const e=eA(),n=r=>Dl({type:"UPDATE_TOAST",toast:{...r,id:e}}),s=()=>Dl({type:"DISMISS_TOAST",toastId:e});return Dl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:r=>{r||s()}}}),{id:e,dismiss:s,update:n}}function nA(){const[t,e]=f.useState(Yu);return f.useEffect(()=>(qu.push(e),()=>{const n=qu.indexOf(e);n>-1&&qu.splice(n,1)}),[t]),{...t,toast:X,dismiss:n=>Dl({type:"DISMISS_TOAST",toastId:n})}}function H(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function Kw(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Oh(...t){return e=>{let n=!1;const s=t.map(r=>{const i=Kw(r,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let r=0;r<s.length;r++){const i=s[r];typeof i=="function"?i():Kw(t[r],null)}}}}function Ne(...t){return f.useCallback(Oh(...t),t)}function sA(t,e){const n=f.createContext(e),s=i=>{const{children:a,...l}=i,c=f.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};s.displayName=t+"Provider";function r(i){const a=f.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[s,r]}function It(t,e=[]){let n=[];function s(i,a){const l=f.createContext(a),c=n.length;n=[...n,a];const u=d=>{var x;const{scope:m,children:p,...w}=d,g=((x=m==null?void 0:m[t])==null?void 0:x[c])||l,b=f.useMemo(()=>w,Object.values(w));return o.jsx(g.Provider,{value:b,children:p})};u.displayName=i+"Provider";function h(d,m){var g;const p=((g=m==null?void 0:m[t])==null?void 0:g[c])||l,w=f.useContext(p);if(w)return w;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[u,h]}const r=()=>{const i=n.map(a=>f.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return f.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return r.scopeName=t,[s,rA(r,...e)]}function rA(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const a=s.reduce((l,{useScope:c,scopeName:u})=>{const d=c(i)[`__scope${u}`];return{...l,...d}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function Ji(t){const e=oA(t),n=f.forwardRef((s,r)=>{const{children:i,...a}=s,l=f.Children.toArray(i),c=l.find(lA);if(c){const u=c.props.children,h=l.map(d=>d===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:d);return o.jsx(e,{...a,ref:r,children:f.isValidElement(u)?f.cloneElement(u,void 0,h):null})}return o.jsx(e,{...a,ref:r,children:i})});return n.displayName=`${t}.Slot`,n}var iA=Ji("Slot");function oA(t){const e=f.forwardRef((n,s)=>{const{children:r,...i}=n;if(f.isValidElement(r)){const a=uA(r),l=cA(i,r.props);return r.type!==f.Fragment&&(l.ref=s?Oh(s,a):a),f.cloneElement(r,l)}return f.Children.count(r)>1?f.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var kN=Symbol("radix.slottable");function aA(t){const e=({children:n})=>o.jsx(o.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=kN,e}function lA(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===kN}function cA(t,e){const n={...e};for(const s in e){const r=t[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...l)=>{const c=i(...l);return r(...l),c}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...t,...n}}function uA(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Fc(t){const e=t+"CollectionProvider",[n,s]=It(e),[r,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:b,children:x}=g,v=F.useRef(null),y=F.useRef(new Map).current;return o.jsx(r,{scope:b,itemMap:y,collectionRef:v,children:x})};a.displayName=e;const l=t+"CollectionSlot",c=Ji(l),u=F.forwardRef((g,b)=>{const{scope:x,children:v}=g,y=i(l,x),N=Ne(b,y.collectionRef);return o.jsx(c,{ref:N,children:v})});u.displayName=l;const h=t+"CollectionItemSlot",d="data-radix-collection-item",m=Ji(h),p=F.forwardRef((g,b)=>{const{scope:x,children:v,...y}=g,N=F.useRef(null),_=Ne(b,N),S=i(h,x);return F.useEffect(()=>(S.itemMap.set(N,{ref:N,...y}),()=>void S.itemMap.delete(N))),o.jsx(m,{[d]:"",ref:_,children:v})});p.displayName=h;function w(g){const b=i(t+"CollectionConsumer",g);return F.useCallback(()=>{const v=b.collectionRef.current;if(!v)return[];const y=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(b.itemMap.values()).sort((S,C)=>y.indexOf(S.ref.current)-y.indexOf(C.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:a,Slot:u,ItemSlot:p},w,s]}var dA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],se=dA.reduce((t,e)=>{const n=Ji(`Primitive.${e}`),s=f.forwardRef((r,i)=>{const{asChild:a,...l}=r,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function kx(t,e){t&&go.flushSync(()=>t.dispatchEvent(e))}function Zt(t){const e=f.useRef(t);return f.useEffect(()=>{e.current=t}),f.useMemo(()=>(...n)=>{var s;return(s=e.current)==null?void 0:s.call(e,...n)},[])}function hA(t,e=globalThis==null?void 0:globalThis.document){const n=Zt(t);f.useEffect(()=>{const s=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var fA="DismissableLayer",Mp="dismissableLayer.update",mA="dismissableLayer.pointerDownOutside",pA="dismissableLayer.focusOutside",Qw,TN=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),La=f.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=t,u=f.useContext(TN),[h,d]=f.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=f.useState({}),w=Ne(e,C=>d(C)),g=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(b),v=h?g.indexOf(h):-1,y=u.layersWithOutsidePointerEventsDisabled.size>0,N=v>=x,_=xA(C=>{const E=C.target,k=[...u.branches].some(I=>I.contains(E));!N||k||(r==null||r(C),a==null||a(C),C.defaultPrevented||l==null||l())},m),S=vA(C=>{const E=C.target;[...u.branches].some(I=>I.contains(E))||(i==null||i(C),a==null||a(C),C.defaultPrevented||l==null||l())},m);return hA(C=>{v===u.layers.size-1&&(s==null||s(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),f.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Qw=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),qw(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Qw)}},[h,m,n,u]),f.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),qw())},[h,u]),f.useEffect(()=>{const C=()=>p({});return document.addEventListener(Mp,C),()=>document.removeEventListener(Mp,C)},[]),o.jsx(se.div,{...c,ref:w,style:{pointerEvents:y?N?"auto":"none":void 0,...t.style},onFocusCapture:H(t.onFocusCapture,S.onFocusCapture),onBlurCapture:H(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:H(t.onPointerDownCapture,_.onPointerDownCapture)})});La.displayName=fA;var gA="DismissableLayerBranch",IN=f.forwardRef((t,e)=>{const n=f.useContext(TN),s=f.useRef(null),r=Ne(e,s);return f.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(se.div,{...t,ref:r})});IN.displayName=gA;function xA(t,e=globalThis==null?void 0:globalThis.document){const n=Zt(t),s=f.useRef(!1),r=f.useRef(()=>{});return f.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){RN(mA,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=c,e.addEventListener("click",r.current,{once:!0})):c()}else e.removeEventListener("click",r.current);s.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function vA(t,e=globalThis==null?void 0:globalThis.document){const n=Zt(t),s=f.useRef(!1);return f.useEffect(()=>{const r=i=>{i.target&&!s.current&&RN(pA,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function qw(){const t=new CustomEvent(Mp);document.dispatchEvent(t)}function RN(t,e,n,{discrete:s}){const r=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),s?kx(r,i):r.dispatchEvent(i)}var yA=La,wA=IN,ft=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},bA="Portal",$c=f.forwardRef((t,e)=>{var l;const{container:n,...s}=t,[r,i]=f.useState(!1);ft(()=>i(!0),[]);const a=n||r&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?EN.createPortal(o.jsx(se.div,{...s,ref:e}),a):null});$c.displayName=bA;function _A(t,e){return f.useReducer((n,s)=>e[n][s]??n,t)}var gn=t=>{const{present:e,children:n}=t,s=NA(e),r=typeof n=="function"?n({present:s.isPresent}):f.Children.only(n),i=Ne(s.ref,CA(r));return typeof n=="function"||s.isPresent?f.cloneElement(r,{ref:i}):null};gn.displayName="Presence";function NA(t){const[e,n]=f.useState(),s=f.useRef(null),r=f.useRef(t),i=f.useRef("none"),a=t?"mounted":"unmounted",[l,c]=_A(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const u=Cu(s.current);i.current=l==="mounted"?u:"none"},[l]),ft(()=>{const u=s.current,h=r.current;if(h!==t){const m=i.current,p=Cu(u);t?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&m!==p?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,c]),ft(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,d=p=>{const g=Cu(s.current).includes(p.animationName);if(p.target===e&&g&&(c("ANIMATION_END"),!r.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},m=p=>{p.target===e&&(i.current=Cu(s.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(u=>{s.current=u?getComputedStyle(u):null,n(u)},[])}}function Cu(t){return(t==null?void 0:t.animationName)||"none"}function CA(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var SA=Lg[" useInsertionEffect ".trim().toString()]||ft;function En({prop:t,defaultProp:e,onChange:n=()=>{},caller:s}){const[r,i,a]=EA({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:r;{const h=f.useRef(t!==void 0);f.useEffect(()=>{const d=h.current;d!==l&&console.warn(`${s} is changing from ${d?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,s])}const u=f.useCallback(h=>{var d;if(l){const m=jA(h)?h(t):h;m!==t&&((d=a.current)==null||d.call(a,m))}else i(h)},[l,t,i,a]);return[c,u]}function EA({defaultProp:t,onChange:e}){const[n,s]=f.useState(t),r=f.useRef(n),i=f.useRef(e);return SA(()=>{i.current=e},[e]),f.useEffect(()=>{var a;r.current!==n&&((a=i.current)==null||a.call(i,n),r.current=n)},[n,r]),[n,s,i]}function jA(t){return typeof t=="function"}var PN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),kA="VisuallyHidden",Dh=f.forwardRef((t,e)=>o.jsx(se.span,{...t,ref:e,style:{...PN,...t.style}}));Dh.displayName=kA;var TA=Dh,Tx="ToastProvider",[Ix,IA,RA]=Fc("Toast"),[AN,c9]=It("Toast",[RA]),[PA,Lh]=AN(Tx),MN=t=>{const{__scopeToast:e,label:n="Notification",duration:s=5e3,swipeDirection:r="right",swipeThreshold:i=50,children:a}=t,[l,c]=f.useState(null),[u,h]=f.useState(0),d=f.useRef(!1),m=f.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Tx}\`. Expected non-empty \`string\`.`),o.jsx(Ix.Provider,{scope:e,children:o.jsx(PA,{scope:e,label:n,duration:s,swipeDirection:r,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:f.useCallback(()=>h(p=>p+1),[]),onToastRemove:f.useCallback(()=>h(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:m,children:a})})};MN.displayName=Tx;var ON="ToastViewport",AA=["F8"],Op="toast.viewportPause",Dp="toast.viewportResume",DN=f.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:s=AA,label:r="Notifications ({hotkey})",...i}=t,a=Lh(ON,n),l=IA(n),c=f.useRef(null),u=f.useRef(null),h=f.useRef(null),d=f.useRef(null),m=Ne(e,d,a.onViewportChange),p=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=a.toastCount>0;f.useEffect(()=>{const b=x=>{var y;s.length!==0&&s.every(N=>x[N]||x.code===N)&&((y=d.current)==null||y.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[s]),f.useEffect(()=>{const b=c.current,x=d.current;if(w&&b&&x){const v=()=>{if(!a.isClosePausedRef.current){const S=new CustomEvent(Op);x.dispatchEvent(S),a.isClosePausedRef.current=!0}},y=()=>{if(a.isClosePausedRef.current){const S=new CustomEvent(Dp);x.dispatchEvent(S),a.isClosePausedRef.current=!1}},N=S=>{!b.contains(S.relatedTarget)&&y()},_=()=>{b.contains(document.activeElement)||y()};return b.addEventListener("focusin",v),b.addEventListener("focusout",N),b.addEventListener("pointermove",v),b.addEventListener("pointerleave",_),window.addEventListener("blur",v),window.addEventListener("focus",y),()=>{b.removeEventListener("focusin",v),b.removeEventListener("focusout",N),b.removeEventListener("pointermove",v),b.removeEventListener("pointerleave",_),window.removeEventListener("blur",v),window.removeEventListener("focus",y)}}},[w,a.isClosePausedRef]);const g=f.useCallback(({tabbingDirection:b})=>{const v=l().map(y=>{const N=y.ref.current,_=[N,...GA(N)];return b==="forwards"?_:_.reverse()});return(b==="forwards"?v.reverse():v).flat()},[l]);return f.useEffect(()=>{const b=d.current;if(b){const x=v=>{var _,S,C;const y=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!y){const E=document.activeElement,k=v.shiftKey;if(v.target===b&&k){(_=u.current)==null||_.focus();return}const M=g({tabbingDirection:k?"backwards":"forwards"}),z=M.findIndex(R=>R===E);fm(M.slice(z+1))?v.preventDefault():k?(S=u.current)==null||S.focus():(C=h.current)==null||C.focus()}};return b.addEventListener("keydown",x),()=>b.removeEventListener("keydown",x)}},[l,g]),o.jsxs(wA,{ref:c,role:"region","aria-label":r.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&o.jsx(Lp,{ref:u,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"forwards"});fm(b)}}),o.jsx(Ix.Slot,{scope:n,children:o.jsx(se.ol,{tabIndex:-1,...i,ref:m})}),w&&o.jsx(Lp,{ref:h,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"backwards"});fm(b)}})]})});DN.displayName=ON;var LN="ToastFocusProxy",Lp=f.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...r}=t,i=Lh(LN,n);return o.jsx(Dh,{"aria-hidden":!0,tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&s()}})});Lp.displayName=LN;var Uc="Toast",MA="toast.swipeStart",OA="toast.swipeMove",DA="toast.swipeCancel",LA="toast.swipeEnd",FN=f.forwardRef((t,e)=>{const{forceMount:n,open:s,defaultOpen:r,onOpenChange:i,...a}=t,[l,c]=En({prop:s,defaultProp:r??!0,onChange:i,caller:Uc});return o.jsx(gn,{present:n||l,children:o.jsx(UA,{open:l,...a,ref:e,onClose:()=>c(!1),onPause:Zt(t.onPause),onResume:Zt(t.onResume),onSwipeStart:H(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:H(t.onSwipeMove,u=>{const{x:h,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:H(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:H(t.onSwipeEnd,u=>{const{x:h,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});FN.displayName=Uc;var[FA,$A]=AN(Uc,{onClose(){}}),UA=f.forwardRef((t,e)=>{const{__scopeToast:n,type:s="foreground",duration:r,open:i,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:d,onSwipeCancel:m,onSwipeEnd:p,...w}=t,g=Lh(Uc,n),[b,x]=f.useState(null),v=Ne(e,R=>x(R)),y=f.useRef(null),N=f.useRef(null),_=r||g.duration,S=f.useRef(0),C=f.useRef(_),E=f.useRef(0),{onToastAdd:k,onToastRemove:I}=g,L=Zt(()=>{var W;(b==null?void 0:b.contains(document.activeElement))&&((W=g.viewport)==null||W.focus()),a()}),M=f.useCallback(R=>{!R||R===1/0||(window.clearTimeout(E.current),S.current=new Date().getTime(),E.current=window.setTimeout(L,R))},[L]);f.useEffect(()=>{const R=g.viewport;if(R){const W=()=>{M(C.current),u==null||u()},K=()=>{const Z=new Date().getTime()-S.current;C.current=C.current-Z,window.clearTimeout(E.current),c==null||c()};return R.addEventListener(Op,K),R.addEventListener(Dp,W),()=>{R.removeEventListener(Op,K),R.removeEventListener(Dp,W)}}},[g.viewport,_,c,u,M]),f.useEffect(()=>{i&&!g.isClosePausedRef.current&&M(_)},[i,_,g.isClosePausedRef,M]),f.useEffect(()=>(k(),()=>I()),[k,I]);const z=f.useMemo(()=>b?HN(b):null,[b]);return g.viewport?o.jsxs(o.Fragment,{children:[z&&o.jsx(zA,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:z}),o.jsx(FA,{scope:n,onClose:L,children:go.createPortal(o.jsx(Ix.ItemSlot,{scope:n,children:o.jsx(yA,{asChild:!0,onEscapeKeyDown:H(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||L(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(se.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...w,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:H(t.onKeyDown,R=>{R.key==="Escape"&&(l==null||l(R.nativeEvent),R.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:H(t.onPointerDown,R=>{R.button===0&&(y.current={x:R.clientX,y:R.clientY})}),onPointerMove:H(t.onPointerMove,R=>{if(!y.current)return;const W=R.clientX-y.current.x,K=R.clientY-y.current.y,Z=!!N.current,P=["left","right"].includes(g.swipeDirection),j=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,A=P?j(0,W):0,D=P?0:j(0,K),$=R.pointerType==="touch"?10:2,Y={x:A,y:D},Q={originalEvent:R,delta:Y};Z?(N.current=Y,Su(OA,d,Q,{discrete:!1})):Yw(Y,g.swipeDirection,$)?(N.current=Y,Su(MA,h,Q,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(W)>$||Math.abs(K)>$)&&(y.current=null)}),onPointerUp:H(t.onPointerUp,R=>{const W=N.current,K=R.target;if(K.hasPointerCapture(R.pointerId)&&K.releasePointerCapture(R.pointerId),N.current=null,y.current=null,W){const Z=R.currentTarget,P={originalEvent:R,delta:W};Yw(W,g.swipeDirection,g.swipeThreshold)?Su(LA,p,P,{discrete:!0}):Su(DA,m,P,{discrete:!0}),Z.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),zA=t=>{const{__scopeToast:e,children:n,...s}=t,r=Lh(Uc,e),[i,a]=f.useState(!1),[l,c]=f.useState(!1);return WA(()=>a(!0)),f.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx($c,{asChild:!0,children:o.jsx(Dh,{...s,children:i&&o.jsxs(o.Fragment,{children:[r.label," ",n]})})})},BA="ToastTitle",$N=f.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t;return o.jsx(se.div,{...s,ref:e})});$N.displayName=BA;var VA="ToastDescription",UN=f.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t;return o.jsx(se.div,{...s,ref:e})});UN.displayName=VA;var zN="ToastAction",BN=f.forwardRef((t,e)=>{const{altText:n,...s}=t;return n.trim()?o.jsx(WN,{altText:n,asChild:!0,children:o.jsx(Rx,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${zN}\`. Expected non-empty \`string\`.`),null)});BN.displayName=zN;var VN="ToastClose",Rx=f.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t,r=$A(VN,n);return o.jsx(WN,{asChild:!0,children:o.jsx(se.button,{type:"button",...s,ref:e,onClick:H(t.onClick,r.onClose)})})});Rx.displayName=VN;var WN=f.forwardRef((t,e)=>{const{__scopeToast:n,altText:s,...r}=t;return o.jsx(se.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...r,ref:e})});function HN(t){const e=[];return Array.from(t.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),HA(s)){const r=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!r)if(i){const a=s.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...HN(s))}}),e}function Su(t,e,n,{discrete:s}){const r=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),s?kx(r,i):r.dispatchEvent(i)}var Yw=(t,e,n=0)=>{const s=Math.abs(t.x),r=Math.abs(t.y),i=s>r;return e==="left"||e==="right"?i&&s>n:!i&&r>n};function WA(t=()=>{}){const e=Zt(t);ft(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[e])}function HA(t){return t.nodeType===t.ELEMENT_NODE}function GA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function fm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var KA=MN,GN=DN,KN=FN,QN=$N,qN=UN,YN=BN,XN=Rx;function JN(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=JN(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function ZN(){for(var t,e,n=0,s="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=JN(t))&&(s&&(s+=" "),s+=e);return s}const Xw=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Jw=ZN,zc=(t,e)=>n=>{var s;if((e==null?void 0:e.variants)==null)return Jw(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:i}=e,a=Object.keys(r).map(u=>{const h=n==null?void 0:n[u],d=i==null?void 0:i[u];if(h===null)return null;const m=Xw(h)||Xw(d);return r[u][m]}),l=n&&Object.entries(n).reduce((u,h)=>{let[d,m]=h;return m===void 0||(u[d]=m),u},{}),c=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((u,h)=>{let{class:d,className:m,...p}=h;return Object.entries(p).every(w=>{let[g,b]=w;return Array.isArray(b)?b.includes({...i,...l}[g]):{...i,...l}[g]===b})?[...u,d,m]:u},[]);return Jw(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eC=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=f.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:a,...l},c)=>f.createElement("svg",{ref:c,...qA,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:eC("lucide",r),...l},[...a.map(([u,h])=>f.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=(t,e)=>{const n=f.forwardRef(({className:s,...r},i)=>f.createElement(YA,{ref:i,iconNode:e,className:eC(`lucide-${QA(t)}`,s),...r}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=re("ArchiveRestore",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h2",key:"tvwodi"}],["path",{d:"M20 8v11a2 2 0 0 1-2 2h-2",key:"1gkqxj"}],["path",{d:"m9 15 3-3 3 3",key:"1pd0qc"}],["path",{d:"M12 12v9",key:"192myk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=re("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=re("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=re("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=re("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=re("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=re("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=re("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=re("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=re("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=re("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=re("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=re("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=re("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=re("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=re("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=re("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=re("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=re("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=re("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=re("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=re("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=re("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=re("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=re("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=re("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=re("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=re("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=re("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=re("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=re("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=re("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=re("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=re("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=re("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=re("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=re("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=re("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=re("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=re("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=re("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=re("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=re("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=re("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=re("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=re("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ox="-",fM=t=>{const e=pM(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:a=>{const l=a.split(Ox);return l[0]===""&&l.length!==1&&l.shift(),mC(l,e)||mM(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&s[a]?[...c,...s[a]]:c}}},mC=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),r=s?mC(t.slice(1),s):void 0;if(r)return r;if(e.validators.length===0)return;const i=t.join(Ox);return(a=e.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},Zw=/^\[(.+)\]$/,mM=t=>{if(Zw.test(t)){const e=Zw.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},pM=t=>{const{theme:e,prefix:n}=t,s={nextPart:new Map,validators:[]};return xM(Object.entries(t.classGroups),n).forEach(([i,a])=>{Wp(a,s,i,e)}),s},Wp=(t,e,n,s)=>{t.forEach(r=>{if(typeof r=="string"){const i=r===""?e:e0(e,r);i.classGroupId=n;return}if(typeof r=="function"){if(gM(r)){Wp(r(s),e,n,s);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([i,a])=>{Wp(a,e0(e,i),n,s)})})},e0=(t,e)=>{let n=t;return e.split(Ox).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},gM=t=>t.isThemeGetter,xM=(t,e)=>e?t.map(([n,s])=>{const r=s.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[e+a,l])):i);return[n,r]}):t,vM=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const r=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,s=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=s.get(i))!==void 0)return r(i,a),a},set(i,a){n.has(i)?n.set(i,a):r(i,a)}}},pC="!",yM=t=>{const{separator:e,experimentalParseClassName:n}=t,s=e.length===1,r=e[0],i=e.length,a=l=>{const c=[];let u=0,h=0,d;for(let b=0;b<l.length;b++){let x=l[b];if(u===0){if(x===r&&(s||l.slice(b,b+i)===e)){c.push(l.slice(h,b)),h=b+i;continue}if(x==="/"){d=b;continue}}x==="["?u++:x==="]"&&u--}const m=c.length===0?l:l.substring(h),p=m.startsWith(pC),w=p?m.substring(1):m,g=d&&d>h?d-h:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:w,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:a}):a},wM=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(s=>{s[0]==="["?(e.push(...n.sort(),s),n=[]):n.push(s)}),e.push(...n.sort()),e},bM=t=>({cache:vM(t.cacheSize),parseClassName:yM(t),...fM(t)}),_M=/\s+/,NM=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:r}=e,i=[],a=t.trim().split(_M);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:h,hasImportantModifier:d,baseClassName:m,maybePostfixModifierPosition:p}=n(u);let w=!!p,g=s(w?m.substring(0,p):m);if(!g){if(!w){l=u+(l.length>0?" "+l:l);continue}if(g=s(m),!g){l=u+(l.length>0?" "+l:l);continue}w=!1}const b=wM(h).join(":"),x=d?b+pC:b,v=x+g;if(i.includes(v))continue;i.push(v);const y=r(g,w);for(let N=0;N<y.length;++N){const _=y[N];i.push(x+_)}l=u+(l.length>0?" "+l:l)}return l};function CM(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=gC(e))&&(s&&(s+=" "),s+=n);return s}const gC=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=gC(t[s]))&&(n&&(n+=" "),n+=e);return n};function SM(t,...e){let n,s,r,i=a;function a(c){const u=e.reduce((h,d)=>d(h),t());return n=bM(u),s=n.cache.get,r=n.cache.set,i=l,l(c)}function l(c){const u=s(c);if(u)return u;const h=NM(c,n);return r(c,h),h}return function(){return i(CM.apply(null,arguments))}}const Qe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},xC=/^\[(?:([a-z-]+):)?(.+)\]$/i,EM=/^\d+\/\d+$/,jM=new Set(["px","full","screen"]),kM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,TM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,IM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,RM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,PM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bs=t=>Jo(t)||jM.has(t)||EM.test(t),_r=t=>Fa(t,"length",UM),Jo=t=>!!t&&!Number.isNaN(Number(t)),mm=t=>Fa(t,"number",Jo),hl=t=>!!t&&Number.isInteger(Number(t)),AM=t=>t.endsWith("%")&&Jo(t.slice(0,-1)),_e=t=>xC.test(t),Nr=t=>kM.test(t),MM=new Set(["length","size","percentage"]),OM=t=>Fa(t,MM,vC),DM=t=>Fa(t,"position",vC),LM=new Set(["image","url"]),FM=t=>Fa(t,LM,BM),$M=t=>Fa(t,"",zM),fl=()=>!0,Fa=(t,e,n)=>{const s=xC.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):n(s[2]):!1},UM=t=>TM.test(t)&&!IM.test(t),vC=()=>!1,zM=t=>RM.test(t),BM=t=>PM.test(t),VM=()=>{const t=Qe("colors"),e=Qe("spacing"),n=Qe("blur"),s=Qe("brightness"),r=Qe("borderColor"),i=Qe("borderRadius"),a=Qe("borderSpacing"),l=Qe("borderWidth"),c=Qe("contrast"),u=Qe("grayscale"),h=Qe("hueRotate"),d=Qe("invert"),m=Qe("gap"),p=Qe("gradientColorStops"),w=Qe("gradientColorStopPositions"),g=Qe("inset"),b=Qe("margin"),x=Qe("opacity"),v=Qe("padding"),y=Qe("saturate"),N=Qe("scale"),_=Qe("sepia"),S=Qe("skew"),C=Qe("space"),E=Qe("translate"),k=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",_e,e],M=()=>[_e,e],z=()=>["",Bs,_r],R=()=>["auto",Jo,_e],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",_e],A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[Jo,_e];return{cacheSize:500,separator:":",theme:{colors:[fl],spacing:[Bs,_r],blur:["none","",Nr,_e],brightness:D(),borderColor:[t],borderRadius:["none","","full",Nr,_e],borderSpacing:M(),borderWidth:z(),contrast:D(),grayscale:j(),hueRotate:D(),invert:j(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[AM,_r],inset:L(),margin:L(),opacity:D(),padding:M(),saturate:D(),scale:D(),sepia:j(),skew:D(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",_e]}],container:["container"],columns:[{columns:[Nr]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),_e]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",hl,_e]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_e]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",hl,_e]}],"grid-cols":[{"grid-cols":[fl]}],"col-start-end":[{col:["auto",{span:["full",hl,_e]},_e]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[fl]}],"row-start-end":[{row:["auto",{span:[hl,_e]},_e]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_e]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_e,e]}],"min-w":[{"min-w":[_e,e,"min","max","fit"]}],"max-w":[{"max-w":[_e,e,"none","full","min","max","fit","prose",{screen:[Nr]},Nr]}],h:[{h:[_e,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_e,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_e,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_e,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Nr,_r]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",mm]}],"font-family":[{font:[fl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_e]}],"line-clamp":[{"line-clamp":["none",Jo,mm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Bs,_e]}],"list-image":[{"list-image":["none",_e]}],"list-style-type":[{list:["none","disc","decimal",_e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Bs,_r]}],"underline-offset":[{"underline-offset":["auto",Bs,_e]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),DM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",OM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},FM]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:K()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[Bs,_e]}],"outline-w":[{outline:[Bs,_r]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Bs,_r]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Nr,$M]}],"shadow-color":[{shadow:[fl]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...Z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Nr,_e]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[d]}],saturate:[{saturate:[y]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_e]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",_e]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",_e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[hl,_e]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_e]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Bs,_r,mm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},WM=SM(VM);function q(...t){return WM(ZN(t))}const HM=KA,yC=f.forwardRef(({className:t,...e},n)=>o.jsx(GN,{ref:n,className:q("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));yC.displayName=GN.displayName;const GM=zc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),wC=f.forwardRef(({className:t,variant:e,...n},s)=>o.jsx(KN,{ref:s,className:q(GM({variant:e}),t),...n}));wC.displayName=KN.displayName;const KM=f.forwardRef(({className:t,...e},n)=>o.jsx(YN,{ref:n,className:q("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));KM.displayName=YN.displayName;const bC=f.forwardRef(({className:t,...e},n)=>o.jsx(XN,{ref:n,className:q("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:o.jsx(xo,{className:"h-4 w-4"})}));bC.displayName=XN.displayName;const _C=f.forwardRef(({className:t,...e},n)=>o.jsx(QN,{ref:n,className:q("text-sm font-semibold",t),...e}));_C.displayName=QN.displayName;const NC=f.forwardRef(({className:t,...e},n)=>o.jsx(qN,{ref:n,className:q("text-sm opacity-90",t),...e}));NC.displayName=qN.displayName;function QM(){const{toasts:t}=nA();return o.jsxs(HM,{children:[t.map(function({id:e,title:n,description:s,action:r,...i}){return o.jsxs(wC,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(_C,{children:n}),s&&o.jsx(NC,{children:s})]}),r,o.jsx(bC,{})]},e)}),o.jsx(yC,{})]})}var Md=["light","dark"],Dx="(prefers-color-scheme: dark)",qM=typeof window>"u",Lx=f.createContext(void 0),YM={setTheme:t=>{},themes:[]},CC=()=>{var t;return(t=f.useContext(Lx))!=null?t:YM},XM=t=>f.useContext(Lx)?t.children:f.createElement(ZM,{...t}),JM=["light","dark"],ZM=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:n=!0,enableColorScheme:s=!0,storageKey:r="theme",themes:i=JM,defaultTheme:a=n?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:h})=>{let[d,m]=f.useState(()=>t0(r,a)),[p,w]=f.useState(()=>t0(r)),g=c?Object.values(c):i,b=f.useCallback(N=>{let _=N;if(!_)return;N==="system"&&n&&(_=n0());let S=c?c[_]:_,C=e?t4():null,E=document.documentElement;if(l==="class"?(E.classList.remove(...g),S&&E.classList.add(S)):S?E.setAttribute(l,S):E.removeAttribute(l),s){let k=Md.includes(a)?a:null,I=Md.includes(_)?_:k;E.style.colorScheme=I}C==null||C()},[]),x=f.useCallback(N=>{let _=typeof N=="function"?N(N):N;m(_);try{localStorage.setItem(r,_)}catch{}},[t]),v=f.useCallback(N=>{let _=n0(N);w(_),d==="system"&&n&&!t&&b("system")},[d,t]);f.useEffect(()=>{let N=window.matchMedia(Dx);return N.addListener(v),v(N),()=>N.removeListener(v)},[v]),f.useEffect(()=>{let N=_=>{if(_.key!==r)return;let S=_.newValue||a;x(S)};return window.addEventListener("storage",N),()=>window.removeEventListener("storage",N)},[x]),f.useEffect(()=>{b(t??d)},[t,d]);let y=f.useMemo(()=>({theme:d,setTheme:x,forcedTheme:t,resolvedTheme:d==="system"?p:d,themes:n?[...i,"system"]:i,systemTheme:n?p:void 0}),[d,x,t,p,n,i]);return f.createElement(Lx.Provider,{value:y},f.createElement(e4,{forcedTheme:t,disableTransitionOnChange:e,enableSystem:n,enableColorScheme:s,storageKey:r,themes:i,defaultTheme:a,attribute:l,value:c,children:u,attrs:g,nonce:h}),u)},e4=f.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:s,enableColorScheme:r,defaultTheme:i,value:a,attrs:l,nonce:c})=>{let u=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,d=r?Md.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(w,g=!1,b=!0)=>{let x=a?a[w]:w,v=g?w+"|| ''":`'${x}'`,y="";return r&&b&&!g&&Md.includes(w)&&(y+=`d.style.colorScheme = '${w}';`),n==="class"?g||x?y+=`c.add(${v})`:y+="null":x&&(y+=`d[s](n,${v})`),y},p=t?`!function(){${h}${m(t)}}()`:s?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${Dx}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}${u?"":"else{"+m(i,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${d}}catch(t){}}();`;return f.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})}),t0=(t,e)=>{if(qM)return;let n;try{n=localStorage.getItem(t)||void 0}catch{}return n||e},t4=()=>{let t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},n0=t=>(t||(t=window.matchMedia(Dx)),t.matches?"dark":"light"),n4=t=>{switch(t){case"success":return i4;case"info":return a4;case"warning":return o4;case"error":return l4;default:return null}},s4=Array(12).fill(0),r4=({visible:t,className:e})=>F.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},F.createElement("div",{className:"sonner-spinner"},s4.map((n,s)=>F.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),i4=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),o4=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),a4=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),l4=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),c4=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},F.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),F.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),u4=()=>{let[t,e]=F.useState(document.hidden);return F.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Hp=1,d4=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...s}=t,r=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Hp++,i=this.toasts.find(l=>l.id===r),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),i?this.toasts=this.toasts.map(l=>l.id===r?(this.publish({...l,...t,id:r,title:n}),{...l,...t,id:r,dismissible:a,title:n}):l):this.addToast({title:n,...s,dismissible:a,id:r}),r},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let s=t instanceof Promise?t:t(),r=n!==void 0,i,a=s.then(async c=>{if(i=["resolve",c],F.isValidElement(c))r=!1,this.create({id:n,type:"default",message:c});else if(f4(c)&&!c.ok){r=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,h=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:n,type:"error",message:u,description:h})}else if(e.success!==void 0){r=!1;let u=typeof e.success=="function"?await e.success(c):e.success,h=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"success",message:u,description:h})}}).catch(async c=>{if(i=["reject",c],e.error!==void 0){r=!1;let u=typeof e.error=="function"?await e.error(c):e.error,h=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"error",message:u,description:h})}}).finally(()=>{var c;r&&(this.dismiss(n),n=void 0),(c=e.finally)==null||c.call(e)}),l=()=>new Promise((c,u)=>a.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Hp++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},rn=new d4,h4=(t,e)=>{let n=(e==null?void 0:e.id)||Hp++;return rn.addToast({title:t,...e,id:n}),n},f4=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",m4=h4,p4=()=>rn.toasts,g4=()=>rn.getActiveToasts();Object.assign(m4,{success:rn.success,info:rn.info,warning:rn.warning,error:rn.error,custom:rn.custom,message:rn.message,promise:rn.promise,dismiss:rn.dismiss,loading:rn.loading},{getHistory:p4,getToasts:g4});function x4(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}x4(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Eu(t){return t.label!==void 0}var v4=3,y4="32px",w4="16px",s0=4e3,b4=356,_4=14,N4=20,C4=200;function Jn(...t){return t.filter(Boolean).join(" ")}function S4(t){let[e,n]=t.split("-"),s=[];return e&&s.push(e),n&&s.push(n),s}var E4=t=>{var e,n,s,r,i,a,l,c,u,h,d;let{invert:m,toast:p,unstyled:w,interacting:g,setHeights:b,visibleToasts:x,heights:v,index:y,toasts:N,expanded:_,removeToast:S,defaultRichColors:C,closeButton:E,style:k,cancelButtonStyle:I,actionButtonStyle:L,className:M="",descriptionClassName:z="",duration:R,position:W,gap:K,loadingIcon:Z,expandByDefault:P,classNames:j,icons:A,closeButtonAriaLabel:D="Close toast",pauseWhenPageIsHidden:$}=t,[Y,Q]=F.useState(null),[de,ce]=F.useState(null),[T,G]=F.useState(!1),[oe,ie]=F.useState(!1),[ae,me]=F.useState(!1),[tt,Oe]=F.useState(!1),[te,le]=F.useState(!1),[Ae,$t]=F.useState(0),[Xe,gt]=F.useState(0),mt=F.useRef(p.duration||R||s0),In=F.useRef(null),Re=F.useRef(null),je=y===0,Nt=y+1<=x,ve=p.type,it=p.dismissible!==!1,Hn=p.className||"",Ct=p.descriptionClassName||"",Ue=F.useMemo(()=>v.findIndex(we=>we.toastId===p.id)||0,[v,p.id]),We=F.useMemo(()=>{var we;return(we=p.closeButton)!=null?we:E},[p.closeButton,E]),Gn=F.useMemo(()=>p.duration||R||s0,[p.duration,R]),Kn=F.useRef(0),No=F.useRef(0),Ay=F.useRef(0),Co=F.useRef(null),[_R,NR]=W.split("-"),My=F.useMemo(()=>v.reduce((we,ze,Je)=>Je>=Ue?we:we+ze.height,0),[v,Ue]),Oy=u4(),CR=p.invert||m,Lf=ve==="loading";No.current=F.useMemo(()=>Ue*K+My,[Ue,My]),F.useEffect(()=>{mt.current=Gn},[Gn]),F.useEffect(()=>{G(!0)},[]),F.useEffect(()=>{let we=Re.current;if(we){let ze=we.getBoundingClientRect().height;return gt(ze),b(Je=>[{toastId:p.id,height:ze,position:p.position},...Je]),()=>b(Je=>Je.filter(Qn=>Qn.toastId!==p.id))}},[b,p.id]),F.useLayoutEffect(()=>{if(!T)return;let we=Re.current,ze=we.style.height;we.style.height="auto";let Je=we.getBoundingClientRect().height;we.style.height=ze,gt(Je),b(Qn=>Qn.find(qn=>qn.toastId===p.id)?Qn.map(qn=>qn.toastId===p.id?{...qn,height:Je}:qn):[{toastId:p.id,height:Je,position:p.position},...Qn])},[T,p.title,p.description,b,p.id]);let vr=F.useCallback(()=>{ie(!0),$t(No.current),b(we=>we.filter(ze=>ze.toastId!==p.id)),setTimeout(()=>{S(p)},C4)},[p,S,b,No]);F.useEffect(()=>{if(p.promise&&ve==="loading"||p.duration===1/0||p.type==="loading")return;let we;return _||g||$&&Oy?(()=>{if(Ay.current<Kn.current){let ze=new Date().getTime()-Kn.current;mt.current=mt.current-ze}Ay.current=new Date().getTime()})():mt.current!==1/0&&(Kn.current=new Date().getTime(),we=setTimeout(()=>{var ze;(ze=p.onAutoClose)==null||ze.call(p,p),vr()},mt.current)),()=>clearTimeout(we)},[_,g,p,ve,$,Oy,vr]),F.useEffect(()=>{p.delete&&vr()},[vr,p.delete]);function SR(){var we,ze,Je;return A!=null&&A.loading?F.createElement("div",{className:Jn(j==null?void 0:j.loader,(we=p==null?void 0:p.classNames)==null?void 0:we.loader,"sonner-loader"),"data-visible":ve==="loading"},A.loading):Z?F.createElement("div",{className:Jn(j==null?void 0:j.loader,(ze=p==null?void 0:p.classNames)==null?void 0:ze.loader,"sonner-loader"),"data-visible":ve==="loading"},Z):F.createElement(r4,{className:Jn(j==null?void 0:j.loader,(Je=p==null?void 0:p.classNames)==null?void 0:Je.loader),visible:ve==="loading"})}return F.createElement("li",{tabIndex:0,ref:Re,className:Jn(M,Hn,j==null?void 0:j.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,j==null?void 0:j.default,j==null?void 0:j[ve],(n=p==null?void 0:p.classNames)==null?void 0:n[ve]),"data-sonner-toast":"","data-rich-colors":(s=p.richColors)!=null?s:C,"data-styled":!(p.jsx||p.unstyled||w),"data-mounted":T,"data-promise":!!p.promise,"data-swiped":te,"data-removed":oe,"data-visible":Nt,"data-y-position":_R,"data-x-position":NR,"data-index":y,"data-front":je,"data-swiping":ae,"data-dismissible":it,"data-type":ve,"data-invert":CR,"data-swipe-out":tt,"data-swipe-direction":de,"data-expanded":!!(_||P&&T),style:{"--index":y,"--toasts-before":y,"--z-index":N.length-y,"--offset":`${oe?Ae:No.current}px`,"--initial-height":P?"auto":`${Xe}px`,...k,...p.style},onDragEnd:()=>{me(!1),Q(null),Co.current=null},onPointerDown:we=>{Lf||!it||(In.current=new Date,$t(No.current),we.target.setPointerCapture(we.pointerId),we.target.tagName!=="BUTTON"&&(me(!0),Co.current={x:we.clientX,y:we.clientY}))},onPointerUp:()=>{var we,ze,Je,Qn;if(tt||!it)return;Co.current=null;let qn=Number(((we=Re.current)==null?void 0:we.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),yr=Number(((ze=Re.current)==null?void 0:ze.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ji=new Date().getTime()-((Je=In.current)==null?void 0:Je.getTime()),Yn=Y==="x"?qn:yr,wr=Math.abs(Yn)/ji;if(Math.abs(Yn)>=N4||wr>.11){$t(No.current),(Qn=p.onDismiss)==null||Qn.call(p,p),ce(Y==="x"?qn>0?"right":"left":yr>0?"down":"up"),vr(),Oe(!0),le(!1);return}me(!1),Q(null)},onPointerMove:we=>{var ze,Je,Qn,qn;if(!Co.current||!it||((ze=window.getSelection())==null?void 0:ze.toString().length)>0)return;let yr=we.clientY-Co.current.y,ji=we.clientX-Co.current.x,Yn=(Je=t.swipeDirections)!=null?Je:S4(W);!Y&&(Math.abs(ji)>1||Math.abs(yr)>1)&&Q(Math.abs(ji)>Math.abs(yr)?"x":"y");let wr={x:0,y:0};Y==="y"?(Yn.includes("top")||Yn.includes("bottom"))&&(Yn.includes("top")&&yr<0||Yn.includes("bottom")&&yr>0)&&(wr.y=yr):Y==="x"&&(Yn.includes("left")||Yn.includes("right"))&&(Yn.includes("left")&&ji<0||Yn.includes("right")&&ji>0)&&(wr.x=ji),(Math.abs(wr.x)>0||Math.abs(wr.y)>0)&&le(!0),(Qn=Re.current)==null||Qn.style.setProperty("--swipe-amount-x",`${wr.x}px`),(qn=Re.current)==null||qn.style.setProperty("--swipe-amount-y",`${wr.y}px`)}},We&&!p.jsx?F.createElement("button",{"aria-label":D,"data-disabled":Lf,"data-close-button":!0,onClick:Lf||!it?()=>{}:()=>{var we;vr(),(we=p.onDismiss)==null||we.call(p,p)},className:Jn(j==null?void 0:j.closeButton,(r=p==null?void 0:p.classNames)==null?void 0:r.closeButton)},(i=A==null?void 0:A.close)!=null?i:c4):null,p.jsx||f.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:F.createElement(F.Fragment,null,ve||p.icon||p.promise?F.createElement("div",{"data-icon":"",className:Jn(j==null?void 0:j.icon,(a=p==null?void 0:p.classNames)==null?void 0:a.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||SR():null,p.type!=="loading"?p.icon||(A==null?void 0:A[ve])||n4(ve):null):null,F.createElement("div",{"data-content":"",className:Jn(j==null?void 0:j.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},F.createElement("div",{"data-title":"",className:Jn(j==null?void 0:j.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?F.createElement("div",{"data-description":"",className:Jn(z,Ct,j==null?void 0:j.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),f.isValidElement(p.cancel)?p.cancel:p.cancel&&Eu(p.cancel)?F.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||I,onClick:we=>{var ze,Je;Eu(p.cancel)&&it&&((Je=(ze=p.cancel).onClick)==null||Je.call(ze,we),vr())},className:Jn(j==null?void 0:j.cancelButton,(h=p==null?void 0:p.classNames)==null?void 0:h.cancelButton)},p.cancel.label):null,f.isValidElement(p.action)?p.action:p.action&&Eu(p.action)?F.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||L,onClick:we=>{var ze,Je;Eu(p.action)&&((Je=(ze=p.action).onClick)==null||Je.call(ze,we),!we.defaultPrevented&&vr())},className:Jn(j==null?void 0:j.actionButton,(d=p==null?void 0:p.classNames)==null?void 0:d.actionButton)},p.action.label):null))};function r0(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function j4(t,e){let n={};return[t,e].forEach((s,r)=>{let i=r===1,a=i?"--mobile-offset":"--offset",l=i?w4:y4;function c(u){["top","right","bottom","left"].forEach(h=>{n[`${a}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof s=="number"||typeof s=="string"?c(s):typeof s=="object"?["top","right","bottom","left"].forEach(u=>{s[u]===void 0?n[`${a}-${u}`]=l:n[`${a}-${u}`]=typeof s[u]=="number"?`${s[u]}px`:s[u]}):c(l)}),n}var k4=f.forwardRef(function(t,e){let{invert:n,position:s="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:a,className:l,offset:c,mobileOffset:u,theme:h="light",richColors:d,duration:m,style:p,visibleToasts:w=v4,toastOptions:g,dir:b=r0(),gap:x=_4,loadingIcon:v,icons:y,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:_}=t,[S,C]=F.useState([]),E=F.useMemo(()=>Array.from(new Set([s].concat(S.filter($=>$.position).map($=>$.position)))),[S,s]),[k,I]=F.useState([]),[L,M]=F.useState(!1),[z,R]=F.useState(!1),[W,K]=F.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Z=F.useRef(null),P=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=F.useRef(null),A=F.useRef(!1),D=F.useCallback($=>{C(Y=>{var Q;return(Q=Y.find(de=>de.id===$.id))!=null&&Q.delete||rn.dismiss($.id),Y.filter(({id:de})=>de!==$.id)})},[]);return F.useEffect(()=>rn.subscribe($=>{if($.dismiss){C(Y=>Y.map(Q=>Q.id===$.id?{...Q,delete:!0}:Q));return}setTimeout(()=>{EN.flushSync(()=>{C(Y=>{let Q=Y.findIndex(de=>de.id===$.id);return Q!==-1?[...Y.slice(0,Q),{...Y[Q],...$},...Y.slice(Q+1)]:[$,...Y]})})})}),[]),F.useEffect(()=>{if(h!=="system"){K(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?K("dark"):K("light")),typeof window>"u")return;let $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:Y})=>{K(Y?"dark":"light")})}catch{$.addListener(({matches:Q})=>{try{K(Q?"dark":"light")}catch(de){console.error(de)}})}},[h]),F.useEffect(()=>{S.length<=1&&M(!1)},[S]),F.useEffect(()=>{let $=Y=>{var Q,de;r.every(ce=>Y[ce]||Y.code===ce)&&(M(!0),(Q=Z.current)==null||Q.focus()),Y.code==="Escape"&&(document.activeElement===Z.current||(de=Z.current)!=null&&de.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[r]),F.useEffect(()=>{if(Z.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,A.current=!1)}},[Z.current]),F.createElement("section",{ref:e,"aria-label":`${N} ${P}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map(($,Y)=>{var Q;let[de,ce]=$.split("-");return S.length?F.createElement("ol",{key:$,dir:b==="auto"?r0():b,tabIndex:-1,ref:Z,className:l,"data-sonner-toaster":!0,"data-theme":W,"data-y-position":de,"data-lifted":L&&S.length>1&&!i,"data-x-position":ce,style:{"--front-toast-height":`${((Q=k[0])==null?void 0:Q.height)||0}px`,"--width":`${b4}px`,"--gap":`${x}px`,...p,...j4(c,u)},onBlur:T=>{A.current&&!T.currentTarget.contains(T.relatedTarget)&&(A.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:T=>{T.target instanceof HTMLElement&&T.target.dataset.dismissible==="false"||A.current||(A.current=!0,j.current=T.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{z||M(!1)},onDragEnd:()=>M(!1),onPointerDown:T=>{T.target instanceof HTMLElement&&T.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},S.filter(T=>!T.position&&Y===0||T.position===$).map((T,G)=>{var oe,ie;return F.createElement(E4,{key:T.id,icons:y,index:G,toast:T,defaultRichColors:d,duration:(oe=g==null?void 0:g.duration)!=null?oe:m,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:n,visibleToasts:w,closeButton:(ie=g==null?void 0:g.closeButton)!=null?ie:a,interacting:z,position:$,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:D,toasts:S.filter(ae=>ae.position==T.position),heights:k.filter(ae=>ae.position==T.position),setHeights:I,expandByDefault:i,gap:x,loadingIcon:v,expanded:L,pauseWhenPageIsHidden:_,swipeDirections:t.swipeDirections})})):null}))});const T4=({...t})=>{const{theme:e="system"}=CC();return o.jsx(k4,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var I4=Lg[" useId ".trim().toString()]||(()=>{}),R4=0;function Un(t){const[e,n]=f.useState(I4());return ft(()=>{t||n(s=>s??String(R4++))},[t]),t||(e?`radix-${e}`:"")}const P4=["top","right","bottom","left"],mi=Math.min,vn=Math.max,Od=Math.round,ju=Math.floor,As=t=>({x:t,y:t}),A4={left:"right",right:"left",bottom:"top",top:"bottom"},M4={start:"end",end:"start"};function Gp(t,e,n){return vn(t,mi(e,n))}function cr(t,e){return typeof t=="function"?t(e):t}function ur(t){return t.split("-")[0]}function $a(t){return t.split("-")[1]}function Fx(t){return t==="x"?"y":"x"}function $x(t){return t==="y"?"height":"width"}const O4=new Set(["top","bottom"]);function Is(t){return O4.has(ur(t))?"y":"x"}function Ux(t){return Fx(Is(t))}function D4(t,e,n){n===void 0&&(n=!1);const s=$a(t),r=Ux(t),i=$x(r);let a=r==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=Dd(a)),[a,Dd(a)]}function L4(t){const e=Dd(t);return[Kp(t),e,Kp(e)]}function Kp(t){return t.replace(/start|end/g,e=>M4[e])}const i0=["left","right"],o0=["right","left"],F4=["top","bottom"],$4=["bottom","top"];function U4(t,e,n){switch(t){case"top":case"bottom":return n?e?o0:i0:e?i0:o0;case"left":case"right":return e?F4:$4;default:return[]}}function z4(t,e,n,s){const r=$a(t);let i=U4(ur(t),n==="start",s);return r&&(i=i.map(a=>a+"-"+r),e&&(i=i.concat(i.map(Kp)))),i}function Dd(t){return t.replace(/left|right|bottom|top/g,e=>A4[e])}function B4(t){return{top:0,right:0,bottom:0,left:0,...t}}function SC(t){return typeof t!="number"?B4(t):{top:t,right:t,bottom:t,left:t}}function Ld(t){const{x:e,y:n,width:s,height:r}=t;return{width:s,height:r,top:n,left:e,right:e+s,bottom:n+r,x:e,y:n}}function a0(t,e,n){let{reference:s,floating:r}=t;const i=Is(e),a=Ux(e),l=$x(a),c=ur(e),u=i==="y",h=s.x+s.width/2-r.width/2,d=s.y+s.height/2-r.height/2,m=s[l]/2-r[l]/2;let p;switch(c){case"top":p={x:h,y:s.y-r.height};break;case"bottom":p={x:h,y:s.y+s.height};break;case"right":p={x:s.x+s.width,y:d};break;case"left":p={x:s.x-r.width,y:d};break;default:p={x:s.x,y:s.y}}switch($a(e)){case"start":p[a]-=m*(n&&u?-1:1);break;case"end":p[a]+=m*(n&&u?-1:1);break}return p}const V4=async(t,e,n)=>{const{placement:s="bottom",strategy:r="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:r}),{x:h,y:d}=a0(u,s,c),m=s,p={},w=0;for(let g=0;g<l.length;g++){const{name:b,fn:x}=l[g],{x:v,y,data:N,reset:_}=await x({x:h,y:d,initialPlacement:s,placement:m,strategy:r,middlewareData:p,rects:u,platform:a,elements:{reference:t,floating:e}});h=v??h,d=y??d,p={...p,[b]:{...p[b],...N}},_&&w<=50&&(w++,typeof _=="object"&&(_.placement&&(m=_.placement),_.rects&&(u=_.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:r}):_.rects),{x:h,y:d}=a0(u,m,c)),g=-1)}return{x:h,y:d,placement:m,strategy:r,middlewareData:p}};async function dc(t,e){var n;e===void 0&&(e={});const{x:s,y:r,platform:i,rects:a,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:m=!1,padding:p=0}=cr(e,t),w=SC(p),b=l[m?d==="floating"?"reference":"floating":d],x=Ld(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),v=d==="floating"?{x:s,y:r,width:a.floating.width,height:a.floating.height}:a.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),N=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},_=Ld(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:y,strategy:c}):v);return{top:(x.top-_.top+w.top)/N.y,bottom:(_.bottom-x.bottom+w.bottom)/N.y,left:(x.left-_.left+w.left)/N.x,right:(_.right-x.right+w.right)/N.x}}const W4=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:r,rects:i,platform:a,elements:l,middlewareData:c}=e,{element:u,padding:h=0}=cr(t,e)||{};if(u==null)return{};const d=SC(h),m={x:n,y:s},p=Ux(r),w=$x(p),g=await a.getDimensions(u),b=p==="y",x=b?"top":"left",v=b?"bottom":"right",y=b?"clientHeight":"clientWidth",N=i.reference[w]+i.reference[p]-m[p]-i.floating[w],_=m[p]-i.reference[p],S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let C=S?S[y]:0;(!C||!await(a.isElement==null?void 0:a.isElement(S)))&&(C=l.floating[y]||i.floating[w]);const E=N/2-_/2,k=C/2-g[w]/2-1,I=mi(d[x],k),L=mi(d[v],k),M=I,z=C-g[w]-L,R=C/2-g[w]/2+E,W=Gp(M,R,z),K=!c.arrow&&$a(r)!=null&&R!==W&&i.reference[w]/2-(R<M?I:L)-g[w]/2<0,Z=K?R<M?R-M:R-z:0;return{[p]:m[p]+Z,data:{[p]:W,centerOffset:R-W-Z,...K&&{alignmentOffset:Z}},reset:K}}}),H4=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:r,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:g=!0,...b}=cr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=ur(r),v=Is(l),y=ur(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=m||(y||!g?[Dd(l)]:L4(l)),S=w!=="none";!m&&S&&_.push(...z4(l,g,w,N));const C=[l,..._],E=await dc(e,b),k=[];let I=((s=i.flip)==null?void 0:s.overflows)||[];if(h&&k.push(E[x]),d){const R=D4(r,a,N);k.push(E[R[0]],E[R[1]])}if(I=[...I,{placement:r,overflows:k}],!k.every(R=>R<=0)){var L,M;const R=(((L=i.flip)==null?void 0:L.index)||0)+1,W=C[R];if(W&&(!(d==="alignment"?v!==Is(W):!1)||I.every(P=>P.overflows[0]>0&&Is(P.placement)===v)))return{data:{index:R,overflows:I},reset:{placement:W}};let K=(M=I.filter(Z=>Z.overflows[0]<=0).sort((Z,P)=>Z.overflows[1]-P.overflows[1])[0])==null?void 0:M.placement;if(!K)switch(p){case"bestFit":{var z;const Z=(z=I.filter(P=>{if(S){const j=Is(P.placement);return j===v||j==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(j=>j>0).reduce((j,A)=>j+A,0)]).sort((P,j)=>P[1]-j[1])[0])==null?void 0:z[0];Z&&(K=Z);break}case"initialPlacement":K=l;break}if(r!==K)return{reset:{placement:K}}}return{}}}};function l0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function c0(t){return P4.some(e=>t[e]>=0)}const G4=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...r}=cr(t,e);switch(s){case"referenceHidden":{const i=await dc(e,{...r,elementContext:"reference"}),a=l0(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:c0(a)}}}case"escaped":{const i=await dc(e,{...r,altBoundary:!0}),a=l0(i,n.floating);return{data:{escapedOffsets:a,escaped:c0(a)}}}default:return{}}}}},EC=new Set(["left","top"]);async function K4(t,e){const{placement:n,platform:s,elements:r}=t,i=await(s.isRTL==null?void 0:s.isRTL(r.floating)),a=ur(n),l=$a(n),c=Is(n)==="y",u=EC.has(a)?-1:1,h=i&&c?-1:1,d=cr(e,t);let{mainAxis:m,crossAxis:p,alignmentAxis:w}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof w=="number"&&(p=l==="end"?w*-1:w),c?{x:p*h,y:m*u}:{x:m*u,y:p*h}}const Q4=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:r,y:i,placement:a,middlewareData:l}=e,c=await K4(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:r+c.x,y:i+c.y,data:{...c,placement:a}}}}},q4=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:r}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:b=>{let{x,y:v}=b;return{x,y:v}}},...c}=cr(t,e),u={x:n,y:s},h=await dc(e,c),d=Is(ur(r)),m=Fx(d);let p=u[m],w=u[d];if(i){const b=m==="y"?"top":"left",x=m==="y"?"bottom":"right",v=p+h[b],y=p-h[x];p=Gp(v,p,y)}if(a){const b=d==="y"?"top":"left",x=d==="y"?"bottom":"right",v=w+h[b],y=w-h[x];w=Gp(v,w,y)}const g=l.fn({...e,[m]:p,[d]:w});return{...g,data:{x:g.x-n,y:g.y-s,enabled:{[m]:i,[d]:a}}}}}},Y4=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:r,rects:i,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=cr(t,e),h={x:n,y:s},d=Is(r),m=Fx(d);let p=h[m],w=h[d];const g=cr(l,e),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const y=m==="y"?"height":"width",N=i.reference[m]-i.floating[y]+b.mainAxis,_=i.reference[m]+i.reference[y]-b.mainAxis;p<N?p=N:p>_&&(p=_)}if(u){var x,v;const y=m==="y"?"width":"height",N=EC.has(ur(r)),_=i.reference[d]-i.floating[y]+(N&&((x=a.offset)==null?void 0:x[d])||0)+(N?0:b.crossAxis),S=i.reference[d]+i.reference[y]+(N?0:((v=a.offset)==null?void 0:v[d])||0)-(N?b.crossAxis:0);w<_?w=_:w>S&&(w=S)}return{[m]:p,[d]:w}}}},X4=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:r,rects:i,platform:a,elements:l}=e,{apply:c=()=>{},...u}=cr(t,e),h=await dc(e,u),d=ur(r),m=$a(r),p=Is(r)==="y",{width:w,height:g}=i.floating;let b,x;d==="top"||d==="bottom"?(b=d,x=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(x=d,b=m==="end"?"top":"bottom");const v=g-h.top-h.bottom,y=w-h.left-h.right,N=mi(g-h[b],v),_=mi(w-h[x],y),S=!e.middlewareData.shift;let C=N,E=_;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=y),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(C=v),S&&!m){const I=vn(h.left,0),L=vn(h.right,0),M=vn(h.top,0),z=vn(h.bottom,0);p?E=w-2*(I!==0||L!==0?I+L:vn(h.left,h.right)):C=g-2*(M!==0||z!==0?M+z:vn(h.top,h.bottom))}await c({...e,availableWidth:E,availableHeight:C});const k=await a.getDimensions(l.floating);return w!==k.width||g!==k.height?{reset:{rects:!0}}:{}}}};function Fh(){return typeof window<"u"}function Ua(t){return jC(t)?(t.nodeName||"").toLowerCase():"#document"}function Nn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function $s(t){var e;return(e=(jC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function jC(t){return Fh()?t instanceof Node||t instanceof Nn(t).Node:!1}function vs(t){return Fh()?t instanceof Element||t instanceof Nn(t).Element:!1}function Fs(t){return Fh()?t instanceof HTMLElement||t instanceof Nn(t).HTMLElement:!1}function u0(t){return!Fh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Nn(t).ShadowRoot}const J4=new Set(["inline","contents"]);function Vc(t){const{overflow:e,overflowX:n,overflowY:s,display:r}=ys(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!J4.has(r)}const Z4=new Set(["table","td","th"]);function eO(t){return Z4.has(Ua(t))}const tO=[":popover-open",":modal"];function $h(t){return tO.some(e=>{try{return t.matches(e)}catch{return!1}})}const nO=["transform","translate","scale","rotate","perspective"],sO=["transform","translate","scale","rotate","perspective","filter"],rO=["paint","layout","strict","content"];function zx(t){const e=Bx(),n=vs(t)?ys(t):t;return nO.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||sO.some(s=>(n.willChange||"").includes(s))||rO.some(s=>(n.contain||"").includes(s))}function iO(t){let e=pi(t);for(;Fs(e)&&!Na(e);){if(zx(e))return e;if($h(e))return null;e=pi(e)}return null}function Bx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const oO=new Set(["html","body","#document"]);function Na(t){return oO.has(Ua(t))}function ys(t){return Nn(t).getComputedStyle(t)}function Uh(t){return vs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function pi(t){if(Ua(t)==="html")return t;const e=t.assignedSlot||t.parentNode||u0(t)&&t.host||$s(t);return u0(e)?e.host:e}function kC(t){const e=pi(t);return Na(e)?t.ownerDocument?t.ownerDocument.body:t.body:Fs(e)&&Vc(e)?e:kC(e)}function hc(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=kC(t),i=r===((s=t.ownerDocument)==null?void 0:s.body),a=Nn(r);if(i){const l=Qp(a);return e.concat(a,a.visualViewport||[],Vc(r)?r:[],l&&n?hc(l):[])}return e.concat(r,hc(r,[],n))}function Qp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function TC(t){const e=ys(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const r=Fs(t),i=r?t.offsetWidth:n,a=r?t.offsetHeight:s,l=Od(n)!==i||Od(s)!==a;return l&&(n=i,s=a),{width:n,height:s,$:l}}function Vx(t){return vs(t)?t:t.contextElement}function Zo(t){const e=Vx(t);if(!Fs(e))return As(1);const n=e.getBoundingClientRect(),{width:s,height:r,$:i}=TC(e);let a=(i?Od(n.width):n.width)/s,l=(i?Od(n.height):n.height)/r;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const aO=As(0);function IC(t){const e=Nn(t);return!Bx()||!e.visualViewport?aO:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function lO(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Nn(t)?!1:e}function to(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=Vx(t);let a=As(1);e&&(s?vs(s)&&(a=Zo(s)):a=Zo(t));const l=lO(i,n,s)?IC(i):As(0);let c=(r.left+l.x)/a.x,u=(r.top+l.y)/a.y,h=r.width/a.x,d=r.height/a.y;if(i){const m=Nn(i),p=s&&vs(s)?Nn(s):s;let w=m,g=Qp(w);for(;g&&s&&p!==w;){const b=Zo(g),x=g.getBoundingClientRect(),v=ys(g),y=x.left+(g.clientLeft+parseFloat(v.paddingLeft))*b.x,N=x.top+(g.clientTop+parseFloat(v.paddingTop))*b.y;c*=b.x,u*=b.y,h*=b.x,d*=b.y,c+=y,u+=N,w=Nn(g),g=Qp(w)}}return Ld({width:h,height:d,x:c,y:u})}function Wx(t,e){const n=Uh(t).scrollLeft;return e?e.left+n:to($s(t)).left+n}function RC(t,e,n){n===void 0&&(n=!1);const s=t.getBoundingClientRect(),r=s.left+e.scrollLeft-(n?0:Wx(t,s)),i=s.top+e.scrollTop;return{x:r,y:i}}function cO(t){let{elements:e,rect:n,offsetParent:s,strategy:r}=t;const i=r==="fixed",a=$s(s),l=e?$h(e.floating):!1;if(s===a||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=As(1);const h=As(0),d=Fs(s);if((d||!d&&!i)&&((Ua(s)!=="body"||Vc(a))&&(c=Uh(s)),Fs(s))){const p=to(s);u=Zo(s),h.x=p.x+s.clientLeft,h.y=p.y+s.clientTop}const m=a&&!d&&!i?RC(a,c,!0):As(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+m.x,y:n.y*u.y-c.scrollTop*u.y+h.y+m.y}}function uO(t){return Array.from(t.getClientRects())}function dO(t){const e=$s(t),n=Uh(t),s=t.ownerDocument.body,r=vn(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),i=vn(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let a=-n.scrollLeft+Wx(t);const l=-n.scrollTop;return ys(s).direction==="rtl"&&(a+=vn(e.clientWidth,s.clientWidth)-r),{width:r,height:i,x:a,y:l}}function hO(t,e){const n=Nn(t),s=$s(t),r=n.visualViewport;let i=s.clientWidth,a=s.clientHeight,l=0,c=0;if(r){i=r.width,a=r.height;const u=Bx();(!u||u&&e==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}return{width:i,height:a,x:l,y:c}}const fO=new Set(["absolute","fixed"]);function mO(t,e){const n=to(t,!0,e==="fixed"),s=n.top+t.clientTop,r=n.left+t.clientLeft,i=Fs(t)?Zo(t):As(1),a=t.clientWidth*i.x,l=t.clientHeight*i.y,c=r*i.x,u=s*i.y;return{width:a,height:l,x:c,y:u}}function d0(t,e,n){let s;if(e==="viewport")s=hO(t,n);else if(e==="document")s=dO($s(t));else if(vs(e))s=mO(e,n);else{const r=IC(t);s={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Ld(s)}function PC(t,e){const n=pi(t);return n===e||!vs(n)||Na(n)?!1:ys(n).position==="fixed"||PC(n,e)}function pO(t,e){const n=e.get(t);if(n)return n;let s=hc(t,[],!1).filter(l=>vs(l)&&Ua(l)!=="body"),r=null;const i=ys(t).position==="fixed";let a=i?pi(t):t;for(;vs(a)&&!Na(a);){const l=ys(a),c=zx(a);!c&&l.position==="fixed"&&(r=null),(i?!c&&!r:!c&&l.position==="static"&&!!r&&fO.has(r.position)||Vc(a)&&!c&&PC(t,a))?s=s.filter(h=>h!==a):r=l,a=pi(a)}return e.set(t,s),s}function gO(t){let{element:e,boundary:n,rootBoundary:s,strategy:r}=t;const a=[...n==="clippingAncestors"?$h(e)?[]:pO(e,this._c):[].concat(n),s],l=a[0],c=a.reduce((u,h)=>{const d=d0(e,h,r);return u.top=vn(d.top,u.top),u.right=mi(d.right,u.right),u.bottom=mi(d.bottom,u.bottom),u.left=vn(d.left,u.left),u},d0(e,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function xO(t){const{width:e,height:n}=TC(t);return{width:e,height:n}}function vO(t,e,n){const s=Fs(e),r=$s(e),i=n==="fixed",a=to(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=As(0);function u(){c.x=Wx(r)}if(s||!s&&!i)if((Ua(e)!=="body"||Vc(r))&&(l=Uh(e)),s){const p=to(e,!0,i,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else r&&u();i&&!s&&r&&u();const h=r&&!s&&!i?RC(r,l):As(0),d=a.left+l.scrollLeft-c.x-h.x,m=a.top+l.scrollTop-c.y-h.y;return{x:d,y:m,width:a.width,height:a.height}}function pm(t){return ys(t).position==="static"}function h0(t,e){if(!Fs(t)||ys(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return $s(t)===n&&(n=n.ownerDocument.body),n}function AC(t,e){const n=Nn(t);if($h(t))return n;if(!Fs(t)){let r=pi(t);for(;r&&!Na(r);){if(vs(r)&&!pm(r))return r;r=pi(r)}return n}let s=h0(t,e);for(;s&&eO(s)&&pm(s);)s=h0(s,e);return s&&Na(s)&&pm(s)&&!zx(s)?n:s||iO(t)||n}const yO=async function(t){const e=this.getOffsetParent||AC,n=this.getDimensions,s=await n(t.floating);return{reference:vO(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function wO(t){return ys(t).direction==="rtl"}const bO={convertOffsetParentRelativeRectToViewportRelativeRect:cO,getDocumentElement:$s,getClippingRect:gO,getOffsetParent:AC,getElementRects:yO,getClientRects:uO,getDimensions:xO,getScale:Zo,isElement:vs,isRTL:wO};function MC(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function _O(t,e){let n=null,s;const r=$s(t);function i(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:h,top:d,width:m,height:p}=u;if(l||e(),!m||!p)return;const w=ju(d),g=ju(r.clientWidth-(h+m)),b=ju(r.clientHeight-(d+p)),x=ju(h),y={rootMargin:-w+"px "+-g+"px "+-b+"px "+-x+"px",threshold:vn(0,mi(1,c))||1};let N=!0;function _(S){const C=S[0].intersectionRatio;if(C!==c){if(!N)return a();C?a(!1,C):s=setTimeout(()=>{a(!1,1e-7)},1e3)}C===1&&!MC(u,t.getBoundingClientRect())&&a(),N=!1}try{n=new IntersectionObserver(_,{...y,root:r.ownerDocument})}catch{n=new IntersectionObserver(_,y)}n.observe(t)}return a(!0),i}function NO(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=Vx(t),h=r||i?[...u?hc(u):[],...hc(e)]:[];h.forEach(x=>{r&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const d=u&&l?_O(u,n):null;let m=-1,p=null;a&&(p=new ResizeObserver(x=>{let[v]=x;v&&v.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var y;(y=p)==null||y.observe(e)})),n()}),u&&!c&&p.observe(u),p.observe(e));let w,g=c?to(t):null;c&&b();function b(){const x=to(t);g&&!MC(g,x)&&n(),g=x,w=requestAnimationFrame(b)}return n(),()=>{var x;h.forEach(v=>{r&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),d==null||d(),(x=p)==null||x.disconnect(),p=null,c&&cancelAnimationFrame(w)}}const CO=Q4,SO=q4,EO=H4,jO=X4,kO=G4,f0=W4,TO=Y4,IO=(t,e,n)=>{const s=new Map,r={platform:bO,...n},i={...r.platform,_c:s};return V4(t,e,{...r,platform:i})};var RO=typeof document<"u",PO=function(){},Zu=RO?f.useLayoutEffect:PO;function Fd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!Fd(t[s],e[s]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,r[s]))return!1;for(s=n;s--!==0;){const i=r[s];if(!(i==="_owner"&&t.$$typeof)&&!Fd(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function OC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function m0(t,e){const n=OC(t);return Math.round(e*n)/n}function gm(t){const e=f.useRef(t);return Zu(()=>{e.current=t}),e}function AO(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:r,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[h,d]=f.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,p]=f.useState(s);Fd(m,s)||p(s);const[w,g]=f.useState(null),[b,x]=f.useState(null),v=f.useCallback(P=>{P!==S.current&&(S.current=P,g(P))},[]),y=f.useCallback(P=>{P!==C.current&&(C.current=P,x(P))},[]),N=i||w,_=a||b,S=f.useRef(null),C=f.useRef(null),E=f.useRef(h),k=c!=null,I=gm(c),L=gm(r),M=gm(u),z=f.useCallback(()=>{if(!S.current||!C.current)return;const P={placement:e,strategy:n,middleware:m};L.current&&(P.platform=L.current),IO(S.current,C.current,P).then(j=>{const A={...j,isPositioned:M.current!==!1};R.current&&!Fd(E.current,A)&&(E.current=A,go.flushSync(()=>{d(A)}))})},[m,e,n,L,M]);Zu(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,d(P=>({...P,isPositioned:!1})))},[u]);const R=f.useRef(!1);Zu(()=>(R.current=!0,()=>{R.current=!1}),[]),Zu(()=>{if(N&&(S.current=N),_&&(C.current=_),N&&_){if(I.current)return I.current(N,_,z);z()}},[N,_,z,I,k]);const W=f.useMemo(()=>({reference:S,floating:C,setReference:v,setFloating:y}),[v,y]),K=f.useMemo(()=>({reference:N,floating:_}),[N,_]),Z=f.useMemo(()=>{const P={position:n,left:0,top:0};if(!K.floating)return P;const j=m0(K.floating,h.x),A=m0(K.floating,h.y);return l?{...P,transform:"translate("+j+"px, "+A+"px)",...OC(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:A}},[n,l,K.floating,h.x,h.y]);return f.useMemo(()=>({...h,update:z,refs:W,elements:K,floatingStyles:Z}),[h,z,W,K,Z])}const MO=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:r}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?f0({element:s.current,padding:r}).fn(n):{}:s?f0({element:s,padding:r}).fn(n):{}}}},OO=(t,e)=>({...CO(t),options:[t,e]}),DO=(t,e)=>({...SO(t),options:[t,e]}),LO=(t,e)=>({...TO(t),options:[t,e]}),FO=(t,e)=>({...EO(t),options:[t,e]}),$O=(t,e)=>({...jO(t),options:[t,e]}),UO=(t,e)=>({...kO(t),options:[t,e]}),zO=(t,e)=>({...MO(t),options:[t,e]});var BO="Arrow",DC=f.forwardRef((t,e)=>{const{children:n,width:s=10,height:r=5,...i}=t;return o.jsx(se.svg,{...i,ref:e,width:s,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});DC.displayName=BO;var VO=DC;function zh(t){const[e,n]=f.useState(void 0);return ft(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const i=r[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var Hx="Popper",[LC,za]=It(Hx),[WO,FC]=LC(Hx),$C=t=>{const{__scopePopper:e,children:n}=t,[s,r]=f.useState(null);return o.jsx(WO,{scope:e,anchor:s,onAnchorChange:r,children:n})};$C.displayName=Hx;var UC="PopperAnchor",zC=f.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...r}=t,i=FC(UC,n),a=f.useRef(null),l=Ne(e,a);return f.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||a.current)}),s?null:o.jsx(se.div,{...r,ref:l})});zC.displayName=UC;var Gx="PopperContent",[HO,GO]=LC(Gx),BC=f.forwardRef((t,e)=>{var T,G,oe,ie,ae,me;const{__scopePopper:n,side:s="bottom",sideOffset:r=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:d="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:w,...g}=t,b=FC(Gx,n),[x,v]=f.useState(null),y=Ne(e,tt=>v(tt)),[N,_]=f.useState(null),S=zh(N),C=(S==null?void 0:S.width)??0,E=(S==null?void 0:S.height)??0,k=s+(i!=="center"?"-"+i:""),I=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},L=Array.isArray(u)?u:[u],M=L.length>0,z={padding:I,boundary:L.filter(QO),altBoundary:M},{refs:R,floatingStyles:W,placement:K,isPositioned:Z,middlewareData:P}=AO({strategy:"fixed",placement:k,whileElementsMounted:(...tt)=>NO(...tt,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[OO({mainAxis:r+E,alignmentAxis:a}),c&&DO({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?LO():void 0,...z}),c&&FO({...z}),$O({...z,apply:({elements:tt,rects:Oe,availableWidth:te,availableHeight:le})=>{const{width:Ae,height:$t}=Oe.reference,Xe=tt.floating.style;Xe.setProperty("--radix-popper-available-width",`${te}px`),Xe.setProperty("--radix-popper-available-height",`${le}px`),Xe.setProperty("--radix-popper-anchor-width",`${Ae}px`),Xe.setProperty("--radix-popper-anchor-height",`${$t}px`)}}),N&&zO({element:N,padding:l}),qO({arrowWidth:C,arrowHeight:E}),m&&UO({strategy:"referenceHidden",...z})]}),[j,A]=HC(K),D=Zt(w);ft(()=>{Z&&(D==null||D())},[Z,D]);const $=(T=P.arrow)==null?void 0:T.x,Y=(G=P.arrow)==null?void 0:G.y,Q=((oe=P.arrow)==null?void 0:oe.centerOffset)!==0,[de,ce]=f.useState();return ft(()=>{x&&ce(window.getComputedStyle(x).zIndex)},[x]),o.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:Z?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:de,"--radix-popper-transform-origin":[(ie=P.transformOrigin)==null?void 0:ie.x,(ae=P.transformOrigin)==null?void 0:ae.y].join(" "),...((me=P.hide)==null?void 0:me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(HO,{scope:n,placedSide:j,onArrowChange:_,arrowX:$,arrowY:Y,shouldHideArrow:Q,children:o.jsx(se.div,{"data-side":j,"data-align":A,...g,ref:y,style:{...g.style,animation:Z?void 0:"none"}})})})});BC.displayName=Gx;var VC="PopperArrow",KO={top:"bottom",right:"left",bottom:"top",left:"right"},WC=f.forwardRef(function(e,n){const{__scopePopper:s,...r}=e,i=GO(VC,s),a=KO[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(VO,{...r,ref:n,style:{...r.style,display:"block"}})})});WC.displayName=VC;function QO(t){return t!==null}var qO=t=>({name:"transformOrigin",options:t,fn(e){var b,x,v;const{placement:n,rects:s,middlewareData:r}=e,a=((b=r.arrow)==null?void 0:b.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,h]=HC(n),d={start:"0%",center:"50%",end:"100%"}[h],m=(((x=r.arrow)==null?void 0:x.x)??0)+l/2,p=(((v=r.arrow)==null?void 0:v.y)??0)+c/2;let w="",g="";return u==="bottom"?(w=a?d:`${m}px`,g=`${-c}px`):u==="top"?(w=a?d:`${m}px`,g=`${s.floating.height+c}px`):u==="right"?(w=`${-c}px`,g=a?d:`${p}px`):u==="left"&&(w=`${s.floating.width+c}px`,g=a?d:`${p}px`),{data:{x:w,y:g}}}});function HC(t){const[e,n="center"]=t.split("-");return[e,n]}var GC=$C,Kx=zC,Qx=BC,qx=WC,[Bh,u9]=It("Tooltip",[za]),Yx=za(),KC="TooltipProvider",YO=700,p0="tooltip.open",[XO,QC]=Bh(KC),qC=t=>{const{__scopeTooltip:e,delayDuration:n=YO,skipDelayDuration:s=300,disableHoverableContent:r=!1,children:i}=t,a=f.useRef(!0),l=f.useRef(!1),c=f.useRef(0);return f.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(XO,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:f.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:f.useCallback(u=>{l.current=u},[]),disableHoverableContent:r,children:i})};qC.displayName=KC;var YC="Tooltip",[d9,Vh]=Bh(YC),qp="TooltipTrigger",JO=f.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,r=Vh(qp,n),i=QC(qp,n),a=Yx(n),l=f.useRef(null),c=Ne(e,l,r.onTriggerChange),u=f.useRef(!1),h=f.useRef(!1),d=f.useCallback(()=>u.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),o.jsx(Kx,{asChild:!0,...a,children:o.jsx(se.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...s,ref:c,onPointerMove:H(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(r.onTriggerEnter(),h.current=!0)}),onPointerLeave:H(t.onPointerLeave,()=>{r.onTriggerLeave(),h.current=!1}),onPointerDown:H(t.onPointerDown,()=>{r.open&&r.onClose(),u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:H(t.onFocus,()=>{u.current||r.onOpen()}),onBlur:H(t.onBlur,r.onClose),onClick:H(t.onClick,r.onClose)})})});JO.displayName=qp;var ZO="TooltipPortal",[h9,eD]=Bh(ZO,{forceMount:void 0}),Ca="TooltipContent",XC=f.forwardRef((t,e)=>{const n=eD(Ca,t.__scopeTooltip),{forceMount:s=n.forceMount,side:r="top",...i}=t,a=Vh(Ca,t.__scopeTooltip);return o.jsx(gn,{present:s||a.open,children:a.disableHoverableContent?o.jsx(JC,{side:r,...i,ref:e}):o.jsx(tD,{side:r,...i,ref:e})})}),tD=f.forwardRef((t,e)=>{const n=Vh(Ca,t.__scopeTooltip),s=QC(Ca,t.__scopeTooltip),r=f.useRef(null),i=Ne(e,r),[a,l]=f.useState(null),{trigger:c,onClose:u}=n,h=r.current,{onPointerInTransitChange:d}=s,m=f.useCallback(()=>{l(null),d(!1)},[d]),p=f.useCallback((w,g)=>{const b=w.currentTarget,x={x:w.clientX,y:w.clientY},v=oD(x,b.getBoundingClientRect()),y=aD(x,v),N=lD(g.getBoundingClientRect()),_=uD([...y,...N]);l(_),d(!0)},[d]);return f.useEffect(()=>()=>m(),[m]),f.useEffect(()=>{if(c&&h){const w=b=>p(b,h),g=b=>p(b,c);return c.addEventListener("pointerleave",w),h.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",w),h.removeEventListener("pointerleave",g)}}},[c,h,p,m]),f.useEffect(()=>{if(a){const w=g=>{const b=g.target,x={x:g.clientX,y:g.clientY},v=(c==null?void 0:c.contains(b))||(h==null?void 0:h.contains(b)),y=!cD(x,a);v?m():y&&(m(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,h,a,u,m]),o.jsx(JC,{...t,ref:i})}),[nD,sD]=Bh(YC,{isInside:!1}),rD=aA("TooltipContent"),JC=f.forwardRef((t,e)=>{const{__scopeTooltip:n,children:s,"aria-label":r,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=t,c=Vh(Ca,n),u=Yx(n),{onClose:h}=c;return f.useEffect(()=>(document.addEventListener(p0,h),()=>document.removeEventListener(p0,h)),[h]),f.useEffect(()=>{if(c.trigger){const d=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&h()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,h]),o.jsx(La,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:d=>d.preventDefault(),onDismiss:h,children:o.jsxs(Qx,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(rD,{children:s}),o.jsx(nD,{scope:n,isInside:!0,children:o.jsx(TA,{id:c.contentId,role:"tooltip",children:r||s})})]})})});XC.displayName=Ca;var ZC="TooltipArrow",iD=f.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,r=Yx(n);return sD(ZC,n).isInside?null:o.jsx(qx,{...r,...s,ref:e})});iD.displayName=ZC;function oD(t,e){const n=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),r=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,s,r,i)){case i:return"left";case r:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function aD(t,e,n=5){const s=[];switch(e){case"top":s.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":s.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":s.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":s.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return s}function lD(t){const{top:e,right:n,bottom:s,left:r}=t;return[{x:r,y:e},{x:n,y:e},{x:n,y:s},{x:r,y:s}]}function cD(t,e){const{x:n,y:s}=t;let r=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const l=e[i],c=e[a],u=l.x,h=l.y,d=c.x,m=c.y;h>s!=m>s&&n<(d-u)*(s-h)/(m-h)+u&&(r=!r)}return r}function uD(t){const e=t.slice();return e.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),dD(e)}function dD(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const r=t[s];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(r.y-a.y)>=(i.y-a.y)*(r.x-a.x))e.pop();else break}e.push(r)}e.pop();const n=[];for(let s=t.length-1;s>=0;s--){const r=t[s];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(r.y-a.y)>=(i.y-a.y)*(r.x-a.x))n.pop();else break}n.push(r)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var hD=qC,eS=XC;const fD=hD,mD=f.forwardRef(({className:t,sideOffset:e=4,...n},s)=>o.jsx(eS,{ref:s,sideOffset:e,className:q("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));mD.displayName=eS.displayName;var Wh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Hh=typeof window>"u"||"Deno"in globalThis;function ts(){}function pD(t,e){return typeof t=="function"?t(e):t}function gD(t){return typeof t=="number"&&t>=0&&t!==1/0}function xD(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Yp(t,e){return typeof t=="function"?t(e):t}function vD(t,e){return typeof t=="function"?t(e):t}function g0(t,e){const{type:n="all",exact:s,fetchStatus:r,predicate:i,queryKey:a,stale:l}=t;if(a){if(s){if(e.queryHash!==Xx(a,e.options))return!1}else if(!mc(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||r&&r!==e.state.fetchStatus||i&&!i(e))}function x0(t,e){const{exact:n,status:s,predicate:r,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(fc(e.options.mutationKey)!==fc(i))return!1}else if(!mc(e.options.mutationKey,i))return!1}return!(s&&e.state.status!==s||r&&!r(e))}function Xx(t,e){return((e==null?void 0:e.queryKeyHashFn)||fc)(t)}function fc(t){return JSON.stringify(t,(e,n)=>Xp(n)?Object.keys(n).sort().reduce((s,r)=>(s[r]=n[r],s),{}):n)}function mc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>mc(t[n],e[n])):!1}function tS(t,e){if(t===e)return t;const n=v0(t)&&v0(e);if(n||Xp(t)&&Xp(e)){const s=n?t:Object.keys(t),r=s.length,i=n?e:Object.keys(e),a=i.length,l=n?[]:{},c=new Set(s);let u=0;for(let h=0;h<a;h++){const d=n?h:i[h];(!n&&c.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(l[d]=void 0,u++):(l[d]=tS(t[d],e[d]),l[d]===t[d]&&t[d]!==void 0&&u++)}return r===a&&u===r?t:l}return e}function v0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Xp(t){if(!y0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!y0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function y0(t){return Object.prototype.toString.call(t)==="[object Object]"}function yD(t){return new Promise(e=>{setTimeout(e,t)})}function wD(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?tS(t,e):e}function bD(t,e,n=0){const s=[...t,e];return n&&s.length>n?s.slice(1):s}function _D(t,e,n=0){const s=[e,...t];return n&&s.length>n?s.slice(0,-1):s}var Jx=Symbol();function nS(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Jx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Li,Or,aa,i_,ND=(i_=class extends Wh{constructor(){super();De(this,Li);De(this,Or);De(this,aa);be(this,aa,e=>{if(!Hh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){O(this,Or)||this.setEventListener(O(this,aa))}onUnsubscribe(){var e;this.hasListeners()||((e=O(this,Or))==null||e.call(this),be(this,Or,void 0))}setEventListener(e){var n;be(this,aa,e),(n=O(this,Or))==null||n.call(this),be(this,Or,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){O(this,Li)!==e&&(be(this,Li,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof O(this,Li)=="boolean"?O(this,Li):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Li=new WeakMap,Or=new WeakMap,aa=new WeakMap,i_),sS=new ND,la,Dr,ca,o_,CD=(o_=class extends Wh{constructor(){super();De(this,la,!0);De(this,Dr);De(this,ca);be(this,ca,e=>{if(!Hh&&window.addEventListener){const n=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){O(this,Dr)||this.setEventListener(O(this,ca))}onUnsubscribe(){var e;this.hasListeners()||((e=O(this,Dr))==null||e.call(this),be(this,Dr,void 0))}setEventListener(e){var n;be(this,ca,e),(n=O(this,Dr))==null||n.call(this),be(this,Dr,e(this.setOnline.bind(this)))}setOnline(e){O(this,la)!==e&&(be(this,la,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return O(this,la)}},la=new WeakMap,Dr=new WeakMap,ca=new WeakMap,o_),$d=new CD;function SD(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});n.status="pending",n.catch(()=>{});function s(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{s({status:"fulfilled",value:r}),t(r)},n.reject=r=>{s({status:"rejected",reason:r}),e(r)},n}function ED(t){return Math.min(1e3*2**t,3e4)}function rS(t){return(t??"online")==="online"?$d.isOnline():!0}var iS=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function xm(t){return t instanceof iS}function oS(t){let e=!1,n=0,s=!1,r;const i=SD(),a=g=>{var b;s||(m(new iS(g)),(b=t.abort)==null||b.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>sS.isFocused()&&(t.networkMode==="always"||$d.isOnline())&&t.canRun(),h=()=>rS(t.networkMode)&&t.canRun(),d=g=>{var b;s||(s=!0,(b=t.onSuccess)==null||b.call(t,g),r==null||r(),i.resolve(g))},m=g=>{var b;s||(s=!0,(b=t.onError)==null||b.call(t,g),r==null||r(),i.reject(g))},p=()=>new Promise(g=>{var b;r=x=>{(s||u())&&g(x)},(b=t.onPause)==null||b.call(t)}).then(()=>{var g;r=void 0,s||(g=t.onContinue)==null||g.call(t)}),w=()=>{if(s)return;let g;const b=n===0?t.initialPromise:void 0;try{g=b??t.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(d).catch(x=>{var S;if(s)return;const v=t.retry??(Hh?0:3),y=t.retryDelay??ED,N=typeof y=="function"?y(n,x):y,_=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,x);if(e||!_){m(x);return}n++,(S=t.onFail)==null||S.call(t,n,x),yD(N).then(()=>u()?void 0:p()).then(()=>{e?m(x):w()})})};return{promise:i,cancel:a,continue:()=>(r==null||r(),i),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?w():p().then(w),i)}}var jD=t=>setTimeout(t,0);function kD(){let t=[],e=0,n=l=>{l()},s=l=>{l()},r=jD;const i=l=>{e?t.push(l):r(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&r(()=>{s(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{r=l}}}var qt=kD(),Fi,a_,aS=(a_=class{constructor(){De(this,Fi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),gD(this.gcTime)&&be(this,Fi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Hh?1/0:5*60*1e3))}clearGcTimeout(){O(this,Fi)&&(clearTimeout(O(this,Fi)),be(this,Fi,void 0))}},Fi=new WeakMap,a_),ua,$i,Rn,Ui,Vt,Rc,zi,ns,Vs,l_,TD=(l_=class extends aS{constructor(e){super();De(this,ns);De(this,ua);De(this,$i);De(this,Rn);De(this,Ui);De(this,Vt);De(this,Rc);De(this,zi);be(this,zi,!1),be(this,Rc,e.defaultOptions),this.setOptions(e.options),this.observers=[],be(this,Ui,e.client),be(this,Rn,O(this,Ui).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,be(this,ua,RD(this.options)),this.state=e.state??O(this,ua),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=O(this,Vt))==null?void 0:e.promise}setOptions(e){this.options={...O(this,Rc),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&O(this,Rn).remove(this)}setData(e,n){const s=wD(this.state.data,e,this.options);return Ut(this,ns,Vs).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(e,n){Ut(this,ns,Vs).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var s,r;const n=(s=O(this,Vt))==null?void 0:s.promise;return(r=O(this,Vt))==null||r.cancel(e),n?n.then(ts).catch(ts):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(O(this,ua))}isActive(){return this.observers.some(e=>vD(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Jx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Yp(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!xD(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=O(this,Vt))==null||n.continue()}onOnline(){var n;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=O(this,Vt))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),O(this,Rn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(O(this,Vt)&&(O(this,zi)?O(this,Vt).cancel({revert:!0}):O(this,Vt).cancelRetry()),this.scheduleGc()),O(this,Rn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ut(this,ns,Vs).call(this,{type:"invalidate"})}fetch(e,n){var u,h,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(O(this,Vt))return O(this,Vt).continueRetry(),O(this,Vt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(p=>p.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,r=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(be(this,zi,!0),s.signal)})},i=()=>{const m=nS(this.options,n),w=(()=>{const g={client:O(this,Ui),queryKey:this.queryKey,meta:this.meta};return r(g),g})();return be(this,zi,!1),this.options.persister?this.options.persister(m,w,this):m(w)},l=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:O(this,Ui),state:this.state,fetchFn:i};return r(m),m})();(u=this.options.behavior)==null||u.onFetch(l,this),be(this,$i,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&Ut(this,ns,Vs).call(this,{type:"fetch",meta:(d=l.fetchOptions)==null?void 0:d.meta});const c=m=>{var p,w,g,b;xm(m)&&m.silent||Ut(this,ns,Vs).call(this,{type:"error",error:m}),xm(m)||((w=(p=O(this,Rn).config).onError)==null||w.call(p,m,this),(b=(g=O(this,Rn).config).onSettled)==null||b.call(g,this.state.data,m,this)),this.scheduleGc()};return be(this,Vt,oS({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var p,w,g,b;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(x){c(x);return}(w=(p=O(this,Rn).config).onSuccess)==null||w.call(p,m,this),(b=(g=O(this,Rn).config).onSettled)==null||b.call(g,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,p)=>{Ut(this,ns,Vs).call(this,{type:"failed",failureCount:m,error:p})},onPause:()=>{Ut(this,ns,Vs).call(this,{type:"pause"})},onContinue:()=>{Ut(this,ns,Vs).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),O(this,Vt).start()}},ua=new WeakMap,$i=new WeakMap,Rn=new WeakMap,Ui=new WeakMap,Vt=new WeakMap,Rc=new WeakMap,zi=new WeakMap,ns=new WeakSet,Vs=function(e){const n=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...ID(s.data,this.options),fetchMeta:e.meta??null};case"success":return be(this,$i,void 0),{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return xm(r)&&r.revert&&O(this,$i)?{...O(this,$i),fetchStatus:"idle"}:{...s,error:r,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=n(this.state),qt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),O(this,Rn).notify({query:this,type:"updated",action:e})})},l_);function ID(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:rS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function RD(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,s=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ss,c_,PD=(c_=class extends Wh{constructor(e={}){super();De(this,Ss);this.config=e,be(this,Ss,new Map)}build(e,n,s){const r=n.queryKey,i=n.queryHash??Xx(r,n);let a=this.get(i);return a||(a=new TD({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(n),state:s,defaultOptions:e.getQueryDefaults(r)}),this.add(a)),a}add(e){O(this,Ss).has(e.queryHash)||(O(this,Ss).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=O(this,Ss).get(e.queryHash);n&&(e.destroy(),n===e&&O(this,Ss).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){qt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return O(this,Ss).get(e)}getAll(){return[...O(this,Ss).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(s=>g0(n,s))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(s=>g0(e,s)):n}notify(e){qt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){qt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){qt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ss=new WeakMap,c_),Es,Kt,Bi,js,Sr,u_,AD=(u_=class extends aS{constructor(e){super();De(this,js);De(this,Es);De(this,Kt);De(this,Bi);this.mutationId=e.mutationId,be(this,Kt,e.mutationCache),be(this,Es,[]),this.state=e.state||MD(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){O(this,Es).includes(e)||(O(this,Es).push(e),this.clearGcTimeout(),O(this,Kt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){be(this,Es,O(this,Es).filter(n=>n!==e)),this.scheduleGc(),O(this,Kt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){O(this,Es).length||(this.state.status==="pending"?this.scheduleGc():O(this,Kt).remove(this))}continue(){var e;return((e=O(this,Bi))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,l,c,u,h,d,m,p,w,g,b,x,v,y,N,_,S,C,E;const n=()=>{Ut(this,js,Sr).call(this,{type:"continue"})};be(this,Bi,oS({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(k,I)=>{Ut(this,js,Sr).call(this,{type:"failed",failureCount:k,error:I})},onPause:()=>{Ut(this,js,Sr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>O(this,Kt).canRun(this)}));const s=this.state.status==="pending",r=!O(this,Bi).canStart();try{if(s)n();else{Ut(this,js,Sr).call(this,{type:"pending",variables:e,isPaused:r}),await((a=(i=O(this,Kt).config).onMutate)==null?void 0:a.call(i,e,this));const I=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e));I!==this.state.context&&Ut(this,js,Sr).call(this,{type:"pending",context:I,variables:e,isPaused:r})}const k=await O(this,Bi).start();return await((h=(u=O(this,Kt).config).onSuccess)==null?void 0:h.call(u,k,e,this.state.context,this)),await((m=(d=this.options).onSuccess)==null?void 0:m.call(d,k,e,this.state.context)),await((w=(p=O(this,Kt).config).onSettled)==null?void 0:w.call(p,k,null,this.state.variables,this.state.context,this)),await((b=(g=this.options).onSettled)==null?void 0:b.call(g,k,null,e,this.state.context)),Ut(this,js,Sr).call(this,{type:"success",data:k}),k}catch(k){try{throw await((v=(x=O(this,Kt).config).onError)==null?void 0:v.call(x,k,e,this.state.context,this)),await((N=(y=this.options).onError)==null?void 0:N.call(y,k,e,this.state.context)),await((S=(_=O(this,Kt).config).onSettled)==null?void 0:S.call(_,void 0,k,this.state.variables,this.state.context,this)),await((E=(C=this.options).onSettled)==null?void 0:E.call(C,void 0,k,e,this.state.context)),k}finally{Ut(this,js,Sr).call(this,{type:"error",error:k})}}finally{O(this,Kt).runNext(this)}}},Es=new WeakMap,Kt=new WeakMap,Bi=new WeakMap,js=new WeakSet,Sr=function(e){const n=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),qt.batch(()=>{O(this,Es).forEach(s=>{s.onMutationUpdate(e)}),O(this,Kt).notify({mutation:this,type:"updated",action:e})})},u_);function MD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Gs,ss,Pc,d_,OD=(d_=class extends Wh{constructor(e={}){super();De(this,Gs);De(this,ss);De(this,Pc);this.config=e,be(this,Gs,new Set),be(this,ss,new Map),be(this,Pc,0)}build(e,n,s){const r=new AD({mutationCache:this,mutationId:++ou(this,Pc)._,options:e.defaultMutationOptions(n),state:s});return this.add(r),r}add(e){O(this,Gs).add(e);const n=ku(e);if(typeof n=="string"){const s=O(this,ss).get(n);s?s.push(e):O(this,ss).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(O(this,Gs).delete(e)){const n=ku(e);if(typeof n=="string"){const s=O(this,ss).get(n);if(s)if(s.length>1){const r=s.indexOf(e);r!==-1&&s.splice(r,1)}else s[0]===e&&O(this,ss).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=ku(e);if(typeof n=="string"){const s=O(this,ss).get(n),r=s==null?void 0:s.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){var s;const n=ku(e);if(typeof n=="string"){const r=(s=O(this,ss).get(n))==null?void 0:s.find(i=>i!==e&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){qt.batch(()=>{O(this,Gs).forEach(e=>{this.notify({type:"removed",mutation:e})}),O(this,Gs).clear(),O(this,ss).clear()})}getAll(){return Array.from(O(this,Gs))}find(e){const n={exact:!0,...e};return this.getAll().find(s=>x0(n,s))}findAll(e={}){return this.getAll().filter(n=>x0(e,n))}notify(e){qt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return qt.batch(()=>Promise.all(e.map(n=>n.continue().catch(ts))))}},Gs=new WeakMap,ss=new WeakMap,Pc=new WeakMap,d_);function ku(t){var e;return(e=t.options.scope)==null?void 0:e.id}function w0(t){return{onFetch:(e,n)=>{var h,d,m,p,w;const s=e.options,r=(m=(d=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:d.fetchMore)==null?void 0:m.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],a=((w=e.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const b=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},x=nS(e.options,e.fetchOptions),v=async(y,N,_)=>{if(g)return Promise.reject();if(N==null&&y.pages.length)return Promise.resolve(y);const C=(()=>{const L={client:e.client,queryKey:e.queryKey,pageParam:N,direction:_?"backward":"forward",meta:e.options.meta};return b(L),L})(),E=await x(C),{maxPages:k}=e.options,I=_?_D:bD;return{pages:I(y.pages,E,k),pageParams:I(y.pageParams,N,k)}};if(r&&i.length){const y=r==="backward",N=y?DD:b0,_={pages:i,pageParams:a},S=N(s,_);l=await v(_,S,y)}else{const y=t??i.length;do{const N=c===0?a[0]??s.initialPageParam:b0(s,l);if(c>0&&N==null)break;l=await v(l,N),c++}while(c<y)}return l};e.options.persister?e.fetchFn=()=>{var g,b;return(b=(g=e.options).persister)==null?void 0:b.call(g,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function b0(t,{pages:e,pageParams:n}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,n[s],n):void 0}function DD(t,{pages:e,pageParams:n}){var s;return e.length>0?(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,n[0],n):void 0}var ot,Lr,Fr,da,ha,$r,fa,ma,h_,LD=(h_=class{constructor(t={}){De(this,ot);De(this,Lr);De(this,Fr);De(this,da);De(this,ha);De(this,$r);De(this,fa);De(this,ma);be(this,ot,t.queryCache||new PD),be(this,Lr,t.mutationCache||new OD),be(this,Fr,t.defaultOptions||{}),be(this,da,new Map),be(this,ha,new Map),be(this,$r,0)}mount(){ou(this,$r)._++,O(this,$r)===1&&(be(this,fa,sS.subscribe(async t=>{t&&(await this.resumePausedMutations(),O(this,ot).onFocus())})),be(this,ma,$d.subscribe(async t=>{t&&(await this.resumePausedMutations(),O(this,ot).onOnline())})))}unmount(){var t,e;ou(this,$r)._--,O(this,$r)===0&&((t=O(this,fa))==null||t.call(this),be(this,fa,void 0),(e=O(this,ma))==null||e.call(this),be(this,ma,void 0))}isFetching(t){return O(this,ot).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return O(this,Lr).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=O(this,ot).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=O(this,ot).build(this,e),s=n.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Yp(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return O(this,ot).findAll(t).map(({queryKey:e,state:n})=>{const s=n.data;return[e,s]})}setQueryData(t,e,n){const s=this.defaultQueryOptions({queryKey:t}),r=O(this,ot).get(s.queryHash),i=r==null?void 0:r.state.data,a=pD(e,i);if(a!==void 0)return O(this,ot).build(this,s).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return qt.batch(()=>O(this,ot).findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=O(this,ot).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=O(this,ot);qt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=O(this,ot);return qt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},s=qt.batch(()=>O(this,ot).findAll(t).map(r=>r.cancel(n)));return Promise.all(s).then(ts).catch(ts)}invalidateQueries(t,e={}){return qt.batch(()=>(O(this,ot).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},s=qt.batch(()=>O(this,ot).findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let i=r.fetch(void 0,n);return n.throwOnError||(i=i.catch(ts)),r.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(ts)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=O(this,ot).build(this,e);return n.isStaleByTime(Yp(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ts).catch(ts)}fetchInfiniteQuery(t){return t.behavior=w0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ts).catch(ts)}ensureInfiniteQueryData(t){return t.behavior=w0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return $d.isOnline()?O(this,Lr).resumePausedMutations():Promise.resolve()}getQueryCache(){return O(this,ot)}getMutationCache(){return O(this,Lr)}getDefaultOptions(){return O(this,Fr)}setDefaultOptions(t){be(this,Fr,t)}setQueryDefaults(t,e){O(this,da).set(fc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...O(this,da).values()],n={};return e.forEach(s=>{mc(t,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(t,e){O(this,ha).set(fc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...O(this,ha).values()],n={};return e.forEach(s=>{mc(t,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...O(this,Fr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Xx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Jx&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...O(this,Fr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){O(this,ot).clear(),O(this,Lr).clear()}},ot=new WeakMap,Lr=new WeakMap,Fr=new WeakMap,da=new WeakMap,ha=new WeakMap,$r=new WeakMap,fa=new WeakMap,ma=new WeakMap,h_),FD=f.createContext(void 0),$D=({client:t,children:e})=>(f.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(FD.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pc(){return pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},pc.apply(this,arguments)}var Wr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Wr||(Wr={}));const _0="popstate";function UD(t){t===void 0&&(t={});function e(s,r){let{pathname:i,search:a,hash:l}=s.location;return Jp("",{pathname:i,search:a,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:Ud(r)}return BD(e,n,null,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zD(){return Math.random().toString(36).substr(2,8)}function N0(t,e){return{usr:t.state,key:t.key,idx:e}}function Jp(t,e,n,s){return n===void 0&&(n=null),pc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ba(e):e,{state:n,key:e&&e.key||s||zD()})}function Ud(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Ba(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function BD(t,e,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:i=!1}=s,a=r.history,l=Wr.Pop,c=null,u=h();u==null&&(u=0,a.replaceState(pc({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function d(){l=Wr.Pop;let b=h(),x=b==null?null:b-u;u=b,c&&c({action:l,location:g.location,delta:x})}function m(b,x){l=Wr.Push;let v=Jp(g.location,b,x);u=h()+1;let y=N0(v,u),N=g.createHref(v);try{a.pushState(y,"",N)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;r.location.assign(N)}i&&c&&c({action:l,location:g.location,delta:1})}function p(b,x){l=Wr.Replace;let v=Jp(g.location,b,x);u=h();let y=N0(v,u),N=g.createHref(v);a.replaceState(y,"",N),i&&c&&c({action:l,location:g.location,delta:0})}function w(b){let x=r.location.origin!=="null"?r.location.origin:r.location.href,v=typeof b=="string"?b:Ud(b);return v=v.replace(/ $/,"%20"),ht(x,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,x)}let g={get action(){return l},get location(){return t(r,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(_0,d),c=b,()=>{r.removeEventListener(_0,d),c=null}},createHref(b){return e(r,b)},createURL:w,encodeLocation(b){let x=w(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:p,go(b){return a.go(b)}};return g}var C0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(C0||(C0={}));function VD(t,e,n){return n===void 0&&(n="/"),WD(t,e,n,!1)}function WD(t,e,n,s){let r=typeof e=="string"?Ba(e):e,i=Zx(r.pathname||"/",n);if(i==null)return null;let a=cS(t);HD(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=nL(i);l=eL(a[c],u,s)}return l}function cS(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(ht(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=ti([s,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(ht(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),cS(i.children,e,h,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:JD(u,i.index),routesMeta:h})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))r(i,a);else for(let c of uS(i.path))r(i,a,c)}),e}function uS(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let a=uS(s.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),r&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function HD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ZD(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const GD=/^:[\w-]+$/,KD=3,QD=2,qD=1,YD=10,XD=-2,S0=t=>t==="*";function JD(t,e){let n=t.split("/"),s=n.length;return n.some(S0)&&(s+=XD),e&&(s+=QD),n.filter(r=>!S0(r)).reduce((r,i)=>r+(GD.test(i)?KD:i===""?qD:YD),s)}function ZD(t,e){return t.length===e.length&&t.slice(0,-1).every((s,r)=>s===e[r])?t[t.length-1]-e[e.length-1]:0}function eL(t,e,n){let{routesMeta:s}=t,r={},i="/",a=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,h=i==="/"?e:e.slice(i.length)||"/",d=E0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),m=c.route;if(!d&&u&&n&&!s[s.length-1].route.index&&(d=E0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!d)return null;Object.assign(r,d.params),a.push({params:r,pathname:ti([i,d.pathname]),pathnameBase:oL(ti([i,d.pathnameBase])),route:m}),d.pathnameBase!=="/"&&(i=ti([i,d.pathnameBase]))}return a}function E0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=tL(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let i=r[0],a=i.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:s.reduce((u,h,d)=>{let{paramName:m,isOptional:p}=h;if(m==="*"){let g=l[d]||"";a=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const w=l[d];return p&&!w?u[m]=void 0:u[m]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function tL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),lS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function nL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Zx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function sL(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:r=""}=typeof t=="string"?Ba(t):t;return{pathname:n?n.startsWith("/")?n:rL(n,e):e,search:aL(s),hash:lL(r)}}function rL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function vm(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ev(t,e){let n=iL(t);return e?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function tv(t,e,n,s){s===void 0&&(s=!1);let r;typeof t=="string"?r=Ba(t):(r=pc({},t),ht(!r.pathname||!r.pathname.includes("?"),vm("?","pathname","search",r)),ht(!r.pathname||!r.pathname.includes("#"),vm("#","pathname","hash",r)),ht(!r.search||!r.search.includes("#"),vm("#","search","hash",r)));let i=t===""||r.pathname==="",a=i?"/":r.pathname,l;if(a==null)l=n;else{let d=e.length-1;if(!s&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),d-=1;r.pathname=m.join("/")}l=d>=0?e[d]:"/"}let c=sL(r,l),u=a&&a!=="/"&&a.endsWith("/"),h=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const ti=t=>t.join("/").replace(/\/\/+/g,"/"),oL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),aL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const dS=["post","put","patch","delete"];new Set(dS);const uL=["get",...dS];new Set(uL);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},gc.apply(this,arguments)}const nv=f.createContext(null),dL=f.createContext(null),_i=f.createContext(null),Gh=f.createContext(null),pr=f.createContext({outlet:null,matches:[],isDataRoute:!1}),hS=f.createContext(null);function hL(t,e){let{relative:n}=e===void 0?{}:e;Va()||ht(!1);let{basename:s,navigator:r}=f.useContext(_i),{hash:i,pathname:a,search:l}=mS(t,{relative:n}),c=a;return s!=="/"&&(c=a==="/"?s:ti([s,a])),r.createHref({pathname:c,search:l,hash:i})}function Va(){return f.useContext(Gh)!=null}function vo(){return Va()||ht(!1),f.useContext(Gh).location}function fS(t){f.useContext(_i).static||f.useLayoutEffect(t)}function ut(){let{isDataRoute:t}=f.useContext(pr);return t?SL():fL()}function fL(){Va()||ht(!1);let t=f.useContext(nv),{basename:e,future:n,navigator:s}=f.useContext(_i),{matches:r}=f.useContext(pr),{pathname:i}=vo(),a=JSON.stringify(ev(r,n.v7_relativeSplatPath)),l=f.useRef(!1);return fS(()=>{l.current=!0}),f.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let d=tv(u,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ti([e,d.pathname])),(h.replace?s.replace:s.push)(d,h.state,h)},[e,s,a,i,t])}function Wa(){let{matches:t}=f.useContext(pr),e=t[t.length-1];return e?e.params:{}}function mS(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=f.useContext(_i),{matches:r}=f.useContext(pr),{pathname:i}=vo(),a=JSON.stringify(ev(r,s.v7_relativeSplatPath));return f.useMemo(()=>tv(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function mL(t,e){return pL(t,e)}function pL(t,e,n,s){Va()||ht(!1);let{navigator:r}=f.useContext(_i),{matches:i}=f.useContext(pr),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=vo(),h;if(e){var d;let b=typeof e=="string"?Ba(e):e;c==="/"||(d=b.pathname)!=null&&d.startsWith(c)||ht(!1),h=b}else h=u;let m=h.pathname||"/",p=m;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=VD(t,{pathname:p}),g=wL(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:ti([c,r.encodeLocation?r.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:ti([c,r.encodeLocation?r.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,s);return e&&g?f.createElement(Gh.Provider,{value:{location:gc({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Wr.Pop}},g):g}function gL(){let t=CL(),e=cL(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},e),n?f.createElement("pre",{style:r},n):null,null)}const xL=f.createElement(gL,null);class vL extends f.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?f.createElement(pr.Provider,{value:this.props.routeContext},f.createElement(hS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yL(t){let{routeContext:e,match:n,children:s}=t,r=f.useContext(nv);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),f.createElement(pr.Provider,{value:e},s)}function wL(t,e,n,s){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(r=n)==null?void 0:r.errors;if(l!=null){let h=a.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);h>=0||ht(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let h=0;h<a.length;h++){let d=a[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:m,errors:p}=n,w=d.route.loader&&m[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||w){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,d,m)=>{let p,w=!1,g=null,b=null;n&&(p=l&&d.route.id?l[d.route.id]:void 0,g=d.route.errorElement||xL,c&&(u<0&&m===0?(w=!0,b=null):u===m&&(w=!0,b=d.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,m+1)),v=()=>{let y;return p?y=g:w?y=b:d.route.Component?y=f.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=h,f.createElement(yL,{match:d,routeContext:{outlet:h,matches:x,isDataRoute:n!=null},children:y})};return n&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?f.createElement(vL,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):v()},null)}var pS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(pS||{}),zd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zd||{});function bL(t){let e=f.useContext(nv);return e||ht(!1),e}function _L(t){let e=f.useContext(dL);return e||ht(!1),e}function NL(t){let e=f.useContext(pr);return e||ht(!1),e}function gS(t){let e=NL(),n=e.matches[e.matches.length-1];return n.route.id||ht(!1),n.route.id}function CL(){var t;let e=f.useContext(hS),n=_L(zd.UseRouteError),s=gS(zd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function SL(){let{router:t}=bL(pS.UseNavigateStable),e=gS(zd.UseNavigateStable),n=f.useRef(!1);return fS(()=>{n.current=!0}),f.useCallback(function(r,i){i===void 0&&(i={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,gc({fromRouteId:e},i)))},[t,e])}function EL(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function j0(t){let{to:e,replace:n,state:s,relative:r}=t;Va()||ht(!1);let{future:i,static:a}=f.useContext(_i),{matches:l}=f.useContext(pr),{pathname:c}=vo(),u=ut(),h=tv(e,ev(l,i.v7_relativeSplatPath),c,r==="path"),d=JSON.stringify(h);return f.useEffect(()=>u(JSON.parse(d),{replace:n,state:s,relative:r}),[u,d,r,n,s]),null}function Ze(t){ht(!1)}function jL(t){let{basename:e="/",children:n=null,location:s,navigationType:r=Wr.Pop,navigator:i,static:a=!1,future:l}=t;Va()&&ht(!1);let c=e.replace(/^\/*/,"/"),u=f.useMemo(()=>({basename:c,navigator:i,static:a,future:gc({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof s=="string"&&(s=Ba(s));let{pathname:h="/",search:d="",hash:m="",state:p=null,key:w="default"}=s,g=f.useMemo(()=>{let b=Zx(h,c);return b==null?null:{location:{pathname:b,search:d,hash:m,state:p,key:w},navigationType:r}},[c,h,d,m,p,w,r]);return g==null?null:f.createElement(_i.Provider,{value:u},f.createElement(Gh.Provider,{children:n,value:g}))}function kL(t){let{children:e,location:n}=t;return mL(Zp(e),n)}new Promise(()=>{});function Zp(t,e){e===void 0&&(e=[]);let n=[];return f.Children.forEach(t,(s,r)=>{if(!f.isValidElement(s))return;let i=[...e,r];if(s.type===f.Fragment){n.push.apply(n,Zp(s.props.children,i));return}s.type!==Ze&&ht(!1),!s.props.index||!s.props.children||ht(!1);let a={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(a.children=Zp(s.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eg(){return eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},eg.apply(this,arguments)}function TL(t,e){if(t==null)return{};var n={},s=Object.keys(t),r,i;for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function IL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function RL(t,e){return t.button===0&&(!e||e==="_self")&&!IL(t)}const PL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],AL="6";try{window.__reactRouterVersion=AL}catch{}const ML="startTransition",k0=Lg[ML];function OL(t){let{basename:e,children:n,future:s,window:r}=t,i=f.useRef();i.current==null&&(i.current=UD({window:r,v5Compat:!0}));let a=i.current,[l,c]=f.useState({action:a.action,location:a.location}),{v7_startTransition:u}=s||{},h=f.useCallback(d=>{u&&k0?k0(()=>c(d)):c(d)},[c,u]);return f.useLayoutEffect(()=>a.listen(h),[a,h]),f.useEffect(()=>EL(s),[s]),f.createElement(jL,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:s})}const DL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bn=f.forwardRef(function(e,n){let{onClick:s,relative:r,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:h,viewTransition:d}=e,m=TL(e,PL),{basename:p}=f.useContext(_i),w,g=!1;if(typeof u=="string"&&LL.test(u)&&(w=u,DL))try{let y=new URL(window.location.href),N=u.startsWith("//")?new URL(y.protocol+u):new URL(u),_=Zx(N.pathname,p);N.origin===y.origin&&_!=null?u=_+N.search+N.hash:g=!0}catch{}let b=hL(u,{relative:r}),x=FL(u,{replace:a,state:l,target:c,preventScrollReset:h,relative:r,viewTransition:d});function v(y){s&&s(y),y.defaultPrevented||x(y)}return f.createElement("a",eg({},m,{href:w||b,onClick:g||i?s:v,ref:n,target:c}))});var T0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(T0||(T0={}));var I0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(I0||(I0={}));function FL(t,e){let{target:n,replace:s,state:r,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,c=ut(),u=vo(),h=mS(t,{relative:a});return f.useCallback(d=>{if(RL(d,n)){d.preventDefault();let m=s!==void 0?s:Ud(u)===Ud(h);c(t,{replace:m,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,h,s,r,n,t,i,a,l])}const $L=zc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),V=f.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,...r},i)=>{const a=s?iA:"button";return o.jsx(a,{className:q($L({variant:e,size:n,className:t})),ref:i,...r})});V.displayName="Button";const J=f.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:q("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));J.displayName="Card";const xe=f.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:q("flex flex-col space-y-1.5 p-6",t),...e}));xe.displayName="CardHeader";const ye=f.forwardRef(({className:t,...e},n)=>o.jsx("h3",{ref:n,className:q("text-2xl font-semibold leading-none tracking-tight",t),...e}));ye.displayName="CardTitle";const Ie=f.forwardRef(({className:t,...e},n)=>o.jsx("p",{ref:n,className:q("text-sm text-muted-foreground",t),...e}));Ie.displayName="CardDescription";const ee=f.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:q("p-6 pt-0",t),...e}));ee.displayName="CardContent";const Kh=f.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:q("flex items-center p-6 pt-0",t),...e}));Kh.displayName="CardFooter";const UL=()=>{const t=ut(),e=[{icon:Zi,title:"AI-Powered Evaluation",description:"Instant feedback and intelligent grading for all assessment types"},{icon:jn,title:"Comprehensive Tests",description:"MCQs, fill-in-the-blanks, and short answer questions"},{icon:eo,title:"Collaborative Learning",description:"Connect students and teachers in a seamless platform"}];return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("div",{className:"relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-accent to-background"}),o.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-24",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex justify-center mb-6",children:o.jsx("div",{className:"p-4 bg-primary/10 rounded-full",children:o.jsx(Ls,{className:"h-16 w-16 text-primary"})})}),o.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-foreground mb-4",children:"Nexus Learn"}),o.jsx("p",{className:"text-xl sm:text-2xl text-muted-foreground mb-8 max-w-2xl mx-auto",children:"AI-Enhanced Learning & Evaluation Platform"}),o.jsx("p",{className:"text-lg text-muted-foreground mb-12 max-w-xl mx-auto",children:"Transform your educational experience with intelligent assessments, instant feedback, and comprehensive analytics."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[o.jsxs(V,{size:"lg",className:"min-w-[200px] h-14 text-lg font-semibold group",onClick:()=>t("/student/auth"),children:["Student Portal",o.jsx(Fp,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),o.jsxs(V,{size:"lg",variant:"outline",className:"min-w-[200px] h-14 text-lg font-semibold group",onClick:()=>t("/teacher/auth"),children:["Teacher Portal",o.jsx(Fp,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]})]})]})})]}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[o.jsx("h2",{className:"text-3xl font-bold text-center text-foreground mb-12",children:"Why Choose Nexus Learn?"}),o.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:e.map((n,s)=>o.jsxs(J,{className:"bg-card hover:shadow-lg transition-shadow duration-300 border-border",children:[o.jsxs(xe,{children:[o.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mb-4",children:o.jsx(n.icon,{className:"h-6 w-6 text-primary"})}),o.jsx(ye,{className:"text-card-foreground",children:n.title})]}),o.jsx(ee,{children:o.jsx(Ie,{className:"text-base",children:n.description})})]},s))})]}),o.jsx("div",{className:"bg-card border-y border-border",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-4xl font-bold text-primary mb-2",children:"10K+"}),o.jsx("div",{className:"text-muted-foreground",children:"Active Students"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-4xl font-bold text-primary mb-2",children:"500+"}),o.jsx("div",{className:"text-muted-foreground",children:"Expert Teachers"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-4xl font-bold text-primary mb-2",children:"50K+"}),o.jsx("div",{className:"text-muted-foreground",children:"Tests Completed"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-4xl font-bold text-primary mb-2",children:"95%"}),o.jsx("div",{className:"text-muted-foreground",children:"Satisfaction Rate"})]})]})})}),o.jsx("footer",{className:"bg-background border-t border-border py-8",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center text-muted-foreground",children:o.jsx("p",{children:" 2025 Nexus Learn. AI-Enhanced Learning & Evaluation Platform."})})})]})},zL=()=>{const t=vo();return f.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),o.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},BL=()=>{};var R0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B=function(t,e){if(!t)throw Ha(e)},Ha=function(t){return new Error("Firebase Database ("+xS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},VL=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],a=t[n++],l=t[n++],c=((r&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|a&63)}}return e.join("")},sv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],a=r+1<t.length,l=a?t[r+1]:0,c=r+2<t.length,u=c?t[r+2]:0,h=i>>2,d=(i&3)<<4|l>>4;let m=(l&15)<<2|u>>6,p=u&63;c||(p=64,a||(m=64)),s.push(n[h],n[d],n[m],n[p])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):VL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const u=r<t.length?n[t.charAt(r)]:64;++r;const d=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||l==null||u==null||d==null)throw new WL;const m=i<<2|l>>4;if(s.push(m),u!==64){const p=l<<4&240|u>>2;if(s.push(p),d!==64){const w=u<<6&192|d;s.push(w)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class WL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yS=function(t){const e=vS(t);return sv.encodeByteArray(e,!0)},Bd=function(t){return yS(t).replace(/\./g,"")},Vd=function(t){try{return sv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(t){return wS(void 0,t)}function wS(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!GL(n)||(t[n]=wS(t[n],e[n]));return t}function GL(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=()=>KL().__FIREBASE_DEFAULTS__,qL=()=>{if(typeof process>"u"||typeof R0>"u")return;const t=R0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Vd(t[1]);return e&&JSON.parse(e)},rv=()=>{try{return BL()||QL()||qL()||YL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bS=t=>{var e,n;return(n=(e=rv())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},XL=t=>{const e=bS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},_S=()=>{var t;return(t=rv())==null?void 0:t.config},NS=t=>{var e;return(e=rv())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function CS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Bd(JSON.stringify(n)),Bd(JSON.stringify(a)),""].join(".")}const Fl={};function ZL(){const t={prod:[],emulator:[]};for(const e of Object.keys(Fl))Fl[e]?t.emulator.push(e):t.prod.push(e);return t}function e3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let P0=!1;function SS(t,e){if(typeof window>"u"||typeof document>"u"||!Ga(window.location.host)||Fl[t]===e||Fl[t]||P0)return;Fl[t]=e;function n(m){return`__firebase__banner__${m}`}const s="__firebase__banner",i=ZL().prod.length>0;function a(){const m=document.getElementById(s);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,p){m.setAttribute("width","24"),m.setAttribute("id",p),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{P0=!0,a()},m}function h(m,p){m.setAttribute("id",p),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function d(){const m=e3(s),p=n("text"),w=document.getElementById(p)||document.createElement("span"),g=n("learnmore"),b=document.getElementById(g)||document.createElement("a"),x=n("preprendIcon"),v=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const y=m.element;l(y),h(b,g);const N=u();c(v,x),y.append(v,w,b,N),document.body.appendChild(y)}i?(w.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function t3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function n3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ES(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function s3(){const t=en();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jS(){return xS.NODE_ADMIN===!0}function r3(){try{return typeof indexedDB=="object"}catch{return!1}}function i3(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3="FirebaseError";class Ni extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=o3,Object.setPrototypeOf(this,Ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hc.prototype.create)}}class Hc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?a3(i,s):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new Ni(r,l,s)}}function a3(t,e){return t.replace(l3,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const l3=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(t){return JSON.parse(t)}function bt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=function(t){let e={},n={},s={},r="";try{const i=t.split(".");e=xc(Vd(i[0])||""),n=xc(Vd(i[1])||""),r=i[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:r}},c3=function(t){const e=kS(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},u3=function(t){const e=kS(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Sa(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function tg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wd(t,e,n){const s={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=e.call(n,t[r],r,t));return s}function no(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],a=e[r];if(A0(i)&&A0(a)){if(!no(i,a))return!1}else if(i!==a)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function A0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Nl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,i]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(i)}}),e}function Cl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)s[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)s[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const m=s[d-3]^s[d-8]^s[d-14]^s[d-16];s[d]=(m<<1|m>>>31)&4294967295}let r=this.chain_[0],i=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4],u,h;for(let d=0;d<80;d++){d<40?d<20?(u=l^i&(a^l),h=1518500249):(u=i^a^l,h=1859775393):d<60?(u=i&a|l&(i|a),h=2400959708):(u=i^a^l,h=3395469782);const m=(r<<5|r>>>27)+u+c+h+s[d]&4294967295;c=l,l=a,a=(i<<30|i>>>2)&4294967295,i=r,r=m}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let r=0;const i=this.buf_;let a=this.inbuf_;for(;r<n;){if(a===0)for(;r<=s;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(i[a]=e.charCodeAt(r),++a,++r,a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<n;)if(i[a]=e[r],++a,++r,a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let r=0;r<5;r++)for(let i=24;i>=0;i-=8)e[s]=this.chain_[r]>>i&255,++s;return e}}function h3(t,e){const n=new f3(t,e);return n.subscribe.bind(n)}class f3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");m3(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=ym),r.error===void 0&&(r.error=ym),r.complete===void 0&&(r.complete=ym);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function m3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ym(){}function Qh(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);if(r>=55296&&r<=56319){const i=r-55296;s++,B(s<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(s)-56320;r=65536+(i<<10)+a}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},qh=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t){return t&&t._delegate?t._delegate:t}class so{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Wc;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(v3(e))try{this.getOrInitializeService({instanceIdentifier:Ii})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=Ii){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ii){return this.instances.has(e)}getOptions(e=Ii){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);s===l&&a.resolve(r)}return r}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(s)??new Set;r.add(e),this.onInitCallbacks.set(s,r);const i=this.instances.get(s);return i&&e(i,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:x3(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ii){return this.component?this.component.multipleInstances?e:Ii:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function x3(t){return t===Ii?void 0:t}function v3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new g3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const w3={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},b3=Be.INFO,_3={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},N3=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=_3[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ov{constructor(e){this.name=e,this._logLevel=b3,this._logHandler=N3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?w3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const C3=(t,e)=>e.some(n=>t instanceof n);let M0,O0;function S3(){return M0||(M0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function E3(){return O0||(O0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TS=new WeakMap,ng=new WeakMap,IS=new WeakMap,wm=new WeakMap,av=new WeakMap;function j3(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(ni(t.result)),r()},a=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&TS.set(n,t)}).catch(()=>{}),av.set(e,t),e}function k3(t){if(ng.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),r()},a=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});ng.set(t,e)}let sg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ng.get(t);if(e==="objectStoreNames")return t.objectStoreNames||IS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ni(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function T3(t){sg=t(sg)}function I3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(bm(this),e,...n);return IS.set(s,e.sort?e.sort():[e]),ni(s)}:E3().includes(t)?function(...e){return t.apply(bm(this),e),ni(TS.get(this))}:function(...e){return ni(t.apply(bm(this),e))}}function R3(t){return typeof t=="function"?I3(t):(t instanceof IDBTransaction&&k3(t),C3(t,S3())?new Proxy(t,sg):t)}function ni(t){if(t instanceof IDBRequest)return j3(t);if(wm.has(t))return wm.get(t);const e=R3(t);return e!==t&&(wm.set(t,e),av.set(e,t)),e}const bm=t=>av.get(t);function P3(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const a=indexedDB.open(t,e),l=ni(a);return s&&a.addEventListener("upgradeneeded",c=>{s(ni(a.result),c.oldVersion,c.newVersion,ni(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),r&&c.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const A3=["get","getKey","getAll","getAllKeys","count"],M3=["put","add","delete","clear"],_m=new Map;function D0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_m.get(e))return _m.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=M3.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||A3.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return s&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),r&&c.done]))[0]};return _m.set(e,i),i}T3(t=>({...t,get:(e,n,s)=>D0(e,n)||t.get(e,n,s),has:(e,n)=>!!D0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(D3(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function D3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rg="@firebase/app",L0="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new ov("@firebase/app"),L3="@firebase/app-compat",F3="@firebase/analytics-compat",$3="@firebase/analytics",U3="@firebase/app-check-compat",z3="@firebase/app-check",B3="@firebase/auth",V3="@firebase/auth-compat",W3="@firebase/database",H3="@firebase/data-connect",G3="@firebase/database-compat",K3="@firebase/functions",Q3="@firebase/functions-compat",q3="@firebase/installations",Y3="@firebase/installations-compat",X3="@firebase/messaging",J3="@firebase/messaging-compat",Z3="@firebase/performance",e5="@firebase/performance-compat",t5="@firebase/remote-config",n5="@firebase/remote-config-compat",s5="@firebase/storage",r5="@firebase/storage-compat",i5="@firebase/firestore",o5="@firebase/ai",a5="@firebase/firestore-compat",l5="firebase",c5="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="[DEFAULT]",u5={[rg]:"fire-core",[L3]:"fire-core-compat",[$3]:"fire-analytics",[F3]:"fire-analytics-compat",[z3]:"fire-app-check",[U3]:"fire-app-check-compat",[B3]:"fire-auth",[V3]:"fire-auth-compat",[W3]:"fire-rtdb",[H3]:"fire-data-connect",[G3]:"fire-rtdb-compat",[K3]:"fire-fn",[Q3]:"fire-fn-compat",[q3]:"fire-iid",[Y3]:"fire-iid-compat",[X3]:"fire-fcm",[J3]:"fire-fcm-compat",[Z3]:"fire-perf",[e5]:"fire-perf-compat",[t5]:"fire-rc",[n5]:"fire-rc-compat",[s5]:"fire-gcs",[r5]:"fire-gcs-compat",[i5]:"fire-fst",[a5]:"fire-fst-compat",[o5]:"fire-vertex","fire-js":"fire-js",[l5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd=new Map,d5=new Map,og=new Map;function F0(t,e){try{t.container.addComponent(e)}catch(n){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ea(t){const e=t.name;if(og.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;og.set(e,t);for(const n of Hd.values())F0(n,t);for(const n of d5.values())F0(n,t);return!0}function lv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},si=new Hc("app","Firebase",h5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new so("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=c5;function RS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:ig,automaticDataCollectionEnabled:!0,...e},r=s.name;if(typeof r!="string"||!r)throw si.create("bad-app-name",{appName:String(r)});if(n||(n=_S()),!n)throw si.create("no-options");const i=Hd.get(r);if(i){if(no(n,i.options)&&no(s,i.config))return i;throw si.create("duplicate-app",{appName:r})}const a=new y3(r);for(const c of og.values())a.addComponent(c);const l=new f5(n,s,a);return Hd.set(r,l),l}function PS(t=ig){const e=Hd.get(t);if(!e&&t===ig&&_S())return RS();if(!e)throw si.create("no-app",{appName:t});return e}function ri(t,e,n){let s=u5[t]??t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),i=e.match(/\s|\//);if(r||i){const a=[`Unable to register library "${s}" with version "${e}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(a.join(" "));return}Ea(new so(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5="firebase-heartbeat-database",p5=1,vc="firebase-heartbeat-store";let Nm=null;function AS(){return Nm||(Nm=P3(m5,p5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vc)}catch(n){console.warn(n)}}}}).catch(t=>{throw si.create("idb-open",{originalErrorMessage:t.message})})),Nm}async function g5(t){try{const n=(await AS()).transaction(vc),s=await n.objectStore(vc).get(MS(t));return await n.done,s}catch(e){if(e instanceof Ni)dr.warn(e.message);else{const n=si.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});dr.warn(n.message)}}}async function $0(t,e){try{const s=(await AS()).transaction(vc,"readwrite");await s.objectStore(vc).put(e,MS(t)),await s.done}catch(n){if(n instanceof Ni)dr.warn(n.message);else{const s=si.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});dr.warn(s.message)}}}function MS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=1024,v5=30;class y5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new b5(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=U0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats.length>v5){const a=_5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){dr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=U0(),{heartbeatsToSend:s,unsentEntries:r}=w5(this._heartbeatsCache.heartbeats),i=Bd(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return dr.warn(n),""}}}function U0(){return new Date().toISOString().substring(0,10)}function w5(t,e=x5){const n=[];let s=t.slice();for(const r of t){const i=n.find(a=>a.agent===r.agent);if(i){if(i.dates.push(r.date),z0(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),z0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class b5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return r3()?i3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await g5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return $0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return $0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function z0(t){return Bd(JSON.stringify({version:2,heartbeats:t})).length}function _5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(t){Ea(new so("platform-logger",e=>new O3(e),"PRIVATE")),Ea(new so("heartbeat",e=>new y5(e),"PRIVATE")),ri(rg,L0,t),ri(rg,L0,"esm2020"),ri("fire-js","")}N5("");var C5="firebase",S5="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ri(C5,S5,"app");function OS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const E5=OS,DS=new Hc("auth","Firebase",OS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd=new ov("@firebase/auth");function j5(t,...e){Gd.logLevel<=Be.WARN&&Gd.warn(`Auth (${Qa}): ${t}`,...e)}function ed(t,...e){Gd.logLevel<=Be.ERROR&&Gd.error(`Auth (${Qa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(t,...e){throw cv(t,...e)}function Ms(t,...e){return cv(t,...e)}function LS(t,e,n){const s={...E5(),[e]:n};return new Hc("auth","Firebase",s).create(e,{appName:t.name})}function er(t){return LS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cv(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return DS.create(t,...e)}function pe(t,e,...n){if(!t)throw cv(e,...n)}function qs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ed(e),new Error(e)}function hr(t,e){t||qs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function k5(){return B0()==="http:"||B0()==="https:"}function B0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k5()||n3()||"connection"in navigator)?navigator.onLine:!0}function I5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n){this.shortDelay=e,this.longDelay=n,hr(n>e,"Short delay should be less than long delay!"),this.isMobile=iv()||ES()}get(){return T5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(t,e){hr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],A5=new Gc(3e4,6e4);function gr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function zs(t,e,n,s,r={}){return $S(t,r,async()=>{let i={},a={};s&&(e==="GET"?a=s:i={body:JSON.stringify(s)});const l=Ka({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...i};return t3()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Ga(t.emulatorConfig.host)&&(u.credentials="include"),FS.fetch()(await US(t,t.config.apiHost,n,l),u)})}async function $S(t,e,n){t._canInitEmulator=!1;const s={...R5,...e};try{const r=new O5(t),i=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Tu(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tu(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Tu(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Tu(t,"user-disabled",a);const h=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw LS(t,h,u);ws(t,h)}}catch(r){if(r instanceof Ni)throw r;ws(t,"network-request-failed",{message:String(r)})}}async function Kc(t,e,n,s,r={}){const i=await zs(t,e,n,s,r);return"mfaPendingCredential"in i&&ws(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function US(t,e,n,s){const r=`${e}${n}?${s}`,i=t,a=i.config.emulator?uv(t.config,r):`${t.config.apiScheme}://${r}`;return P5.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function M5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class O5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ms(this.auth,"network-request-failed")),A5.get())})}}function Tu(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=Ms(t,e,s);return r.customData._tokenResponse=n,r}function V0(t){return t!==void 0&&t.enterprise!==void 0}class D5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return M5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function L5(t,e){return zs(t,"GET","/v2/recaptchaConfig",gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F5(t,e){return zs(t,"POST","/v1/accounts:delete",e)}async function Kd(t,e){return zs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $5(t,e=!1){const n=Ft(t),s=await n.getIdToken(e),r=dv(s);pe(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const i=typeof r.firebase=="object"?r.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:r,token:s,authTime:$l(Cm(r.auth_time)),issuedAtTime:$l(Cm(r.iat)),expirationTime:$l(Cm(r.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Cm(t){return Number(t)*1e3}function dv(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return ed("JWT malformed, contained fewer than 3 sections"),null;try{const r=Vd(n);return r?JSON.parse(r):(ed("Failed to decode base64 JWT payload"),null)}catch(r){return ed("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function W0(t){const e=dv(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ni&&U5(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function U5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qd(t){var d;const e=t.auth,n=await t.getIdToken(),s=await ja(t,Kd(e,{idToken:n}));pe(s==null?void 0:s.users.length,e,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const i=(d=r.providerUserInfo)!=null&&d.length?zS(r.providerUserInfo):[],a=V5(t.providerData,i),l=t.isAnonymous,c=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new lg(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function B5(t){const e=Ft(t);await Qd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function V5(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function zS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W5(t,e){const n=await $S(t,{},async()=>{const s=Ka({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,a=await US(t,r,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:s};return t.emulatorConfig&&Ga(t.emulatorConfig.host)&&(c.credentials="include"),FS.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function H5(t,e){return zs(t,"POST","/v2/accounts:revokeToken",gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):W0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const n=W0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:i}=await W5(e,n);this.updateTokensAndExpiration(s,r,Number(i))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:i}=n,a=new ea;return s&&(pe(typeof s=="string","internal-error",{appName:e}),a.refreshToken=s),r&&(pe(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),i&&(pe(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ea,this.toJSON())}_performRefresh(){return qs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class us{constructor({uid:e,auth:n,stsTokenManager:s,...r}){this.providerId="firebase",this.proactiveRefresh=new z5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new lg(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await ja(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $5(this,e)}reload(){return B5(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new us({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Qd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(er(this.auth));const e=await this.getIdToken();return await ja(this,F5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,r=n.email??void 0,i=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:d,emailVerified:m,isAnonymous:p,providerData:w,stsTokenManager:g}=n;pe(d&&g,e,"internal-error");const b=ea.fromJSON(this.name,g);pe(typeof d=="string",e,"internal-error"),Cr(s,e.name),Cr(r,e.name),pe(typeof m=="boolean",e,"internal-error"),pe(typeof p=="boolean",e,"internal-error"),Cr(i,e.name),Cr(a,e.name),Cr(l,e.name),Cr(c,e.name),Cr(u,e.name),Cr(h,e.name);const x=new us({uid:d,auth:e,email:r,emailVerified:m,displayName:s,isAnonymous:p,photoURL:a,phoneNumber:i,tenantId:l,stsTokenManager:b,createdAt:u,lastLoginAt:h});return w&&Array.isArray(w)&&(x.providerData=w.map(v=>({...v}))),c&&(x._redirectEventId=c),x}static async _fromIdTokenResponse(e,n,s=!1){const r=new ea;r.updateFromServerResponse(n);const i=new us({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await Qd(i),i}static async _fromGetAccountInfoResponse(e,n,s){const r=n.users[0];pe(r.localId!==void 0,"internal-error");const i=r.providerUserInfo!==void 0?zS(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(i!=null&&i.length),l=new ea;l.updateFromIdToken(s);const c=new us({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:a}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new lg(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=new Map;function Ys(t){hr(t instanceof Function,"Expected a class definition");let e=H0.get(t);return e?(hr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,H0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}BS.type="NONE";const G0=BS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(t,e,n){return`firebase:${t}:${e}:${n}`}class ta{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:i}=this.auth;this.fullUserKey=td(this.userKey,r.apiKey,i),this.fullPersistenceKey=td("persistence",r.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Kd(this.auth,{idToken:e}).catch(()=>{});return n?us._fromGetAccountInfoResponse(this.auth,n,e):null}return us._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ta(Ys(G0),e,s);const r=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=r[0]||Ys(G0);const a=td(s,e.config.apiKey,e.name);let l=null;for(const u of n)try{const h=await u._get(a);if(h){let d;if(typeof h=="string"){const m=await Kd(e,{idToken:h}).catch(()=>{});if(!m)break;d=await us._fromGetAccountInfoResponse(e,m,h)}else d=us._fromJSON(e,h);u!==i&&(l=d),i=u;break}}catch{}const c=r.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new ta(i,e,s):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(a)}catch{}})),new ta(i,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QS(e))return"Blackberry";if(qS(e))return"Webos";if(WS(e))return"Safari";if((e.includes("chrome/")||HS(e))&&!e.includes("edge/"))return"Chrome";if(KS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function VS(t=en()){return/firefox\//i.test(t)}function WS(t=en()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HS(t=en()){return/crios\//i.test(t)}function GS(t=en()){return/iemobile/i.test(t)}function KS(t=en()){return/android/i.test(t)}function QS(t=en()){return/blackberry/i.test(t)}function qS(t=en()){return/webos/i.test(t)}function hv(t=en()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function G5(t=en()){var e;return hv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function K5(){return s3()&&document.documentMode===10}function YS(t=en()){return hv(t)||KS(t)||qS(t)||QS(t)||/windows phone/i.test(t)||GS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(t,e=[]){let n;switch(t){case"Browser":n=K0(en());break;case"Worker":n=`${K0(en())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=i=>new Promise((a,l)=>{try{const c=e(i);a(c)}catch(c){l(c)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q5(t,e={}){return zs(t,"GET","/v2/passwordPolicy",gr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5=6;class X5{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Y5,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Q0(this),this.idTokenSubscription=new Q0(this),this.beforeStateQueue=new Q5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ys(n)),this._initializationPromise=this.queue(async()=>{var s,r,i;if(!this._deleted&&(this.persistenceManager=await ta.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Kd(this,{idToken:e}),s=await us._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Mn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(s=c.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=I5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject(er(this));const n=e?Ft(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject(er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await q5(this),n=new X5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await H5(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ys(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await ta.create(this,[Ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,s,r);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&j5(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ci(t){return Ft(t)}class Q0{constructor(e){this.auth=e,this.observer=null,this.addObserver=h3(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Z5(t){Yh=t}function JS(t){return Yh.loadJS(t)}function eF(){return Yh.recaptchaEnterpriseScript}function tF(){return Yh.gapiScript}function nF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class sF{constructor(){this.enterprise=new rF}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class rF{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const iF="recaptcha-enterprise",ZS="NO_RECAPTCHA";class oF{constructor(e){this.type=iF,this.auth=Ci(e)}async verify(e="verify",n=!1){async function s(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{L5(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new D5(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,a(u.siteKey)}}).catch(c=>{l(c)})})}function r(i,a,l){const c=window.grecaptcha;V0(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{a(u)}).catch(()=>{a(ZS)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new sF().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{s(this.auth).then(l=>{if(!n&&V0(window.grecaptcha))r(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=eF();c.length!==0&&(c+=l),JS(c).then(()=>{r(l,i,a)}).catch(u=>{a(u)})}}).catch(l=>{a(l)})})}}async function q0(t,e,n,s=!1,r=!1){const i=new oF(t);let a;if(r)a=ZS;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return s?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function qd(t,e,n,s,r){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await q0(t,e,n,n==="getOobCode");return s(t,a)}else return s(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await q0(t,e,n,n==="getOobCode");return s(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(t,e){const n=lv(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(no(i,e??{}))return r;ws(r,"already-initialized")}return n.initialize({options:e})}function lF(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ys);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function cF(t,e,n){const s=Ci(t);pe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),i=eE(e),{host:a,port:l}=uF(e),c=l===null?"":`:${l}`,u={url:`${i}//${a}${c}/`},h=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){pe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),pe(no(u,s.config.emulator)&&no(h,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=u,s.emulatorConfig=h,s.settings.appVerificationDisabledForTesting=!0,Ga(a)?(CS(`${i}//${a}${c}`),SS("Auth",!0)):dF()}function eE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uF(t){const e=eE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const i=r[1];return{host:i,port:Y0(s.substr(i.length+1))}}else{const[i,a]=s.split(":");return{host:i,port:Y0(a)}}}function Y0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function dF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qs("not implemented")}_getIdTokenResponse(e){return qs("not implemented")}_linkToIdToken(e,n){return qs("not implemented")}_getReauthenticationResolver(e){return qs("not implemented")}}async function hF(t,e){return zs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fF(t,e){return Kc(t,"POST","/v1/accounts:signInWithPassword",gr(t,e))}async function mF(t,e){return zs(t,"POST","/v1/accounts:sendOobCode",gr(t,e))}async function pF(t,e){return mF(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gF(t,e){return Kc(t,"POST","/v1/accounts:signInWithEmailLink",gr(t,e))}async function xF(t,e){return Kc(t,"POST","/v1/accounts:signInWithEmailLink",gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends fv{constructor(e,n,s,r=null){super("password",s),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new yc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new yc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qd(e,n,"signInWithPassword",fF);case"emailLink":return gF(e,{email:this._email,oobCode:this._password});default:ws(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qd(e,s,"signUpPassword",hF);case"emailLink":return xF(e,{idToken:n,email:this._email,oobCode:this._password});default:ws(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function na(t,e){return Kc(t,"POST","/v1/accounts:signInWithIdp",gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF="http://localhost";class ro extends fv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ro(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ws("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r,...i}=n;if(!s||!r)return null;const a=new ro(s,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return na(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,na(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,na(e,n)}buildRequest(){const e={requestUri:vF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ka(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wF(t){const e=Nl(Cl(t)).link,n=e?Nl(Cl(e)).deep_link_id:null,s=Nl(Cl(t)).deep_link_id;return(s?Nl(Cl(s)).link:null)||s||n||e||t}class mv{constructor(e){const n=Nl(Cl(e)),s=n.apiKey??null,r=n.oobCode??null,i=yF(n.mode??null);pe(s&&r&&i,"argument-error"),this.apiKey=s,this.operation=i,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=wF(e);try{return new mv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(){this.providerId=qa.PROVIDER_ID}static credential(e,n){return yc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=mv.parseLink(n);return pe(s,"argument-error"),yc._fromEmailAndCode(e,s.code,s.tenantId)}}qa.PROVIDER_ID="password";qa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc extends tE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Qc{constructor(){super("facebook.com")}static credential(e){return ro._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Qc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ro._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Pr.credential(n,s)}catch{return null}}}Pr.GOOGLE_SIGN_IN_METHOD="google.com";Pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Qc{constructor(){super("github.com")}static credential(e){return ro._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ar.credential(e.oauthAccessToken)}catch{return null}}}Ar.GITHUB_SIGN_IN_METHOD="github.com";Ar.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Qc{constructor(){super("twitter.com")}static credential(e,n){return ro._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Mr.credential(n,s)}catch{return null}}}Mr.TWITTER_SIGN_IN_METHOD="twitter.com";Mr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bF(t,e){return Kc(t,"POST","/v1/accounts:signUp",gr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const i=await us._fromIdTokenResponse(e,s,r),a=X0(s);return new io({user:i,providerId:a,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=X0(s);return new io({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function X0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd extends Ni{constructor(e,n,s,r){super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,Yd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new Yd(e,n,s,r)}}function nE(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Yd._fromErrorAndOperation(t,i,e,s):i})}async function _F(t,e,n=!1){const s=await ja(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return io._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NF(t,e,n=!1){const{auth:s}=t;if(Mn(s.app))return Promise.reject(er(s));const r="reauthenticate";try{const i=await ja(t,nE(s,r,e,t),n);pe(i.idToken,s,"internal-error");const a=dv(i.idToken);pe(a,s,"internal-error");const{sub:l}=a;return pe(t.uid===l,s,"user-mismatch"),io._forOperation(t,r,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ws(s,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sE(t,e,n=!1){if(Mn(t.app))return Promise.reject(er(t));const s="signIn",r=await nE(t,s,e),i=await io._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(i.user),i}async function CF(t,e){return sE(Ci(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rE(t){const e=Ci(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function SF(t,e,n){const s=Ci(t);await qd(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",pF)}async function EF(t,e,n){if(Mn(t.app))return Promise.reject(er(t));const s=Ci(t),a=await qd(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bF).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&rE(t),c}),l=await io._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function jF(t,e,n){return Mn(t.app)?Promise.reject(er(t)):CF(Ft(t),qa.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&rE(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kF(t,e){return zs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iE(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Ft(t),i={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await ja(s,kF(s.auth,i));s.displayName=a.displayName||null,s.photoURL=a.photoUrl||null;const l=s.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),await s._updateTokensIfNecessary(a)}function TF(t,e,n,s){return Ft(t).onIdTokenChanged(e,n,s)}function IF(t,e,n){return Ft(t).beforeAuthStateChanged(e,n)}function RF(t,e,n,s){return Ft(t).onAuthStateChanged(e,n,s)}function oE(t){return Ft(t).signOut()}const Xd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xd,"1"),this.storage.removeItem(Xd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF=1e3,AF=10;class lE extends aE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const s=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(s);!n&&this.localCache[s]===a||this.notifyListeners(s,a)},i=this.storage.getItem(s);K5()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,AF):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},PF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lE.type="LOCAL";const MF=lE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE extends aE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}cE.type="SESSION";const uE=cE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new Xh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:i}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const l=Array.from(a).map(async u=>u(n.origin,i)),c=await OF(l);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const u=pv("",20);r.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},s);a={messageChannel:r,onMessage(d){const m=d;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(){return window}function LF(t){Os().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(){return typeof Os().WorkerGlobalScope<"u"&&typeof Os().importScripts=="function"}async function FF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $F(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function UF(){return dE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="firebaseLocalStorageDb",zF=1,Jd="firebaseLocalStorage",fE="fbase_key";class qc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jh(t,e){return t.transaction([Jd],e?"readwrite":"readonly").objectStore(Jd)}function BF(){const t=indexedDB.deleteDatabase(hE);return new qc(t).toPromise()}function cg(){const t=indexedDB.open(hE,zF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Jd,{keyPath:fE})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Jd)?e(s):(s.close(),await BF(),e(await cg()))})})}async function J0(t,e,n){const s=Jh(t,!0).put({[fE]:e,value:n});return new qc(s).toPromise()}async function VF(t,e){const n=Jh(t,!1).get(e),s=await new qc(n).toPromise();return s===void 0?null:s.value}function Z0(t,e){const n=Jh(t,!0).delete(e);return new qc(n).toPromise()}const WF=800,HF=3;class mE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>HF)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xh._getInstance(UF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await FF(),!this.activeServiceWorker)return;this.sender=new DF(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$F()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cg();return await J0(e,Xd,"1"),await Z0(e,Xd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>J0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>VF(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Z0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const i=Jh(r,!1).getAll();return new qc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:i}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mE.type="LOCAL";const GF=mE;new Gc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KF(t,e){return e?Ys(e):(pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv extends fv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return na(e,this._buildIdpRequest())}_linkToIdToken(e,n){return na(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return na(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function QF(t){return sE(t.auth,new gv(t),t.bypassAuthState)}function qF(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),NF(n,new gv(t),t.bypassAuthState)}async function YF(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),_F(n,new gv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,n,s,r,i=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:s,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QF;case"linkViaPopup":case"linkViaRedirect":return YF;case"reauthViaPopup":case"reauthViaRedirect":return qF;default:ws(this.auth,"internal-error")}}resolve(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF=new Gc(2e3,1e4);class Vo extends pE{constructor(e,n,s,r,i){super(e,n,r,i),this.provider=s,this.authWindow=null,this.pollId=null,Vo.currentPopupAction&&Vo.currentPopupAction.cancel(),Vo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){hr(this.filter.length===1,"Popup operations only handle one event");const e=pv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ms(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ms(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ms(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XF.get())};e()}}Vo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF="pendingRedirect",nd=new Map;class ZF extends pE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=nd.get(this.auth._key());if(!e){try{const s=await e6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}nd.set(this.auth._key(),e)}return this.bypassAuthState||nd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function e6(t,e){const n=s6(e),s=n6(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function t6(t,e){nd.set(t._key(),e)}function n6(t){return Ys(t._redirectPersistence)}function s6(t){return td(JF,t.config.apiKey,t.name)}async function r6(t,e,n=!1){if(Mn(t.app))return Promise.reject(er(t));const s=Ci(t),r=KF(s,e),a=await new ZF(s,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await s._persistUserIfCurrent(a.user),await s._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6=10*60*1e3;class o6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!a6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!gE(e)){const r=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ms(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=i6&&this.cachedEventUids.clear(),this.cachedEventUids.has(eb(e))}saveEventToCache(e){this.cachedEventUids.add(eb(e)),this.lastProcessedEventTime=Date.now()}}function eb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function gE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function a6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l6(t,e={}){return zs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,u6=/^https?/;async function d6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await l6(t);for(const n of e)try{if(h6(n))return}catch{}ws(t,"unauthorized-domain")}function h6(t){const e=ag(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===s}if(!u6.test(n))return!1;if(c6.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=new Gc(3e4,6e4);function tb(){const t=Os().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function m6(t){return new Promise((e,n)=>{var r,i,a;function s(){tb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tb(),n(Ms(t,"network-request-failed"))},timeout:f6.get()})}if((i=(r=Os().gapi)==null?void 0:r.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((a=Os().gapi)!=null&&a.load)s();else{const l=nF("iframefcb");return Os()[l]=()=>{gapi.load?s():n(Ms(t,"network-request-failed"))},JS(`${tF()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw sd=null,e})}let sd=null;function p6(t){return sd=sd||m6(t),sd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=new Gc(5e3,15e3),x6="__/auth/iframe",v6="emulator/auth/iframe",y6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},w6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function b6(t){const e=t.config;pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?uv(e,v6):`https://${t.config.authDomain}/${x6}`,s={apiKey:e.apiKey,appName:t.name,v:Qa},r=w6.get(t.config.apiHost);r&&(s.eid=r);const i=t._getFrameworks();return i.length&&(s.fw=i.join(",")),`${n}?${Ka(s).slice(1)}`}async function _6(t){const e=await p6(t),n=Os().gapi;return pe(n,t,"internal-error"),e.open({where:document.body,url:b6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y6,dontclear:!0},s=>new Promise(async(r,i)=>{await s.restyle({setHideOnLeave:!1});const a=Ms(t,"network-request-failed"),l=Os().setTimeout(()=>{i(a)},g6.get());function c(){Os().clearTimeout(l),r(s)}s.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C6=500,S6=600,E6="_blank",j6="http://localhost";class nb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function k6(t,e,n,s=C6,r=S6){const i=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const c={...N6,width:s.toString(),height:r.toString(),top:i,left:a},u=en().toLowerCase();n&&(l=HS(u)?E6:n),VS(u)&&(e=e||j6,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[p,w])=>`${m}${p}=${w},`,"");if(G5(u)&&l!=="_self")return T6(e||"",l),new nb(null);const d=window.open(e||"",l,h);pe(d,t,"popup-blocked");try{d.focus()}catch{}return new nb(d)}function T6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6="__/auth/handler",R6="emulator/auth/handler",P6=encodeURIComponent("fac");async function sb(t,e,n,s,r,i){pe(t.config.authDomain,t,"auth-domain-config-required"),pe(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Qa,eventId:r};if(e instanceof tE){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",tg(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))a[h]=d}if(e instanceof Qc){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),u=c?`#${P6}=${encodeURIComponent(c)}`:"";return`${A6(t)}?${Ka(l).slice(1)}${u}`}function A6({config:t}){return t.emulator?uv(t,R6):`https://${t.authDomain}/${I6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="webStorageSupport";class M6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uE,this._completeRedirectFn=r6,this._overrideRedirectResult=t6}async _openPopup(e,n,s,r){var a;hr((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const i=await sb(e,n,s,ag(),r);return k6(e,i,pv())}async _openRedirect(e,n,s,r){await this._originValidation(e);const i=await sb(e,n,s,ag(),r);return LF(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:i}=this.eventManagers[n];return r?Promise.resolve(r):(hr(i,"If manager is not set, promise should be"),i)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await _6(e),s=new o6(e);return n.register("authEvent",r=>(pe(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sm,{type:Sm},r=>{var a;const i=(a=r==null?void 0:r[0])==null?void 0:a[Sm];i!==void 0&&n(!!i),ws(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=d6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return YS()||WS()||hv()}}const O6=M6;var rb="@firebase/auth",ib="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function F6(t){Ea(new so("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=s.options;pe(a&&!a.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XS(t)},u=new J5(s,r,i,c);return lF(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ea(new so("auth-internal",e=>{const n=Ci(e.getProvider("auth").getImmediate());return(s=>new D6(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ri(rb,ib,L6(t)),ri(rb,ib,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=5*60,U6=NS("authIdTokenMaxAge")||$6;let ob=null;const z6=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>U6)return;const r=n==null?void 0:n.token;ob!==r&&(ob=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function B6(t=PS()){const e=lv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=aF(t,{popupRedirectResolver:O6,persistence:[GF,MF,uE]}),s=NS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(s,location.origin);if(location.origin===i.origin){const a=z6(i.toString());IF(n,a,()=>a(n.currentUser)),TF(n,l=>a(l))}}const r=bS("auth");return r&&cF(n,`http://${r}`),n}function V6(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Z5({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const i=Ms("internal-error");i.customData=r,n(i)},s.type="text/javascript",s.charset="UTF-8",V6().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});F6("Browser");var ab={};const lb="@firebase/database",cb="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xE="";function W6(t){xE=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),bt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:xc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Us(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new H6(e)}}catch{}return new G6},Oi=vE("localStorage"),K6=vE("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new ov("@firebase/database"),Q6=function(){let t=1;return function(){return t++}}(),yE=function(t){const e=p3(t),n=new d3;n.update(e);const s=n.digest();return sv.encodeByteArray(s)},Yc=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Yc.apply(null,s):typeof s=="object"?e+=bt(s):e+=s,e+=" "}return e};let Ul=null,ub=!0;const q6=function(t,e){B(!e,"Can't turn on custom loggers persistently."),sa.logLevel=Be.VERBOSE,Ul=sa.log.bind(sa)},At=function(...t){if(ub===!0&&(ub=!1,Ul===null&&K6.get("logging_enabled")===!0&&q6()),Ul){const e=Yc.apply(null,t);Ul(e)}},Xc=function(t){return function(...e){At(t,...e)}},ug=function(...t){const e="FIREBASE INTERNAL ERROR: "+Yc(...t);sa.error(e)},fr=function(...t){const e=`FIREBASE FATAL ERROR: ${Yc(...t)}`;throw sa.error(e),new Error(e)},Jt=function(...t){const e="FIREBASE WARNING: "+Yc(...t);sa.warn(e)},Y6=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Jt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},xv=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},X6=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ka="[MIN_NAME]",oo="[MAX_NAME]",yo=function(t,e){if(t===e)return 0;if(t===ka||e===oo)return-1;if(e===ka||t===oo)return 1;{const n=db(t),s=db(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},J6=function(t,e){return t===e?0:t<e?-1:1},ml=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+bt(e))},vv=function(t){if(typeof t!="object"||t===null)return bt(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=bt(e[s]),n+=":",n+=vv(t[e[s]]);return n+="}",n},wE=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let r=0;r<n;r+=e)r+e>n?s.push(t.substring(r,n)):s.push(t.substring(r,r+e));return s};function Lt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const bE=function(t){B(!xv(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let r,i,a,l,c;t===0?(i=0,a=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),s),i=l+s,a=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(i=0,a=Math.round(t/Math.pow(2,1-s-n))));const u=[];for(c=n;c;c-=1)u.push(a%2?1:0),a=Math.floor(a/2);for(c=e;c;c-=1)u.push(i%2?1:0),i=Math.floor(i/2);u.push(r?1:0),u.reverse();const h=u.join("");let d="";for(c=0;c<64;c+=8){let m=parseInt(h.substr(c,8),2).toString(16);m.length===1&&(m="0"+m),d=d+m}return d.toLowerCase()},Z6=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},e$=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function t$(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const n$=new RegExp("^-?(0*)\\d{1,10}$"),s$=-2147483648,r$=2147483647,db=function(t){if(n$.test(t)){const e=Number(t);if(e>=s$&&e<=r$)return e}return null},Ya=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Jt("Exception was thrown by user callback.",n),e},Math.floor(0))}},i$=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},zl=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Mn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){Jt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(At("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Jt(e)}}class rd{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}rd.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="5",_E="v",NE="s",CE="r",SE="f",EE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,jE="ls",kE="p",dg="ac",TE="websocket",IE="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,n,s,r,i=!1,a="",l=!1,c=!1,u=null){this.secure=n,this.namespace=s,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this.emulatorOptions=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Oi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Oi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function l$(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function PE(t,e,n){B(typeof e=="string","typeof type must == string"),B(typeof n=="object","typeof params must == object");let s;if(e===TE)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===IE)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);l$(t)&&(n.ns=t.namespace);const r=[];return Lt(n,(i,a)=>{r.push(i+"="+a)}),s+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(){this.counters_={}}incrementCounter(e,n=1){Us(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return HL(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em={},jm={};function wv(t){const e=t.toString();return Em[e]||(Em[e]=new c$),Em[e]}function u$(t,e){const n=t.toString();return jm[n]||(jm[n]=e()),jm[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<s.length;++r)s[r]&&Ya(()=>{this.onMessage_(s[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="start",h$="close",f$="pLPCommand",m$="pRTLPCB",AE="id",ME="pw",OE="ser",p$="cb",g$="seg",x$="ts",v$="d",y$="dframe",DE=1870,LE=30,w$=DE-LE,b$=25e3,_$=3e4;class Wo{constructor(e,n,s,r,i,a,l){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=r,this.authToken=i,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Xc(e),this.stats_=wv(n),this.urlFn=c=>(this.appCheckToken&&(c[dg]=this.appCheckToken),PE(n,IE,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new d$(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(_$)),X6(()=>{if(this.isClosed_)return;this.scriptTagHolder=new bv((...i)=>{const[a,l,c,u,h]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===hb)this.id=l,this.password=c;else if(a===h$)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...i)=>{const[a,l]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(a,l)},()=>{this.onClosed_()},this.urlFn);const s={};s[hb]="t",s[OE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[p$]=this.scriptTagHolder.uniqueCallbackIdentifier),s[_E]=yv,this.transportSessionId&&(s[NE]=this.transportSessionId),this.lastSessionId&&(s[jE]=this.lastSessionId),this.applicationId&&(s[kE]=this.applicationId),this.appCheckToken&&(s[dg]=this.appCheckToken),typeof location<"u"&&location.hostname&&EE.test(location.hostname)&&(s[CE]=SE);const r=this.urlFn(s);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Wo.forceAllow_=!0}static forceDisallow(){Wo.forceDisallow_=!0}static isAvailable(){return Wo.forceAllow_?!0:!Wo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Z6()&&!e$()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=bt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=yS(n),r=wE(s,w$);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[y$]="t",s[AE]=e,s[ME]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=bt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class bv{constructor(e,n,s,r){this.onDisconnect=s,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Q6(),window[f$+this.uniqueCallbackIdentifier]=e,window[m$+this.uniqueCallbackIdentifier]=n,this.myIFrame=bv.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(l){At("frame writing exception"),l.stack&&At(l.stack),At(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||At("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[AE]=this.myID,e[ME]=this.myPW,e[OE]=this.currentSerial;let n=this.urlFn(e),s="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+LE+s.length<=DE;){const a=this.pendingSegs.shift();s=s+"&"+g$+r+"="+a.seg+"&"+x$+r+"="+a.ts+"&"+v$+r+"="+a.d,r++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(s,Math.floor(b$)),i=()=>{clearTimeout(r),s()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const r=s.readyState;(!r||r==="loaded"||r==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{At("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$=16384,C$=45e3;let Zd=null;typeof MozWebSocket<"u"?Zd=MozWebSocket:typeof WebSocket<"u"&&(Zd=WebSocket);class os{constructor(e,n,s,r,i,a,l){this.connId=e,this.applicationId=s,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Xc(this.connId),this.stats_=wv(n),this.connURL=os.connectionURL_(n,a,l,r,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,r,i){const a={};return a[_E]=yv,typeof location<"u"&&location.hostname&&EE.test(location.hostname)&&(a[CE]=SE),n&&(a[NE]=n),s&&(a[jE]=s),r&&(a[dg]=r),i&&(a[kE]=i),PE(e,TE,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Oi.set("previous_websocket_failure",!0);try{let s;jS(),this.mySock=new Zd(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const r=s.message||s.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const r=s.message||s.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){os.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&Zd!==null&&!os.forceDisallow_}static previouslyFailed(){return Oi.isInMemoryStorage||Oi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Oi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=xc(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(B(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=bt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=wE(n,N$);s.length>1&&this.sendString_(String(s.length));for(let r=0;r<s.length;r++)this.sendString_(s[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(C$))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}os.responsesRequiredToBeHealthy=2;os.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{static get ALL_TRANSPORTS(){return[Wo,os]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=os&&os.isAvailable();let s=n&&!os.previouslyFailed();if(e.webSocketOnly&&(n||Jt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[os];else{const r=this.transports_=[];for(const i of wc.ALL_TRANSPORTS)i&&i.isAvailable()&&r.push(i);wc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}wc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$=6e4,E$=5e3,j$=10*1024,k$=100*1024,km="t",fb="d",T$="s",mb="r",I$="e",pb="o",gb="a",xb="n",vb="p",R$="h";class P${constructor(e,n,s,r,i,a,l,c,u,h){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=c,this.onKill_=u,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Xc("c:"+this.id+":"),this.transportManager_=new wc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=zl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>k$?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>j$?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(km in e){const n=e[km];n===gb?this.upgradeIfSecondaryHealthy_():n===mb?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===pb&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ml("t",e),s=ml("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:vb,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:gb,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:xb,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ml("t",e),s=ml("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ml(km,e);if(fb in e){const s=e[fb];if(n===R$){const r={...s};this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===xb){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===T$?this.onConnectionShutdown_(s):n===mb?this.onReset_(s):n===I$?ug("Server Error: "+s):n===pb?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ug("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),yv!==s&&Jt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),zl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(S$))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):zl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(E$))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:vb,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Oi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{put(e,n,s,r){}merge(e,n,s,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e){this.allowedEvents_=e,this.listeners_={},B(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let r=0;r<s.length;r++)s[r].callback.apply(s[r].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const r=this.getInitialEvent(e);r&&n.apply(s,r)}off(e,n,s){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===n&&(!s||s===r[i].context)){r.splice(i,1);return}}validateEventType_(e){B(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh extends $E{static getInstance(){return new eh}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!iv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return B(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=32,wb=768;class Ve{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[s]=this.pieces_[r],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Le(){return new Ve("")}function Se(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function gi(t){return t.pieces_.length-t.pieceNum_}function Ge(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ve(t.pieces_,e)}function _v(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function A$(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function bc(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function UE(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ve(e,0)}function lt(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof Ve)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let r=0;r<s.length;r++)s[r].length>0&&n.push(s[r])}return new Ve(n,0)}function ke(t){return t.pieceNum_>=t.pieces_.length}function Yt(t,e){const n=Se(t),s=Se(e);if(n===null)return e;if(n===s)return Yt(Ge(t),Ge(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function M$(t,e){const n=bc(t,0),s=bc(e,0);for(let r=0;r<n.length&&r<s.length;r++){const i=yo(n[r],s[r]);if(i!==0)return i}return n.length===s.length?0:n.length<s.length?-1:1}function Nv(t,e){if(gi(t)!==gi(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function Ln(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(gi(t)>gi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class O${constructor(e,n){this.errorPrefix_=n,this.parts_=bc(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=qh(this.parts_[s]);zE(this)}}function D$(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=qh(e),zE(t)}function L$(t){const e=t.parts_.pop();t.byteLength_-=qh(e),t.parts_.length>0&&(t.byteLength_-=1)}function zE(t){if(t.byteLength_>wb)throw new Error(t.errorPrefix_+"has a key path longer than "+wb+" bytes ("+t.byteLength_+").");if(t.parts_.length>yb)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+yb+") or object contains a cycle "+Ri(t))}function Ri(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv extends $E{static getInstance(){return new Cv}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return B(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=1e3,F$=60*5*1e3,bb=30*1e3,$$=1.3,U$=3e4,z$="server_kill",_b=3;class tr extends FE{constructor(e,n,s,r,i,a,l,c){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=tr.nextPersistentConnectionId_++,this.log_=Xc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=pl,this.maxReconnectDelay_=F$,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!jS())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Cv.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&eh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const r=++this.requestNumber_,i={r,a:e,b:n};this.log_(bt(i)),B(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),s&&(this.requestCBHash_[r]=s)}get(e){this.initConnection_();const n=new Wc,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const l=a.d;a.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,s,r){this.initConnection_();const i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),B(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),B(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");const l={onComplete:r,hashFn:n,query:e,tag:s};this.listens.get(a).set(i,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+s+" for "+r);const i={p:s},a="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(a,i,l=>{const c=l.d,u=l.s;tr.warnOnListenWarnings_(c,n),(this.listens.get(s)&&this.listens.get(s).get(r))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(s,r),e.onComplete&&e.onComplete(u,c))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Us(e,"w")){const s=Sa(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();Jt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||u3(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=bb)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=c3(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,r=>{const i=r.s,a=r.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+r),B(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,r)&&this.connected_&&this.sendUnlisten_(s,r,e._queryObject,n)}sendUnlisten_(e,n,s,r){this.log_("Unlisten on "+e+" for "+n);const i={p:e},a="n";r&&(i.q=s,i.t=r),this.sendRequest(a,i)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,r){const i={p:n,d:s};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,a=>{r&&setTimeout(()=>{r(a.s,a.d)},Math.floor(0))})}put(e,n,s,r){this.putInternal("p",e,n,s,r)}merge(e,n,s,r){this.putInternal("m",e,n,s,r)}putInternal(e,n,s,r,i){this.initConnection_();const a={p:n,d:s};i!==void 0&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const i=s.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+bt(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):ug("Unrecognized action received from server: "+bt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){B(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=pl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=pl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>U$&&(this.reconnectDelay_=pl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*$$)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+tr.nextConnectionId_++,i=this.lastSessionId;let a=!1,l=null;const c=function(){l?l.close():(a=!0,s())},u=function(d){B(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(d)};this.realtime_={close:c,sendRequest:u};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,m]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);a?At("getToken() completed but was canceled"):(At("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=m&&m.token,l=new P$(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,p=>{Jt(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(z$)},i))}catch(d){this.log_("Failed to get token: "+d),a||(this.repoInfo_.nodeAdmin&&Jt(d),c())}}}interrupt(e){At("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){At("Resuming connection for reason: "+e),delete this.interruptReasons_[e],tg(this.interruptReasons_)&&(this.reconnectDelay_=pl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(i=>vv(i)).join("$"):s="default";const r=this.removeListen_(e,s);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const s=new Ve(e).toString();let r;if(this.listens.has(s)){const i=this.listens.get(s);r=i.get(n),i.delete(n),i.size===0&&this.listens.delete(s)}else r=void 0;return r}onAuthRevoked_(e,n){At("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=_b&&(this.reconnectDelay_=bb,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){At("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=_b&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+xE.replace(/\./g,"-")]=1,iv()?e["framework.cordova"]=1:ES()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=eh.getInstance().currentlyOnline();return tg(this.interruptReasons_)&&e}}tr.nextPersistentConnectionId_=0;tr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ee(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new Ee(ka,e),r=new Ee(ka,n);return this.compare(s,r)!==0}minPost(){return Ee.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iu;class BE extends Zh{static get __EMPTY_NODE(){return Iu}static set __EMPTY_NODE(e){Iu=e}compare(e,n){return yo(e.name,n.name)}isDefinedOn(e){throw Ha("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ee.MIN}maxPost(){return new Ee(oo,Iu)}makePost(e,n){return B(typeof e=="string","KeyIndex indexValue must always be a string."),new Ee(e,Iu)}toString(){return".key"}}const ra=new BE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n,s,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?s(e.key,n):1,r&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class jt{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??jt.RED,this.left=r??ln.EMPTY_NODE,this.right=i??ln.EMPTY_NODE}copy(e,n,s,r,i){return new jt(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return i<0?r=r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return ln.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,r;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return ln.EMPTY_NODE;r=s.right.min_(),s=s.copy(r.key,r.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}jt.RED=!0;jt.BLACK=!1;class B${copy(e,n,s,r,i){return this}insert(e,n,s){return new jt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ln{constructor(e,n=ln.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ln(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,jt.BLACK,null,null))}remove(e){return new ln(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,jt.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,r=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return r?r.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(r=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ru(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ru(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ru(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ru(this.root_,null,this.comparator_,!0,e)}}ln.EMPTY_NODE=new B$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V$(t,e){return yo(t.name,e.name)}function Sv(t,e){return yo(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hg;function W$(t){hg=t}const VE=function(t){return typeof t=="number"?"number:"+bE(t):"string:"+t},WE=function(t){if(t.isLeafNode()){const e=t.val();B(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Us(e,".sv"),"Priority must be a string or number.")}else B(t===hg||t.isEmpty(),"priority of unexpected type.");B(t===hg||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nb;class St{static set __childrenNodeConstructor(e){Nb=e}static get __childrenNodeConstructor(){return Nb}constructor(e,n=St.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,B(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),WE(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new St(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:St.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ke(e)?this:Se(e)===".priority"?this.priorityNode_:St.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:St.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=Se(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(B(s!==".priority"||gi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,St.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ge(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+VE(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=bE(this.value_):e+=this.value_,this.lazyHash_=yE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===St.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof St.__childrenNodeConstructor?-1:(B(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,r=St.VALUE_TYPE_ORDER.indexOf(n),i=St.VALUE_TYPE_ORDER.indexOf(s);return B(r>=0,"Unknown leaf type: "+n),B(i>=0,"Unknown leaf type: "+s),r===i?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}St.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HE,GE;function H$(t){HE=t}function G$(t){GE=t}class K$ extends Zh{compare(e,n){const s=e.node.getPriority(),r=n.node.getPriority(),i=s.compareTo(r);return i===0?yo(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ee.MIN}maxPost(){return new Ee(oo,new St("[PRIORITY-POST]",GE))}makePost(e,n){const s=HE(e);return new Ee(n,new St("[PRIORITY-POST]",s))}toString(){return".priority"}}const ct=new K$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q$=Math.log(2);class q${constructor(e){const n=i=>parseInt(Math.log(i)/Q$,10),s=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=s(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const th=function(t,e,n,s){t.sort(e);const r=function(c,u){const h=u-c;let d,m;if(h===0)return null;if(h===1)return d=t[c],m=n?n(d):d,new jt(m,d.node,jt.BLACK,null,null);{const p=parseInt(h/2,10)+c,w=r(c,p),g=r(p+1,u);return d=t[p],m=n?n(d):d,new jt(m,d.node,jt.BLACK,w,g)}},i=function(c){let u=null,h=null,d=t.length;const m=function(w,g){const b=d-w,x=d;d-=w;const v=r(b+1,x),y=t[b],N=n?n(y):y;p(new jt(N,y.node,g,null,v))},p=function(w){u?(u.left=w,u=w):(h=w,u=w)};for(let w=0;w<c.count;++w){const g=c.nextBitIsOne(),b=Math.pow(2,c.count-(w+1));g?m(b,jt.BLACK):(m(b,jt.BLACK),m(b,jt.RED))}return h},a=new q$(t.length),l=i(a);return new ln(s||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tm;const Eo={};class Xs{static get Default(){return B(Eo&&ct,"ChildrenNode.ts has not been loaded"),Tm=Tm||new Xs({".priority":Eo},{".priority":ct}),Tm}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Sa(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ln?n:null}hasIndex(e){return Us(this.indexSet_,e.toString())}addIndex(e,n){B(e!==ra,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let r=!1;const i=n.getIterator(Ee.Wrap);let a=i.getNext();for(;a;)r=r||e.isDefinedOn(a.node),s.push(a),a=i.getNext();let l;r?l=th(s,e.getCompare()):l=Eo;const c=e.toString(),u={...this.indexSet_};u[c]=e;const h={...this.indexes_};return h[c]=l,new Xs(h,u)}addToIndexes(e,n){const s=Wd(this.indexes_,(r,i)=>{const a=Sa(this.indexSet_,i);if(B(a,"Missing index implementation for "+i),r===Eo)if(a.isDefinedOn(e.node)){const l=[],c=n.getIterator(Ee.Wrap);let u=c.getNext();for(;u;)u.name!==e.name&&l.push(u),u=c.getNext();return l.push(e),th(l,a.getCompare())}else return Eo;else{const l=n.get(e.name);let c=r;return l&&(c=c.remove(new Ee(e.name,l))),c.insert(e,e.node)}});return new Xs(s,this.indexSet_)}removeFromIndexes(e,n){const s=Wd(this.indexes_,r=>{if(r===Eo)return r;{const i=n.get(e.name);return i?r.remove(new Ee(e.name,i)):r}});return new Xs(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gl;class ge{static get EMPTY_NODE(){return gl||(gl=new ge(new ln(Sv),null,Xs.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&WE(this.priorityNode_),this.children_.isEmpty()&&B(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||gl}updatePriority(e){return this.children_.isEmpty()?this:new ge(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?gl:n}}getChild(e){const n=Se(e);return n===null?this:this.getImmediateChild(n).getChild(Ge(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(B(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new Ee(e,n);let r,i;n.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(s,this.children_)):(r=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(s,this.children_));const a=r.isEmpty()?gl:this.priorityNode_;return new ge(r,a,i)}}updateChild(e,n){const s=Se(e);if(s===null)return n;{B(Se(e)!==".priority"||gi(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(s).updateChild(Ge(e),n);return this.updateImmediateChild(s,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,r=0,i=!0;if(this.forEachChild(ct,(a,l)=>{n[a]=l.val(e),s++,i&&ge.INTEGER_REGEXP_.test(a)?r=Math.max(r,Number(a)):i=!1}),!e&&i&&r<2*s){const a=[];for(const l in n)a[l]=n[l];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+VE(this.getPriority().val())+":"),this.forEachChild(ct,(n,s)=>{const r=s.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":yE(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const r=this.resolveIndex_(s);if(r){const i=r.getPredecessorKey(new Ee(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ee(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ee(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,Ee.Wrap);let i=r.peek();for(;i!=null&&n.compare(i,e)<0;)r.getNext(),i=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,Ee.Wrap);let i=r.peek();for(;i!=null&&n.compare(i,e)>0;)r.getNext(),i=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Jc?-1:0}withIndex(e){if(e===ra||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ge(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ra||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(ct),r=n.getIterator(ct);let i=s.getNext(),a=r.getNext();for(;i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=s.getNext(),a=r.getNext()}return i===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===ra?null:this.indexMap_.get(e.toString())}}ge.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Y$ extends ge{constructor(){super(new ln(Sv),ge.EMPTY_NODE,Xs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ge.EMPTY_NODE}isEmpty(){return!1}}const Jc=new Y$;Object.defineProperties(Ee,{MIN:{value:new Ee(ka,ge.EMPTY_NODE)},MAX:{value:new Ee(oo,Jc)}});BE.__EMPTY_NODE=ge.EMPTY_NODE;St.__childrenNodeConstructor=ge;W$(Jc);G$(Jc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X$=!0;function wt(t,e=null){if(t===null)return ge.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),B(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new St(n,wt(e))}if(!(t instanceof Array)&&X$){const n=[];let s=!1;if(Lt(t,(a,l)=>{if(a.substring(0,1)!=="."){const c=wt(l);c.isEmpty()||(s=s||!c.getPriority().isEmpty(),n.push(new Ee(a,c)))}}),n.length===0)return ge.EMPTY_NODE;const i=th(n,V$,a=>a.name,Sv);if(s){const a=th(n,ct.getCompare());return new ge(i,wt(e),new Xs({".priority":a},{".priority":ct}))}else return new ge(i,wt(e),Xs.Default)}else{let n=ge.EMPTY_NODE;return Lt(t,(s,r)=>{if(Us(t,s)&&s.substring(0,1)!=="."){const i=wt(r);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(s,i))}}),n.updatePriority(wt(e))}}H$(wt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J$ extends Zh{constructor(e){super(),this.indexPath_=e,B(!ke(e)&&Se(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),r=this.extractChild(n.node),i=s.compareTo(r);return i===0?yo(e.name,n.name):i}makePost(e,n){const s=wt(e),r=ge.EMPTY_NODE.updateChild(this.indexPath_,s);return new Ee(n,r)}maxPost(){const e=ge.EMPTY_NODE.updateChild(this.indexPath_,Jc);return new Ee(oo,e)}toString(){return bc(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z$ extends Zh{compare(e,n){const s=e.node.compareTo(n.node);return s===0?yo(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ee.MIN}maxPost(){return Ee.MAX}makePost(e,n){const s=wt(e);return new Ee(n,s)}toString(){return".value"}}const e8=new Z$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(t){return{type:"value",snapshotNode:t}}function Ta(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function _c(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Nc(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function t8(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e){this.index_=e}updateChild(e,n,s,r,i,a){B(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(r).equals(s.getChild(r))&&l.isEmpty()===s.isEmpty()||(a!=null&&(s.isEmpty()?e.hasChild(n)?a.trackChildChange(_c(n,l)):B(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?a.trackChildChange(Ta(n,s)):a.trackChildChange(Nc(n,s,l))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(ct,(r,i)=>{n.hasChild(r)||s.trackChildChange(_c(r,i))}),n.isLeafNode()||n.forEachChild(ct,(r,i)=>{if(e.hasChild(r)){const a=e.getImmediateChild(r);a.equals(i)||s.trackChildChange(Nc(r,i,a))}else s.trackChildChange(Ta(r,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ge.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e){this.indexedFilter_=new Ev(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Cc.getStartPost_(e),this.endPost_=Cc.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,r,i,a){return this.matches(new Ee(n,s))||(s=ge.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,r,i,a)}updateFullNode(e,n,s){n.isLeafNode()&&(n=ge.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(ge.EMPTY_NODE);const i=this;return n.forEachChild(ct,(a,l)=>{i.matches(new Ee(a,l))||(r=r.updateImmediateChild(a,ge.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new Cc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,r,i,a){return this.rangedFilter_.matches(new Ee(n,s))||(s=ge.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,r,i,a):this.fullLimitUpdateChild_(e,n,s,i,a)}updateFullNode(e,n,s){let r;if(n.isLeafNode()||n.isEmpty())r=ge.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=ge.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;i.hasNext()&&a<this.limit_;){const l=i.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))r=r.updateImmediateChild(l.name,l.node),a++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(ge.EMPTY_NODE);let i;this.reverse_?i=r.getReverseIterator(this.index_):i=r.getIterator(this.index_);let a=0;for(;i.hasNext();){const l=i.getNext();a<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?a++:r=r.updateImmediateChild(l.name,ge.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,r,i){let a;if(this.reverse_){const d=this.index_.getCompare();a=(m,p)=>d(p,m)}else a=this.index_.getCompare();const l=e;B(l.numChildren()===this.limit_,"");const c=new Ee(n,s),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(l.hasChild(n)){const d=l.getImmediateChild(n);let m=r.getChildAfterChild(this.index_,u,this.reverse_);for(;m!=null&&(m.name===n||l.hasChild(m.name));)m=r.getChildAfterChild(this.index_,m,this.reverse_);const p=m==null?1:a(m,c);if(h&&!s.isEmpty()&&p>=0)return i!=null&&i.trackChildChange(Nc(n,s,d)),l.updateImmediateChild(n,s);{i!=null&&i.trackChildChange(_c(n,d));const g=l.updateImmediateChild(n,ge.EMPTY_NODE);return m!=null&&this.rangedFilter_.matches(m)?(i!=null&&i.trackChildChange(Ta(m.name,m.node)),g.updateImmediateChild(m.name,m.node)):g}}else return s.isEmpty()?e:h&&a(u,c)>=0?(i!=null&&(i.trackChildChange(_c(u.name,u.node)),i.trackChildChange(Ta(n,s))),l.updateImmediateChild(n,s).updateImmediateChild(u.name,ge.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ct}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return B(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return B(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ka}hasEnd(){return this.endSet_}getIndexEndValue(){return B(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return B(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:oo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return B(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ct}copy(){const e=new jv;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function s8(t){return t.loadsAllData()?new Ev(t.getIndex()):t.hasLimit()?new n8(t):new Cc(t)}function Cb(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ct?n="$priority":t.index_===e8?n="$value":t.index_===ra?n="$key":(B(t.index_ instanceof J$,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=bt(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=bt(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+bt(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=bt(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+bt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Sb(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ct&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh extends FE{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(B(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=r,this.log_=Xc("p:rest:"),this.listens_={}}listen(e,n,s,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const a=nh.getListenId_(e,s),l={};this.listens_[a]=l;const c=Cb(e._queryParams);this.restRequest_(i+".json",c,(u,h)=>{let d=h;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(i,d,!1,s),Sa(this.listens_,a)===l){let m;u?u===401?m="permission_denied":m="rest_error:"+u:m="ok",r(m,null)}})}unlisten(e,n){const s=nh.getListenId_(e,n);delete this.listens_[s]}get(e){const n=Cb(e._queryParams),s=e._path.toString(),r=new Wc;return this.restRequest_(s+".json",n,(i,a)=>{let l=a;i===404&&(l=null,i=null),i===null?(this.onDataUpdate_(s,l,!1,null),r.resolve(l)):r.reject(new Error(l))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,i])=>{r&&r.accessToken&&(n.auth=r.accessToken),i&&i.token&&(n.ac=i.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ka(n);this.log_("Sending REST request for "+a);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(s&&l.readyState===4){this.log_("REST Response for "+a+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=xc(l.responseText)}catch{Jt("Failed to parse JSON response for "+a+": "+l.responseText)}s(null,c)}else l.status!==401&&l.status!==404&&Jt("Got unsuccessful REST response for "+a+" Status: "+l.status),s(l.status);s=null}},l.open("GET",a,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(){this.rootNode_=ge.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(){return{value:null,children:new Map}}function QE(t,e,n){if(ke(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=Se(e);t.children.has(s)||t.children.set(s,sh());const r=t.children.get(s);e=Ge(e),QE(r,e,n)}}function fg(t,e,n){t.value!==null?n(e,t.value):i8(t,(s,r)=>{const i=new Ve(e.toString()+"/"+s);fg(r,i,n)})}function i8(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Lt(this.last_,(s,r)=>{n[s]=n[s]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=10*1e3,a8=30*1e3,l8=5*60*1e3;class c8{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new o8(e);const s=Eb+(a8-Eb)*Math.random();zl(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;Lt(e,(r,i)=>{i>0&&Us(this.statsToReport_,r)&&(n[r]=i,s=!0)}),s&&this.server_.reportStats(n),zl(this.reportStats_.bind(this),Math.floor(Math.random()*2*l8))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ds;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ds||(ds={}));function kv(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Tv(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Iv(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=ds.ACK_USER_WRITE,this.source=kv()}operationForChild(e){if(ke(this.path)){if(this.affectedTree.value!=null)return B(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ve(e));return new rh(Le(),n,this.revert)}}else return B(Se(this.path)===e,"operationForChild called for unrelated child."),new rh(Ge(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n){this.source=e,this.path=n,this.type=ds.LISTEN_COMPLETE}operationForChild(e){return ke(this.path)?new Sc(this.source,Le()):new Sc(this.source,Ge(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=ds.OVERWRITE}operationForChild(e){return ke(this.path)?new ao(this.source,Le(),this.snap.getImmediateChild(e)):new ao(this.source,Ge(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=ds.MERGE}operationForChild(e){if(ke(this.path)){const n=this.children.subtree(new Ve(e));return n.isEmpty()?null:n.value?new ao(this.source,Le(),n.value):new Ia(this.source,Le(),n)}else return B(Se(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ia(this.source,Ge(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ke(e))return this.isFullyInitialized()&&!this.filtered_;const n=Se(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function d8(t,e,n,s){const r=[],i=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&i.push(t8(a.childName,a.snapshotNode))}),xl(t,r,"child_removed",e,s,n),xl(t,r,"child_added",e,s,n),xl(t,r,"child_moved",i,s,n),xl(t,r,"child_changed",e,s,n),xl(t,r,"value",e,s,n),r}function xl(t,e,n,s,r,i){const a=s.filter(l=>l.type===n);a.sort((l,c)=>f8(t,l,c)),a.forEach(l=>{const c=h8(t,l,i);r.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(c,t.query_))})})}function h8(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function f8(t,e,n){if(e.childName==null||n.childName==null)throw Ha("Should only compare child_ events.");const s=new Ee(e.childName,e.snapshotNode),r=new Ee(n.childName,n.snapshotNode);return t.index_.compare(s,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(t,e){return{eventCache:t,serverCache:e}}function Bl(t,e,n,s){return ef(new xi(e,n,s),t.serverCache)}function qE(t,e,n,s){return ef(t.eventCache,new xi(e,n,s))}function ih(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function lo(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Im;const m8=()=>(Im||(Im=new ln(J6)),Im);class He{static fromObject(e){let n=new He(null);return Lt(e,(s,r)=>{n=n.set(new Ve(s),r)}),n}constructor(e,n=m8()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Le(),value:this.value};if(ke(e))return null;{const s=Se(e),r=this.children.get(s);if(r!==null){const i=r.findRootMostMatchingPathAndValue(Ge(e),n);return i!=null?{path:lt(new Ve(s),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ke(e))return this;{const n=Se(e),s=this.children.get(n);return s!==null?s.subtree(Ge(e)):new He(null)}}set(e,n){if(ke(e))return new He(n,this.children);{const s=Se(e),i=(this.children.get(s)||new He(null)).set(Ge(e),n),a=this.children.insert(s,i);return new He(this.value,a)}}remove(e){if(ke(e))return this.children.isEmpty()?new He(null):new He(null,this.children);{const n=Se(e),s=this.children.get(n);if(s){const r=s.remove(Ge(e));let i;return r.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,r),this.value===null&&i.isEmpty()?new He(null):new He(this.value,i)}else return this}}get(e){if(ke(e))return this.value;{const n=Se(e),s=this.children.get(n);return s?s.get(Ge(e)):null}}setTree(e,n){if(ke(e))return n;{const s=Se(e),i=(this.children.get(s)||new He(null)).setTree(Ge(e),n);let a;return i.isEmpty()?a=this.children.remove(s):a=this.children.insert(s,i),new He(this.value,a)}}fold(e){return this.fold_(Le(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((r,i)=>{s[r]=i.fold_(lt(e,r),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,Le(),n)}findOnPath_(e,n,s){const r=this.value?s(n,this.value):!1;if(r)return r;if(ke(e))return null;{const i=Se(e),a=this.children.get(i);return a?a.findOnPath_(Ge(e),lt(n,i),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Le(),n)}foreachOnPath_(e,n,s){if(ke(e))return this;{this.value&&s(n,this.value);const r=Se(e),i=this.children.get(r);return i?i.foreachOnPath_(Ge(e),lt(n,r),s):new He(null)}}foreach(e){this.foreach_(Le(),e)}foreach_(e,n){this.children.inorderTraversal((s,r)=>{r.foreach_(lt(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this.writeTree_=e}static empty(){return new ps(new He(null))}}function Vl(t,e,n){if(ke(e))return new ps(new He(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const r=s.path;let i=s.value;const a=Yt(r,e);return i=i.updateChild(a,n),new ps(t.writeTree_.set(r,i))}else{const r=new He(n),i=t.writeTree_.setTree(e,r);return new ps(i)}}}function mg(t,e,n){let s=t;return Lt(n,(r,i)=>{s=Vl(s,lt(e,r),i)}),s}function jb(t,e){if(ke(e))return ps.empty();{const n=t.writeTree_.setTree(e,new He(null));return new ps(n)}}function pg(t,e){return wo(t,e)!=null}function wo(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Yt(n.path,e)):null}function kb(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ct,(s,r)=>{e.push(new Ee(s,r))}):t.writeTree_.children.inorderTraversal((s,r)=>{r.value!=null&&e.push(new Ee(s,r.value))}),e}function ii(t,e){if(ke(e))return t;{const n=wo(t,e);return n!=null?new ps(new He(n)):new ps(t.writeTree_.subtree(e))}}function gg(t){return t.writeTree_.isEmpty()}function Ra(t,e){return YE(Le(),t.writeTree_,e)}function YE(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((r,i)=>{r===".priority"?(B(i.value!==null,"Priority writes must always be leaf nodes"),s=i.value):n=YE(lt(t,r),i,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(lt(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(t,e){return ej(e,t)}function p8(t,e,n,s,r){B(s>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:r}),r&&(t.visibleWrites=Vl(t.visibleWrites,e,n)),t.lastWriteId=s}function g8(t,e,n,s){B(s>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:s,visible:!0}),t.visibleWrites=mg(t.visibleWrites,e,n),t.lastWriteId=s}function x8(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function v8(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);B(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let r=s.visible,i=!1,a=t.allWrites.length-1;for(;r&&a>=0;){const l=t.allWrites[a];l.visible&&(a>=n&&y8(l,s.path)?r=!1:Ln(s.path,l.path)&&(i=!0)),a--}if(r){if(i)return w8(t),!0;if(s.snap)t.visibleWrites=jb(t.visibleWrites,s.path);else{const l=s.children;Lt(l,c=>{t.visibleWrites=jb(t.visibleWrites,lt(s.path,c))})}return!0}else return!1}function y8(t,e){if(t.snap)return Ln(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ln(lt(t.path,n),e))return!0;return!1}function w8(t){t.visibleWrites=XE(t.allWrites,b8,Le()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function b8(t){return t.visible}function XE(t,e,n){let s=ps.empty();for(let r=0;r<t.length;++r){const i=t[r];if(e(i)){const a=i.path;let l;if(i.snap)Ln(n,a)?(l=Yt(n,a),s=Vl(s,l,i.snap)):Ln(a,n)&&(l=Yt(a,n),s=Vl(s,Le(),i.snap.getChild(l)));else if(i.children){if(Ln(n,a))l=Yt(n,a),s=mg(s,l,i.children);else if(Ln(a,n))if(l=Yt(a,n),ke(l))s=mg(s,Le(),i.children);else{const c=Sa(i.children,Se(l));if(c){const u=c.getChild(Ge(l));s=Vl(s,Le(),u)}}}else throw Ha("WriteRecord should have .snap or .children")}}return s}function JE(t,e,n,s,r){if(!s&&!r){const i=wo(t.visibleWrites,e);if(i!=null)return i;{const a=ii(t.visibleWrites,e);if(gg(a))return n;if(n==null&&!pg(a,Le()))return null;{const l=n||ge.EMPTY_NODE;return Ra(a,l)}}}else{const i=ii(t.visibleWrites,e);if(!r&&gg(i))return n;if(!r&&n==null&&!pg(i,Le()))return null;{const a=function(u){return(u.visible||r)&&(!s||!~s.indexOf(u.writeId))&&(Ln(u.path,e)||Ln(e,u.path))},l=XE(t.allWrites,a,e),c=n||ge.EMPTY_NODE;return Ra(l,c)}}}function _8(t,e,n){let s=ge.EMPTY_NODE;const r=wo(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(ct,(i,a)=>{s=s.updateImmediateChild(i,a)}),s;if(n){const i=ii(t.visibleWrites,e);return n.forEachChild(ct,(a,l)=>{const c=Ra(ii(i,new Ve(a)),l);s=s.updateImmediateChild(a,c)}),kb(i).forEach(a=>{s=s.updateImmediateChild(a.name,a.node)}),s}else{const i=ii(t.visibleWrites,e);return kb(i).forEach(a=>{s=s.updateImmediateChild(a.name,a.node)}),s}}function N8(t,e,n,s,r){B(s||r,"Either existingEventSnap or existingServerSnap must exist");const i=lt(e,n);if(pg(t.visibleWrites,i))return null;{const a=ii(t.visibleWrites,i);return gg(a)?r.getChild(n):Ra(a,r.getChild(n))}}function C8(t,e,n,s){const r=lt(e,n),i=wo(t.visibleWrites,r);if(i!=null)return i;if(s.isCompleteForChild(n)){const a=ii(t.visibleWrites,r);return Ra(a,s.getNode().getImmediateChild(n))}else return null}function S8(t,e){return wo(t.visibleWrites,e)}function E8(t,e,n,s,r,i,a){let l;const c=ii(t.visibleWrites,e),u=wo(c,Le());if(u!=null)l=u;else if(n!=null)l=Ra(c,n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){const h=[],d=a.getCompare(),m=i?l.getReverseIteratorFrom(s,a):l.getIteratorFrom(s,a);let p=m.getNext();for(;p&&h.length<r;)d(p,s)!==0&&h.push(p),p=m.getNext();return h}else return[]}function j8(){return{visibleWrites:ps.empty(),allWrites:[],lastWriteId:-1}}function oh(t,e,n,s){return JE(t.writeTree,t.treePath,e,n,s)}function Rv(t,e){return _8(t.writeTree,t.treePath,e)}function Tb(t,e,n,s){return N8(t.writeTree,t.treePath,e,n,s)}function ah(t,e){return S8(t.writeTree,lt(t.treePath,e))}function k8(t,e,n,s,r,i){return E8(t.writeTree,t.treePath,e,n,s,r,i)}function Pv(t,e,n){return C8(t.writeTree,t.treePath,e,n)}function ZE(t,e){return ej(lt(t.treePath,e),t.writeTree)}function ej(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;B(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),B(s!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(s);if(r){const i=r.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(s,Nc(s,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(s,_c(s,r.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(s,Ta(s,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(s,Nc(s,e.snapshotNode,r.oldSnap));else throw Ha("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const tj=new I8;class Av{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new xi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Pv(this.writes_,e,s)}}getChildAfterChild(e,n,s){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:lo(this.viewCache_),i=k8(this.writes_,r,n,1,s,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R8(t){return{filter:t}}function P8(t,e){B(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),B(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function A8(t,e,n,s,r){const i=new T8;let a,l;if(n.type===ds.OVERWRITE){const u=n;u.source.fromUser?a=xg(t,e,u.path,u.snap,s,r,i):(B(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!ke(u.path),a=lh(t,e,u.path,u.snap,s,r,l,i))}else if(n.type===ds.MERGE){const u=n;u.source.fromUser?a=O8(t,e,u.path,u.children,s,r,i):(B(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),a=vg(t,e,u.path,u.children,s,r,l,i))}else if(n.type===ds.ACK_USER_WRITE){const u=n;u.revert?a=F8(t,e,u.path,s,r,i):a=D8(t,e,u.path,u.affectedTree,s,r,i)}else if(n.type===ds.LISTEN_COMPLETE)a=L8(t,e,n.path,s,i);else throw Ha("Unknown operation type: "+n.type);const c=i.getChanges();return M8(e,a,c),{viewCache:a,changes:c}}function M8(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const r=s.getNode().isLeafNode()||s.getNode().isEmpty(),i=ih(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!s.getNode().equals(i)||!s.getNode().getPriority().equals(i.getPriority()))&&n.push(KE(ih(e)))}}function nj(t,e,n,s,r,i){const a=e.eventCache;if(ah(s,n)!=null)return e;{let l,c;if(ke(n))if(B(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=lo(e),h=u instanceof ge?u:ge.EMPTY_NODE,d=Rv(s,h);l=t.filter.updateFullNode(e.eventCache.getNode(),d,i)}else{const u=oh(s,lo(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,i)}else{const u=Se(n);if(u===".priority"){B(gi(n)===1,"Can't have a priority with additional path components");const h=a.getNode();c=e.serverCache.getNode();const d=Tb(s,n,h,c);d!=null?l=t.filter.updatePriority(h,d):l=a.getNode()}else{const h=Ge(n);let d;if(a.isCompleteForChild(u)){c=e.serverCache.getNode();const m=Tb(s,n,a.getNode(),c);m!=null?d=a.getNode().getImmediateChild(u).updateChild(h,m):d=a.getNode().getImmediateChild(u)}else d=Pv(s,u,e.serverCache);d!=null?l=t.filter.updateChild(a.getNode(),u,d,h,r,i):l=a.getNode()}}return Bl(e,l,a.isFullyInitialized()||ke(n),t.filter.filtersNodes())}}function lh(t,e,n,s,r,i,a,l){const c=e.serverCache;let u;const h=a?t.filter:t.filter.getIndexedFilter();if(ke(n))u=h.updateFullNode(c.getNode(),s,null);else if(h.filtersNodes()&&!c.isFiltered()){const p=c.getNode().updateChild(n,s);u=h.updateFullNode(c.getNode(),p,null)}else{const p=Se(n);if(!c.isCompleteForPath(n)&&gi(n)>1)return e;const w=Ge(n),b=c.getNode().getImmediateChild(p).updateChild(w,s);p===".priority"?u=h.updatePriority(c.getNode(),b):u=h.updateChild(c.getNode(),p,b,w,tj,null)}const d=qE(e,u,c.isFullyInitialized()||ke(n),h.filtersNodes()),m=new Av(r,d,i);return nj(t,d,n,r,m,l)}function xg(t,e,n,s,r,i,a){const l=e.eventCache;let c,u;const h=new Av(r,e,i);if(ke(n))u=t.filter.updateFullNode(e.eventCache.getNode(),s,a),c=Bl(e,u,!0,t.filter.filtersNodes());else{const d=Se(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),s),c=Bl(e,u,l.isFullyInitialized(),l.isFiltered());else{const m=Ge(n),p=l.getNode().getImmediateChild(d);let w;if(ke(m))w=s;else{const g=h.getCompleteChild(d);g!=null?_v(m)===".priority"&&g.getChild(UE(m)).isEmpty()?w=g:w=g.updateChild(m,s):w=ge.EMPTY_NODE}if(p.equals(w))c=e;else{const g=t.filter.updateChild(l.getNode(),d,w,m,h,a);c=Bl(e,g,l.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function Ib(t,e){return t.eventCache.isCompleteForChild(e)}function O8(t,e,n,s,r,i,a){let l=e;return s.foreach((c,u)=>{const h=lt(n,c);Ib(e,Se(h))&&(l=xg(t,l,h,u,r,i,a))}),s.foreach((c,u)=>{const h=lt(n,c);Ib(e,Se(h))||(l=xg(t,l,h,u,r,i,a))}),l}function Rb(t,e,n){return n.foreach((s,r)=>{e=e.updateChild(s,r)}),e}function vg(t,e,n,s,r,i,a,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,u;ke(n)?u=s:u=new He(null).setTree(n,s);const h=e.serverCache.getNode();return u.children.inorderTraversal((d,m)=>{if(h.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),w=Rb(t,p,m);c=lh(t,c,new Ve(d),w,r,i,a,l)}}),u.children.inorderTraversal((d,m)=>{const p=!e.serverCache.isCompleteForChild(d)&&m.value===null;if(!h.hasChild(d)&&!p){const w=e.serverCache.getNode().getImmediateChild(d),g=Rb(t,w,m);c=lh(t,c,new Ve(d),g,r,i,a,l)}}),c}function D8(t,e,n,s,r,i,a){if(ah(r,n)!=null)return e;const l=e.serverCache.isFiltered(),c=e.serverCache;if(s.value!=null){if(ke(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return lh(t,e,n,c.getNode().getChild(n),r,i,l,a);if(ke(n)){let u=new He(null);return c.getNode().forEachChild(ra,(h,d)=>{u=u.set(new Ve(h),d)}),vg(t,e,n,u,r,i,l,a)}else return e}else{let u=new He(null);return s.foreach((h,d)=>{const m=lt(n,h);c.isCompleteForPath(m)&&(u=u.set(h,c.getNode().getChild(m)))}),vg(t,e,n,u,r,i,l,a)}}function L8(t,e,n,s,r){const i=e.serverCache,a=qE(e,i.getNode(),i.isFullyInitialized()||ke(n),i.isFiltered());return nj(t,a,n,s,tj,r)}function F8(t,e,n,s,r,i){let a;if(ah(s,n)!=null)return e;{const l=new Av(s,e,r),c=e.eventCache.getNode();let u;if(ke(n)||Se(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=oh(s,lo(e));else{const d=e.serverCache.getNode();B(d instanceof ge,"serverChildren would be complete if leaf node"),h=Rv(s,d)}h=h,u=t.filter.updateFullNode(c,h,i)}else{const h=Se(n);let d=Pv(s,h,e.serverCache);d==null&&e.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),d!=null?u=t.filter.updateChild(c,h,d,Ge(n),l,i):e.eventCache.getNode().hasChild(h)?u=t.filter.updateChild(c,h,ge.EMPTY_NODE,Ge(n),l,i):u=c,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=oh(s,lo(e)),a.isLeafNode()&&(u=t.filter.updateFullNode(u,a,i)))}return a=e.serverCache.isFullyInitialized()||ah(s,Le())!=null,Bl(e,u,a,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,r=new Ev(s.getIndex()),i=s8(s);this.processor_=R8(i);const a=n.serverCache,l=n.eventCache,c=r.updateFullNode(ge.EMPTY_NODE,a.getNode(),null),u=i.updateFullNode(ge.EMPTY_NODE,l.getNode(),null),h=new xi(c,a.isFullyInitialized(),r.filtersNodes()),d=new xi(u,l.isFullyInitialized(),i.filtersNodes());this.viewCache_=ef(d,h),this.eventGenerator_=new u8(this.query_)}get query(){return this.query_}}function U8(t){return t.viewCache_.serverCache.getNode()}function z8(t){return ih(t.viewCache_)}function B8(t,e){const n=lo(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ke(e)&&!n.getImmediateChild(Se(e)).isEmpty())?n.getChild(e):null}function Pb(t){return t.eventRegistrations_.length===0}function V8(t,e){t.eventRegistrations_.push(e)}function Ab(t,e,n){const s=[];if(n){B(e==null,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(i=>{const a=i.createCancelEvent(n,r);a&&s.push(a)})}if(e){let r=[];for(let i=0;i<t.eventRegistrations_.length;++i){const a=t.eventRegistrations_[i];if(!a.matches(e))r.push(a);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return s}function Mb(t,e,n,s){e.type===ds.MERGE&&e.source.queryId!==null&&(B(lo(t.viewCache_),"We should always have a full cache before handling merges"),B(ih(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,i=A8(t.processor_,r,e,n,s);return P8(t.processor_,i.viewCache),B(i.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,sj(t,i.changes,i.viewCache.eventCache.getNode(),null)}function W8(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ct,(i,a)=>{s.push(Ta(i,a))}),n.isFullyInitialized()&&s.push(KE(n.getNode())),sj(t,s,n.getNode(),e)}function sj(t,e,n,s){const r=s?[s]:t.eventRegistrations_;return d8(t.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch;class rj{constructor(){this.views=new Map}}function H8(t){B(!ch,"__referenceConstructor has already been defined"),ch=t}function G8(){return B(ch,"Reference.ts has not been loaded"),ch}function K8(t){return t.views.size===0}function Mv(t,e,n,s){const r=e.source.queryId;if(r!==null){const i=t.views.get(r);return B(i!=null,"SyncTree gave us an op for an invalid query."),Mb(i,e,n,s)}else{let i=[];for(const a of t.views.values())i=i.concat(Mb(a,e,n,s));return i}}function ij(t,e,n,s,r){const i=e._queryIdentifier,a=t.views.get(i);if(!a){let l=oh(n,r?s:null),c=!1;l?c=!0:s instanceof ge?(l=Rv(n,s),c=!1):(l=ge.EMPTY_NODE,c=!1);const u=ef(new xi(l,c,!1),new xi(s,r,!1));return new $8(e,u)}return a}function Q8(t,e,n,s,r,i){const a=ij(t,e,s,r,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),V8(a,n),W8(a,n)}function q8(t,e,n,s){const r=e._queryIdentifier,i=[];let a=[];const l=vi(t);if(r==="default")for(const[c,u]of t.views.entries())a=a.concat(Ab(u,n,s)),Pb(u)&&(t.views.delete(c),u.query._queryParams.loadsAllData()||i.push(u.query));else{const c=t.views.get(r);c&&(a=a.concat(Ab(c,n,s)),Pb(c)&&(t.views.delete(r),c.query._queryParams.loadsAllData()||i.push(c.query)))}return l&&!vi(t)&&i.push(new(G8())(e._repo,e._path)),{removed:i,events:a}}function oj(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function oi(t,e){let n=null;for(const s of t.views.values())n=n||B8(s,e);return n}function aj(t,e){if(e._queryParams.loadsAllData())return nf(t);{const s=e._queryIdentifier;return t.views.get(s)}}function lj(t,e){return aj(t,e)!=null}function vi(t){return nf(t)!=null}function nf(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh;function Y8(t){B(!uh,"__referenceConstructor has already been defined"),uh=t}function X8(){return B(uh,"Reference.ts has not been loaded"),uh}let J8=1;class Ob{constructor(e){this.listenProvider_=e,this.syncPointTree_=new He(null),this.pendingWriteTree_=j8(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function cj(t,e,n,s,r){return p8(t.pendingWriteTree_,e,n,s,r),r?Xa(t,new ao(kv(),e,n)):[]}function Z8(t,e,n,s){g8(t.pendingWriteTree_,e,n,s);const r=He.fromObject(n);return Xa(t,new Ia(kv(),e,r))}function Hr(t,e,n=!1){const s=x8(t.pendingWriteTree_,e);if(v8(t.pendingWriteTree_,e)){let i=new He(null);return s.snap!=null?i=i.set(Le(),!0):Lt(s.children,a=>{i=i.set(new Ve(a),!0)}),Xa(t,new rh(s.path,i,n))}else return[]}function Zc(t,e,n){return Xa(t,new ao(Tv(),e,n))}function eU(t,e,n){const s=He.fromObject(n);return Xa(t,new Ia(Tv(),e,s))}function tU(t,e){return Xa(t,new Sc(Tv(),e))}function nU(t,e,n){const s=Dv(t,n);if(s){const r=Lv(s),i=r.path,a=r.queryId,l=Yt(i,e),c=new Sc(Iv(a),l);return Fv(t,i,c)}else return[]}function dh(t,e,n,s,r=!1){const i=e._path,a=t.syncPointTree_.get(i);let l=[];if(a&&(e._queryIdentifier==="default"||lj(a,e))){const c=q8(a,e,n,s);K8(a)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const u=c.removed;if(l=c.events,!r){const h=u.findIndex(m=>m._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(i,(m,p)=>vi(p));if(h&&!d){const m=t.syncPointTree_.subtree(i);if(!m.isEmpty()){const p=iU(m);for(let w=0;w<p.length;++w){const g=p[w],b=g.query,x=fj(t,g);t.listenProvider_.startListening(Wl(b),Ec(t,b),x.hashFn,x.onComplete)}}}!d&&u.length>0&&!s&&(h?t.listenProvider_.stopListening(Wl(e),null):u.forEach(m=>{const p=t.queryToTagMap.get(sf(m));t.listenProvider_.stopListening(Wl(m),p)}))}oU(t,u)}return l}function uj(t,e,n,s){const r=Dv(t,s);if(r!=null){const i=Lv(r),a=i.path,l=i.queryId,c=Yt(a,e),u=new ao(Iv(l),c,n);return Fv(t,a,u)}else return[]}function sU(t,e,n,s){const r=Dv(t,s);if(r){const i=Lv(r),a=i.path,l=i.queryId,c=Yt(a,e),u=He.fromObject(n),h=new Ia(Iv(l),c,u);return Fv(t,a,h)}else return[]}function yg(t,e,n,s=!1){const r=e._path;let i=null,a=!1;t.syncPointTree_.foreachOnPath(r,(m,p)=>{const w=Yt(m,r);i=i||oi(p,w),a=a||vi(p)});let l=t.syncPointTree_.get(r);l?(a=a||vi(l),i=i||oi(l,Le())):(l=new rj,t.syncPointTree_=t.syncPointTree_.set(r,l));let c;i!=null?c=!0:(c=!1,i=ge.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((p,w)=>{const g=oi(w,Le());g&&(i=i.updateImmediateChild(p,g))}));const u=lj(l,e);if(!u&&!e._queryParams.loadsAllData()){const m=sf(e);B(!t.queryToTagMap.has(m),"View does not exist, but we have a tag");const p=aU();t.queryToTagMap.set(m,p),t.tagToQueryMap.set(p,m)}const h=tf(t.pendingWriteTree_,r);let d=Q8(l,e,n,h,i,c);if(!u&&!a&&!s){const m=aj(l,e);d=d.concat(lU(t,e,m))}return d}function Ov(t,e,n){const r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(a,l)=>{const c=Yt(a,e),u=oi(l,c);if(u)return u});return JE(r,e,i,n,!0)}function rU(t,e){const n=e._path;let s=null;t.syncPointTree_.foreachOnPath(n,(u,h)=>{const d=Yt(u,n);s=s||oi(h,d)});let r=t.syncPointTree_.get(n);r?s=s||oi(r,Le()):(r=new rj,t.syncPointTree_=t.syncPointTree_.set(n,r));const i=s!=null,a=i?new xi(s,!0,!1):null,l=tf(t.pendingWriteTree_,e._path),c=ij(r,e,l,i?a.getNode():ge.EMPTY_NODE,i);return z8(c)}function Xa(t,e){return dj(e,t.syncPointTree_,null,tf(t.pendingWriteTree_,Le()))}function dj(t,e,n,s){if(ke(t.path))return hj(t,e,n,s);{const r=e.get(Le());n==null&&r!=null&&(n=oi(r,Le()));let i=[];const a=Se(t.path),l=t.operationForChild(a),c=e.children.get(a);if(c&&l){const u=n?n.getImmediateChild(a):null,h=ZE(s,a);i=i.concat(dj(l,c,u,h))}return r&&(i=i.concat(Mv(r,t,s,n))),i}}function hj(t,e,n,s){const r=e.get(Le());n==null&&r!=null&&(n=oi(r,Le()));let i=[];return e.children.inorderTraversal((a,l)=>{const c=n?n.getImmediateChild(a):null,u=ZE(s,a),h=t.operationForChild(a);h&&(i=i.concat(hj(h,l,c,u)))}),r&&(i=i.concat(Mv(r,t,s,n))),i}function fj(t,e){const n=e.query,s=Ec(t,n);return{hashFn:()=>(U8(e)||ge.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return s?nU(t,n._path,s):tU(t,n._path);{const i=t$(r,n);return dh(t,n,null,i)}}}}function Ec(t,e){const n=sf(e);return t.queryToTagMap.get(n)}function sf(t){return t._path.toString()+"$"+t._queryIdentifier}function Dv(t,e){return t.tagToQueryMap.get(e)}function Lv(t){const e=t.indexOf("$");return B(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ve(t.substr(0,e))}}function Fv(t,e,n){const s=t.syncPointTree_.get(e);B(s,"Missing sync point for query tag that we're tracking");const r=tf(t.pendingWriteTree_,e);return Mv(s,n,r,null)}function iU(t){return t.fold((e,n,s)=>{if(n&&vi(n))return[nf(n)];{let r=[];return n&&(r=oj(n)),Lt(s,(i,a)=>{r=r.concat(a)}),r}})}function Wl(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(X8())(t._repo,t._path):t}function oU(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const r=sf(s),i=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(i)}}}function aU(){return J8++}function lU(t,e,n){const s=e._path,r=Ec(t,e),i=fj(t,n),a=t.listenProvider_.startListening(Wl(e),r,i.hashFn,i.onComplete),l=t.syncPointTree_.subtree(s);if(r)B(!vi(l.value),"If we're adding a query, it shouldn't be shadowed");else{const c=l.fold((u,h,d)=>{if(!ke(u)&&h&&vi(h))return[nf(h).query];{let m=[];return h&&(m=m.concat(oj(h).map(p=>p.query))),Lt(d,(p,w)=>{m=m.concat(w)}),m}});for(let u=0;u<c.length;++u){const h=c[u];t.listenProvider_.stopListening(Wl(h),Ec(t,h))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new $v(n)}node(){return this.node_}}class Uv{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=lt(this.path_,e);return new Uv(this.syncTree_,n)}node(){return Ov(this.syncTree_,this.path_)}}const cU=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Db=function(t,e,n){if(!t||typeof t!="object")return t;if(B(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return uU(t[".sv"],e,n);if(typeof t[".sv"]=="object")return dU(t[".sv"],e);B(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},uU=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:B(!1,"Unexpected server value: "+t)}},dU=function(t,e,n){t.hasOwnProperty("increment")||B(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&B(!1,"Unexpected increment value: "+s);const r=e.node();if(B(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return s;const a=r.getValue();return typeof a!="number"?s:a+s},mj=function(t,e,n,s){return zv(e,new Uv(n,t),s)},pj=function(t,e,n){return zv(t,new $v(e),n)};function zv(t,e,n){const s=t.getPriority().val(),r=Db(s,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const a=t,l=Db(a.getValue(),e,n);return l!==a.getValue()||r!==a.getPriority().val()?new St(l,wt(r)):t}else{const a=t;return i=a,r!==a.getPriority().val()&&(i=i.updatePriority(new St(r))),a.forEachChild(ct,(l,c)=>{const u=zv(c,e.getImmediateChild(l),n);u!==c&&(i=i.updateImmediateChild(l,u))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function Vv(t,e){let n=e instanceof Ve?e:new Ve(e),s=t,r=Se(n);for(;r!==null;){const i=Sa(s.node.children,r)||{children:{},childCount:0};s=new Bv(r,s,i),n=Ge(n),r=Se(n)}return s}function Ja(t){return t.node.value}function gj(t,e){t.node.value=e,wg(t)}function xj(t){return t.node.childCount>0}function hU(t){return Ja(t)===void 0&&!xj(t)}function rf(t,e){Lt(t.node.children,(n,s)=>{e(new Bv(n,t,s))})}function vj(t,e,n,s){n&&!s&&e(t),rf(t,r=>{vj(r,e,!0,s)}),n&&s&&e(t)}function fU(t,e,n){let s=t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function eu(t){return new Ve(t.parent===null?t.name:eu(t.parent)+"/"+t.name)}function wg(t){t.parent!==null&&mU(t.parent,t.name,t)}function mU(t,e,n){const s=hU(n),r=Us(t.node.children,e);s&&r?(delete t.node.children[e],t.node.childCount--,wg(t)):!s&&!r&&(t.node.children[e]=n.node,t.node.childCount++,wg(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU=/[\[\].#$\/\u0000-\u001F\u007F]/,gU=/[\[\].#$\u0000-\u001F\u007F]/,Rm=10*1024*1024,Wv=function(t){return typeof t=="string"&&t.length!==0&&!pU.test(t)},yj=function(t){return typeof t=="string"&&t.length!==0&&!gU.test(t)},xU=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),yj(t)},vU=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!xv(t)||t&&typeof t=="object"&&Us(t,".sv")},wj=function(t,e,n,s){s&&e===void 0||of(Qh(t,"value"),e,n)},of=function(t,e,n){const s=n instanceof Ve?new O$(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ri(s));if(typeof e=="function")throw new Error(t+"contains a function "+Ri(s)+" with contents = "+e.toString());if(xv(e))throw new Error(t+"contains "+e.toString()+" "+Ri(s));if(typeof e=="string"&&e.length>Rm/3&&qh(e)>Rm)throw new Error(t+"contains a string greater than "+Rm+" utf8 bytes "+Ri(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,i=!1;if(Lt(e,(a,l)=>{if(a===".value")r=!0;else if(a!==".priority"&&a!==".sv"&&(i=!0,!Wv(a)))throw new Error(t+" contains an invalid key ("+a+") "+Ri(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);D$(s,a),of(t,l,s),L$(s)}),r&&i)throw new Error(t+' contains ".value" child '+Ri(s)+" in addition to actual children.")}},yU=function(t,e){let n,s;for(n=0;n<e.length;n++){s=e[n];const i=bc(s);for(let a=0;a<i.length;a++)if(!(i[a]===".priority"&&a===i.length-1)){if(!Wv(i[a]))throw new Error(t+"contains an invalid key ("+i[a]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(M$);let r=null;for(n=0;n<e.length;n++){if(s=e[n],r!==null&&Ln(r,s))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+s.toString());r=s}},wU=function(t,e,n,s){const r=Qh(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const i=[];Lt(e,(a,l)=>{const c=new Ve(a);if(of(r,l,lt(n,c)),_v(c)===".priority"&&!vU(l))throw new Error(r+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(c)}),yU(r,i)},bj=function(t,e,n,s){if(!yj(n))throw new Error(Qh(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},bU=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),bj(t,e,n)},Hv=function(t,e){if(Se(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},_U=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Wv(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!xU(n))throw new Error(Qh(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function af(t,e){let n=null;for(let s=0;s<e.length;s++){const r=e[s],i=r.getPath();n!==null&&!Nv(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(r)}n&&t.eventLists_.push(n)}function _j(t,e,n){af(t,n),Nj(t,s=>Nv(s,e))}function Wn(t,e,n){af(t,n),Nj(t,s=>Ln(s,e)||Ln(e,s))}function Nj(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const r=t.eventLists_[s];if(r){const i=r.path;e(i)?(CU(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function CU(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();Ul&&At("event: "+n.toString()),Ya(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU="repo_interrupt",EU=25;class jU{constructor(e,n,s,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new NU,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=sh(),this.transactionQueueTree_=new Bv,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function kU(t,e,n){if(t.stats_=wv(t.repoInfo_),t.forceRestClient_||i$())t.server_=new nh(t.repoInfo_,(s,r,i,a)=>{Lb(t,s,r,i,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Fb(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{bt(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new tr(t.repoInfo_,e,(s,r,i,a)=>{Lb(t,s,r,i,a)},s=>{Fb(t,s)},s=>{TU(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=u$(t.repoInfo_,()=>new c8(t.stats_,t.server_)),t.infoData_=new r8,t.infoSyncTree_=new Ob({startListening:(s,r,i,a)=>{let l=[];const c=t.infoData_.getNode(s._path);return c.isEmpty()||(l=Zc(t.infoSyncTree_,s._path,c),setTimeout(()=>{a("ok")},0)),l},stopListening:()=>{}}),Gv(t,"connected",!1),t.serverSyncTree_=new Ob({startListening:(s,r,i,a)=>(t.server_.listen(s,i,r,(l,c)=>{const u=a(l,c);Wn(t.eventQueue_,s._path,u)}),[]),stopListening:(s,r)=>{t.server_.unlisten(s,r)}})}function Cj(t){const n=t.infoData_.getNode(new Ve(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function lf(t){return cU({timestamp:Cj(t)})}function Lb(t,e,n,s,r){t.dataUpdateCount++;const i=new Ve(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(r)if(s){const c=Wd(n,u=>wt(u));a=sU(t.serverSyncTree_,i,c,r)}else{const c=wt(n);a=uj(t.serverSyncTree_,i,c,r)}else if(s){const c=Wd(n,u=>wt(u));a=eU(t.serverSyncTree_,i,c)}else{const c=wt(n);a=Zc(t.serverSyncTree_,i,c)}let l=i;a.length>0&&(l=Pa(t,i)),Wn(t.eventQueue_,l,a)}function Fb(t,e){Gv(t,"connected",e),e===!1&&AU(t)}function TU(t,e){Lt(e,(n,s)=>{Gv(t,n,s)})}function Gv(t,e,n){const s=new Ve("/.info/"+e),r=wt(n);t.infoData_.updateSnapshot(s,r);const i=Zc(t.infoSyncTree_,s,r);Wn(t.eventQueue_,s,i)}function Kv(t){return t.nextWriteId_++}function IU(t,e,n){const s=rU(t.serverSyncTree_,e);return s!=null?Promise.resolve(s):t.server_.get(e).then(r=>{const i=wt(r).withIndex(e._queryParams.getIndex());yg(t.serverSyncTree_,e,n,!0);let a;if(e._queryParams.loadsAllData())a=Zc(t.serverSyncTree_,e._path,i);else{const l=Ec(t.serverSyncTree_,e);a=uj(t.serverSyncTree_,e._path,i,l)}return Wn(t.eventQueue_,e._path,a),dh(t.serverSyncTree_,e,n,null,!0),i},r=>(tu(t,"get for query "+bt(e)+" failed: "+r),Promise.reject(new Error(r))))}function RU(t,e,n,s,r){tu(t,"set",{path:e.toString(),value:n,priority:s});const i=lf(t),a=wt(n,s),l=Ov(t.serverSyncTree_,e),c=pj(a,l,i),u=Kv(t),h=cj(t.serverSyncTree_,e,c,u,!0);af(t.eventQueue_,h),t.server_.put(e.toString(),a.val(!0),(m,p)=>{const w=m==="ok";w||Jt("set at "+e+" failed: "+m);const g=Hr(t.serverSyncTree_,u,!w);Wn(t.eventQueue_,e,g),bg(t,r,m,p)});const d=qv(t,e);Pa(t,d),Wn(t.eventQueue_,d,[])}function PU(t,e,n,s){tu(t,"update",{path:e.toString(),value:n});let r=!0;const i=lf(t),a={};if(Lt(n,(l,c)=>{r=!1,a[l]=mj(lt(e,l),wt(c),t.serverSyncTree_,i)}),r)At("update() called with empty data.  Don't do anything."),bg(t,s,"ok",void 0);else{const l=Kv(t),c=Z8(t.serverSyncTree_,e,a,l);af(t.eventQueue_,c),t.server_.merge(e.toString(),n,(u,h)=>{const d=u==="ok";d||Jt("update at "+e+" failed: "+u);const m=Hr(t.serverSyncTree_,l,!d),p=m.length>0?Pa(t,e):e;Wn(t.eventQueue_,p,m),bg(t,s,u,h)}),Lt(n,u=>{const h=qv(t,lt(e,u));Pa(t,h)}),Wn(t.eventQueue_,e,[])}}function AU(t){tu(t,"onDisconnectEvents");const e=lf(t),n=sh();fg(t.onDisconnect_,Le(),(r,i)=>{const a=mj(r,i,t.serverSyncTree_,e);QE(n,r,a)});let s=[];fg(n,Le(),(r,i)=>{s=s.concat(Zc(t.serverSyncTree_,r,i));const a=qv(t,r);Pa(t,a)}),t.onDisconnect_=sh(),Wn(t.eventQueue_,Le(),s)}function MU(t,e,n){let s;Se(e._path)===".info"?s=yg(t.infoSyncTree_,e,n):s=yg(t.serverSyncTree_,e,n),_j(t.eventQueue_,e._path,s)}function OU(t,e,n){let s;Se(e._path)===".info"?s=dh(t.infoSyncTree_,e,n):s=dh(t.serverSyncTree_,e,n),_j(t.eventQueue_,e._path,s)}function DU(t){t.persistentConnection_&&t.persistentConnection_.interrupt(SU)}function tu(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),At(n,...e)}function bg(t,e,n,s){e&&Ya(()=>{if(n==="ok")e(null);else{const r=(n||"error").toUpperCase();let i=r;s&&(i+=": "+s);const a=new Error(i);a.code=r,e(a)}})}function Sj(t,e,n){return Ov(t.serverSyncTree_,e,n)||ge.EMPTY_NODE}function Qv(t,e=t.transactionQueueTree_){if(e||cf(t,e),Ja(e)){const n=jj(t,e);B(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&LU(t,eu(e),n)}else xj(e)&&rf(e,n=>{Qv(t,n)})}function LU(t,e,n){const s=n.map(u=>u.currentWriteId),r=Sj(t,e,s);let i=r;const a=r.hash();for(let u=0;u<n.length;u++){const h=n[u];B(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const d=Yt(e,h.path);i=i.updateChild(d,h.currentOutputSnapshotRaw)}const l=i.val(!0),c=e;t.server_.put(c.toString(),l,u=>{tu(t,"transaction put response",{path:c.toString(),status:u});let h=[];if(u==="ok"){const d=[];for(let m=0;m<n.length;m++)n[m].status=2,h=h.concat(Hr(t.serverSyncTree_,n[m].currentWriteId)),n[m].onComplete&&d.push(()=>n[m].onComplete(null,!0,n[m].currentOutputSnapshotResolved)),n[m].unwatcher();cf(t,Vv(t.transactionQueueTree_,e)),Qv(t,t.transactionQueueTree_),Wn(t.eventQueue_,e,h);for(let m=0;m<d.length;m++)Ya(d[m])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Jt("transaction at "+c.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Pa(t,e)}},a)}function Pa(t,e){const n=Ej(t,e),s=eu(n),r=jj(t,n);return FU(t,r,s),s}function FU(t,e,n){if(e.length===0)return;const s=[];let r=[];const a=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const c=e[l],u=Yt(n,c.path);let h=!1,d;if(B(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)h=!0,d=c.abortReason,r=r.concat(Hr(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=EU)h=!0,d="maxretry",r=r.concat(Hr(t.serverSyncTree_,c.currentWriteId,!0));else{const m=Sj(t,c.path,a);c.currentInputSnapshot=m;const p=e[l].update(m.val());if(p!==void 0){of("transaction failed: Data returned ",p,c.path);let w=wt(p);typeof p=="object"&&p!=null&&Us(p,".priority")||(w=w.updatePriority(m.getPriority()));const b=c.currentWriteId,x=lf(t),v=pj(w,m,x);c.currentOutputSnapshotRaw=w,c.currentOutputSnapshotResolved=v,c.currentWriteId=Kv(t),a.splice(a.indexOf(b),1),r=r.concat(cj(t.serverSyncTree_,c.path,v,c.currentWriteId,c.applyLocally)),r=r.concat(Hr(t.serverSyncTree_,b,!0))}else h=!0,d="nodata",r=r.concat(Hr(t.serverSyncTree_,c.currentWriteId,!0))}Wn(t.eventQueue_,n,r),r=[],h&&(e[l].status=2,function(m){setTimeout(m,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(d==="nodata"?s.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):s.push(()=>e[l].onComplete(new Error(d),!1,null))))}cf(t,t.transactionQueueTree_);for(let l=0;l<s.length;l++)Ya(s[l]);Qv(t,t.transactionQueueTree_)}function Ej(t,e){let n,s=t.transactionQueueTree_;for(n=Se(e);n!==null&&Ja(s)===void 0;)s=Vv(s,n),e=Ge(e),n=Se(e);return s}function jj(t,e){const n=[];return kj(t,e,n),n.sort((s,r)=>s.order-r.order),n}function kj(t,e,n){const s=Ja(e);if(s)for(let r=0;r<s.length;r++)n.push(s[r]);rf(e,r=>{kj(t,r,n)})}function cf(t,e){const n=Ja(e);if(n){let s=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[s]=n[r],s++);n.length=s,gj(e,n.length>0?n:void 0)}rf(e,s=>{cf(t,s)})}function qv(t,e){const n=eu(Ej(t,e)),s=Vv(t.transactionQueueTree_,e);return fU(s,r=>{Pm(t,r)}),Pm(t,s),vj(s,r=>{Pm(t,r)}),n}function Pm(t,e){const n=Ja(e);if(n){const s=[];let r=[],i=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(B(i===a-1,"All SENT items should be at beginning of queue."),i=a,n[a].status=3,n[a].abortReason="set"):(B(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),r=r.concat(Hr(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&s.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));i===-1?gj(e,void 0):n.length=i+1,Wn(t.eventQueue_,eu(e),r);for(let a=0;a<s.length;a++)Ya(s[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let r=n[s];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function UU(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Jt(`Invalid query segment '${n}' in query '${t}'`)}return e}const $b=function(t,e){const n=zU(t),s=n.namespace;n.domain==="firebase.com"&&fr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&fr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Y6();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new RE(n.host,n.secure,s,r,e,"",s!==n.subdomain),path:new Ve(n.pathString)}},zU=function(t){let e="",n="",s="",r="",i="",a=!0,l="https",c=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let h=t.indexOf("/");h===-1&&(h=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(r=$U(t.substring(h,d)));const m=UU(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(a=l==="https"||l==="wss",c=parseInt(e.substring(u+1),10)):u=e.length;const p=e.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const w=e.indexOf(".");s=e.substring(0,w).toLowerCase(),n=e.substring(w+1),i=s}"ns"in m&&(i=m.ns)}return{host:e,port:c,domain:n,subdomain:s,secure:a,scheme:l,pathString:r,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",BU=function(){let t=0;const e=[];return function(n){const s=n===t;t=n;let r;const i=new Array(8);for(r=7;r>=0;r--)i[r]=Ub.charAt(n%64),n=Math.floor(n/64);B(n===0,"Cannot push at time == 0");let a=i.join("");if(s){for(r=11;r>=0&&e[r]===63;r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)a+=Ub.charAt(e[r]);return B(a.length===20,"nextPushId: Length should be 20."),a}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e,n,s,r){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+bt(this.snapshot.exportVal())}}class WU{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return B(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,n,s,r){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=r}get key(){return ke(this._path)?null:_v(this._path)}get ref(){return new xr(this._repo,this._path)}get _queryIdentifier(){const e=Sb(this._queryParams),n=vv(e);return n==="{}"?"default":n}get _queryObject(){return Sb(this._queryParams)}isEqual(e){if(e=Ft(e),!(e instanceof Yv))return!1;const n=this._repo===e._repo,s=Nv(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&s&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+A$(this._path)}}class xr extends Yv{constructor(e,n){super(e,n,new jv,!1)}get parent(){const e=UE(this._path);return e===null?null:new xr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class jc{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ve(e),s=kc(this.ref,e);return new jc(this._node.getChild(n),s,ct)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,r)=>e(new jc(r,kc(this.ref,s),ct)))}hasChild(e){const n=new Ve(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function he(t,e){return t=Ft(t),t._checkNotDeleted("ref"),e!==void 0?kc(t._root,e):t._root}function kc(t,e){return t=Ft(t),Se(t._path)===null?bU("child","path",e):bj("child","path",e),new xr(t._repo,lt(t._path,e))}function as(t,e){t=Ft(t),Hv("push",t._path),wj("push",e,t._path,!0);const n=Cj(t._repo),s=BU(n),r=kc(t,s),i=kc(t,s);let a;return a=Promise.resolve(i),r.then=a.then.bind(a),r.catch=a.then.bind(a,void 0),r}function ia(t){return Hv("remove",t._path),yn(t,null)}function yn(t,e){t=Ft(t),Hv("set",t._path),wj("set",e,t._path,!1);const n=new Wc;return RU(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function ls(t,e){wU("update",e,t._path);const n=new Wc;return PU(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function On(t){t=Ft(t);const e=new Tj(()=>{}),n=new uf(e);return IU(t._repo,t,n).then(s=>new jc(s,new xr(t._repo,t._path),t._queryParams.getIndex()))}class uf{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new VU("value",this,new jc(e.snapshotNode,new xr(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new WU(this,e,n):null}matches(e){return e instanceof uf?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function HU(t,e,n,s,r){const i=new Tj(n,void 0),a=new uf(i);return MU(t._repo,t,a),()=>OU(t._repo,t,a)}function nr(t,e,n,s){return HU(t,"value",e)}H8(xr);Y8(xr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU="FIREBASE_DATABASE_EMULATOR_HOST",_g={};let KU=!1;function QU(t,e,n,s){const r=e.lastIndexOf(":"),i=e.substring(0,r),a=Ga(i);t.repoInfo_=new RE(e,a,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),s&&(t.authTokenProvider_=s)}function qU(t,e,n,s,r){let i=s||t.options.databaseURL;i===void 0&&(t.options.projectId||fr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),At("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=$b(i,r),l=a.repoInfo,c;typeof process<"u"&&ab&&(c=ab[GU]),c?(i=`http://${c}?ns=${l.namespace}`,a=$b(i,r),l=a.repoInfo):a.repoInfo.secure;const u=new a$(t.name,t.options,e);_U("Invalid Firebase Database URL",a),ke(a.path)||fr("Database URL must point to the root of a Firebase Database (not including a child path).");const h=XU(l,t,u,new o$(t,n));return new JU(h,t)}function YU(t,e){const n=_g[e];(!n||n[t.key]!==t)&&fr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),DU(t),delete n[t.key]}function XU(t,e,n,s){let r=_g[e.name];r||(r={},_g[e.name]=r);let i=r[t.toURLString()];return i&&fr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new jU(t,KU,n,s),r[t.toURLString()]=i,i}class JU{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(kU(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new xr(this._repo,Le())),this._rootInternal}_delete(){return this._rootInternal!==null&&(YU(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&fr("Cannot call "+e+" on a deleted database.")}}function ZU(t=PS(),e){const n=lv(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=XL("database");s&&ez(n,...s)}return n}function ez(t,e,n,s={}){t=Ft(t),t._checkNotDeleted("useEmulator");const r=`${e}:${n}`,i=t._repoInternal;if(t._instanceStarted){if(r===t._repoInternal.repoInfo_.host&&no(s,i.repoInfo_.emulatorOptions))return;fr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(i.repoInfo_.nodeAdmin)s.mockUserToken&&fr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new rd(rd.OWNER);else if(s.mockUserToken){const l=typeof s.mockUserToken=="string"?s.mockUserToken:JL(s.mockUserToken,t.app.options.projectId);a=new rd(l)}Ga(e)&&(CS(e),SS("Database",!0)),QU(i,r,s,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tz(t){W6(Qa),Ea(new so("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return qU(s,r,i,n)},"PUBLIC").setMultipleInstances(!0)),ri(lb,cb,t),ri(lb,cb,"esm2020")}tr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};tr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};tz();const nz={apiKey:"AIzaSyDuYyUDMAaWAEhIfl56zbOltkd9QE9TExA",authDomain:"nexuslearn-66afd.firebaseapp.com",databaseURL:"https://nexuslearn-66afd-default-rtdb.firebaseio.com",projectId:"nexuslearn-66afd",storageBucket:"nexuslearn-66afd.firebasestorage.app",messagingSenderId:"814853787242",appId:"1:814853787242:web:741a9358080809100a0413"},Ij=RS(nz),Za=B6(Ij),fe=ZU(Ij),Rj=async(t,e,n,s,r)=>{const i=await EF(Za,t,e);return await iE(i.user,{displayName:n}),await yn(he(fe,`users/${i.user.uid}`),{email:t,displayName:n,phone:s,role:r,createdAt:Date.now()}),i.user},Pj=async(t,e)=>(await jF(Za,t,e)).user,sz=async()=>{await oE(Za)},Aj=async t=>{await SF(Za,t)},rz=async t=>(await On(he(fe,`users/${t}/role`))).val(),iz=async()=>{const t=await On(he(fe,"subjects"));if(!t.exists())return[];const e=t.val();return Object.entries(e).map(([n,s])=>({id:(s==null?void 0:s.id)??n,...s}))},Pe={async addSubject(t){const e=he(fe,"subjects"),n=as(e),s={id:n.key,name:t,createdAt:new Date().toISOString()};return await yn(n,s),n.key},async getSubjects(){const t=await On(he(fe,"subjects"));if(!t.exists())return[];const e=t.val();return Object.entries(e).map(([n,s])=>({id:(s==null?void 0:s.id)??n,...s}))},async updateSubject(t,e){await ls(he(fe,`subjects/${t}`),{name:e})},async deleteSubject(t){await ia(he(fe,`subjects/${t}`))},async addChapter(t,e,n){const s=he(fe,"chapters"),r=as(s),i={id:r.key,subjectId:t,title:e,content:n,createdAt:new Date().toISOString()};return await yn(r,i),r.key},async getChaptersBySubject(t){const e=await On(he(fe,"chapters"));if(!e.exists())return[];const n=e.val();return Object.values(n).filter(s=>s.subjectId===t)},async updateChapter(t,e,n){await ls(he(fe,`chapters/${t}`),{title:e,content:n})},async deleteChapter(t){await ia(he(fe,`chapters/${t}`))},async addTest(t){const e=he(fe,"tests"),n=as(e),s={...t,id:n.key,createdAt:new Date().toISOString()};return await yn(n,s),n.key},async getTests(){const t=await On(he(fe,"tests"));if(!t.exists())return[];const e=t.val();return Object.values(e)},async getPublishedTests(){return(await this.getTests()).filter(e=>e.published)},async updateTest(t,e){await ls(he(fe,`tests/${t}`),e)},async addQuestion(t){const e=he(fe,"questions"),n=as(e),s={...t,id:n.key};return await yn(n,s),n.key},async getQuestionsByTest(t){const e=await On(he(fe,"questions"));if(!e.exists())return[];const n=e.val();return Object.entries(n).flatMap(([r,i])=>r===t&&typeof i=="object"&&!i.testId?Object.values(i).map((a,l)=>({...a,id:a.id||`${t}-${l}`,testId:t})):(i==null?void 0:i.testId)===t?[i]:[])},async updateQuestion(t,e){await ls(he(fe,`questions/${t}`),e)},async deleteQuestion(t){await ia(he(fe,`questions/${t}`))},async addSubmission(t){const e=he(fe,"submissions"),n=as(e),s={...t,id:n.key,submittedAt:new Date().toISOString()};return await yn(n,s),n.key},async getSubmissions(){const t=await On(he(fe,"submissions"));if(!t.exists())return[];const e=t.val();return Object.values(e)},async getSubmissionsByTest(t){return(await this.getSubmissions()).filter(n=>n.testId===t)},async getSubmissionsByStudent(t){return(await this.getSubmissions()).filter(n=>n.studentId===t)},async updateSubmission(t,e){await ls(he(fe,`submissions/${t}`),e)},subscribeToSubjects(t){const e=he(fe,"subjects");return nr(e,s=>{if(!s.exists()){t([]);return}t(Object.values(s.val()))})},subscribeToTests(t){const e=he(fe,"tests");return nr(e,s=>{if(!s.exists()){t([]);return}t(Object.values(s.val()))})},subscribeToSubmissions(t){const e=he(fe,"submissions");return nr(e,s=>{if(!s.exists()){t([]);return}t(Object.values(s.val()))})}},Mj=f.createContext({user:null,role:null,loading:!0,logout:async()=>{}}),oz=({children:t})=>{const[e,n]=f.useState(null),[s,r]=f.useState(null),[i,a]=f.useState(!0);f.useEffect(()=>{const c=RF(Za,async u=>{if(n(u),u){const h=await rz(u.uid);r(h)}else r(null);a(!1)});return()=>c()},[]);const l=async()=>{await sz(),n(null),r(null)};return o.jsx(Mj.Provider,{value:{user:e,role:s,loading:i,logout:l},children:t})},Gt=()=>f.useContext(Mj),xt=({children:t,allowedRole:e})=>{const{user:n,role:s,loading:r}=Gt();return r?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsx($n,{className:"h-8 w-8 animate-spin text-primary"})}):n?e&&s!==e?o.jsx(j0,{to:`/${s}/dashboard`,replace:!0}):o.jsx(o.Fragment,{children:t}):o.jsx(j0,{to:`/${e||"student"}/auth`,replace:!0})},Ce=f.forwardRef(({className:t,type:e,...n},s)=>o.jsx("input",{type:e,className:q("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...n}));Ce.displayName="Input";var az="Label",Oj=f.forwardRef((t,e)=>o.jsx(se.label,{...t,ref:e,onMouseDown:n=>{var r;n.target.closest("button, input, select, textarea")||((r=t.onMouseDown)==null||r.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Oj.displayName=az;var Dj=Oj;const lz=zc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ue=f.forwardRef(({className:t,...e},n)=>o.jsx(Dj,{ref:n,className:q(lz(),t),...e}));ue.displayName=Dj.displayName;function df(t){const e=f.useRef({value:t,previous:t});return f.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var hf="Checkbox",[cz,f9]=It(hf),[uz,Xv]=cz(hf);function dz(t){const{__scopeCheckbox:e,checked:n,children:s,defaultChecked:r,disabled:i,form:a,name:l,onCheckedChange:c,required:u,value:h="on",internal_do_not_use_render:d}=t,[m,p]=En({prop:n,defaultProp:r??!1,onChange:c,caller:hf}),[w,g]=f.useState(null),[b,x]=f.useState(null),v=f.useRef(!1),y=w?!!a||!!w.closest("form"):!0,N={checked:m,disabled:i,setChecked:p,control:w,setControl:g,name:l,form:a,value:h,hasConsumerStoppedPropagationRef:v,required:u,defaultChecked:ai(r)?!1:r,isFormControl:y,bubbleInput:b,setBubbleInput:x};return o.jsx(uz,{scope:e,...N,children:hz(d)?d(N):s})}var Lj="CheckboxTrigger",Fj=f.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...s},r)=>{const{control:i,value:a,disabled:l,checked:c,required:u,setControl:h,setChecked:d,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:w}=Xv(Lj,t),g=Ne(r,h),b=f.useRef(c);return f.useEffect(()=>{const x=i==null?void 0:i.form;if(x){const v=()=>d(b.current);return x.addEventListener("reset",v),()=>x.removeEventListener("reset",v)}},[i,d]),o.jsx(se.button,{type:"button",role:"checkbox","aria-checked":ai(c)?"mixed":c,"aria-required":u,"data-state":Vj(c),"data-disabled":l?"":void 0,disabled:l,value:a,...s,ref:g,onKeyDown:H(e,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:H(n,x=>{d(v=>ai(v)?!0:!v),w&&p&&(m.current=x.isPropagationStopped(),m.current||x.stopPropagation())})})});Fj.displayName=Lj;var Jv=f.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:s,checked:r,defaultChecked:i,required:a,disabled:l,value:c,onCheckedChange:u,form:h,...d}=t;return o.jsx(dz,{__scopeCheckbox:n,checked:r,defaultChecked:i,disabled:l,required:a,onCheckedChange:u,name:s,form:h,value:c,internal_do_not_use_render:({isFormControl:m})=>o.jsxs(o.Fragment,{children:[o.jsx(Fj,{...d,ref:e,__scopeCheckbox:n}),m&&o.jsx(Bj,{__scopeCheckbox:n})]})})});Jv.displayName=hf;var $j="CheckboxIndicator",Uj=f.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:s,...r}=t,i=Xv($j,n);return o.jsx(gn,{present:s||ai(i.checked)||i.checked===!0,children:o.jsx(se.span,{"data-state":Vj(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e,style:{pointerEvents:"none",...t.style}})})});Uj.displayName=$j;var zj="CheckboxBubbleInput",Bj=f.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:s,hasConsumerStoppedPropagationRef:r,checked:i,defaultChecked:a,required:l,disabled:c,name:u,value:h,form:d,bubbleInput:m,setBubbleInput:p}=Xv(zj,t),w=Ne(n,p),g=df(i),b=zh(s);f.useEffect(()=>{const v=m;if(!v)return;const y=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(y,"checked").set,S=!r.current;if(g!==i&&_){const C=new Event("click",{bubbles:S});v.indeterminate=ai(i),_.call(v,ai(i)?!1:i),v.dispatchEvent(C)}},[m,g,i,r]);const x=f.useRef(ai(i)?!1:i);return o.jsx(se.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??x.current,required:l,disabled:c,name:u,value:h,form:d,...e,tabIndex:-1,ref:w,style:{...e.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Bj.displayName=zj;function hz(t){return typeof t=="function"}function ai(t){return t==="indeterminate"}function Vj(t){return ai(t)?"indeterminate":t?"checked":"unchecked"}const co=f.forwardRef(({className:t,...e},n)=>o.jsx(Jv,{ref:n,className:q("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(Uj,{className:q("flex items-center justify-center text-current"),children:o.jsx(Br,{className:"h-4 w-4"})})}));co.displayName=Jv.displayName;const fz=zc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),cn=f.forwardRef(({className:t,variant:e,...n},s)=>o.jsx("div",{ref:s,role:"alert",className:q(fz({variant:e}),t),...n}));cn.displayName="Alert";const Ng=f.forwardRef(({className:t,...e},n)=>o.jsx("h5",{ref:n,className:q("mb-1 font-medium leading-none tracking-tight",t),...e}));Ng.displayName="AlertTitle";const un=f.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:q("text-sm [&_p]:leading-relaxed",t),...e}));un.displayName="AlertDescription";const mz=()=>{const t=ut(),[e,n]=f.useState(!0),[s,r]=f.useState(!1),[i,a]=f.useState(""),[l,c]=f.useState(""),[u,h]=f.useState(!1),[d,m]=f.useState(!1),[p,w]=f.useState(!1),[g,b]=f.useState(""),[x,v]=f.useState(""),[y,N]=f.useState(""),[_,S]=f.useState(""),[C,E]=f.useState(""),k=R=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(R),I=R=>/^\+?[\d\s-]{10,}$/.test(R),L=async R=>{if(R.preventDefault(),a(""),c(""),!g||!x){a("Please fill in all fields");return}if(!k(g)){a("Please enter a valid email address");return}r(!0);try{await Pj(g,x),c("Login successful! Redirecting..."),setTimeout(()=>t("/student/dashboard"),1e3)}catch(W){a(W.message||"Invalid email or password")}finally{r(!1)}},M=async R=>{if(R.preventDefault(),a(""),c(""),!_||!g||!x||!y||!C){a("Please fill in all required fields");return}if(!k(g)){a("Please enter a valid email address");return}if(x.length<8){a("Password must be at least 8 characters");return}if(x!==y){a("Passwords do not match");return}if(!I(C)){a("Please enter a valid phone number");return}r(!0);try{await Rj(g,x,_,C,"student"),c("Registration successful! Redirecting..."),setTimeout(()=>t("/student/dashboard"),1e3)}catch(W){W.code==="auth/email-already-in-use"?a("This email is already registered"):a(W.message||"Registration failed")}finally{r(!1)}},z=async()=>{if(!g){a("Please enter your email address first");return}if(!k(g)){a("Please enter a valid email address");return}r(!0);try{await Aj(g),c("Password reset email sent! Check your inbox.")}catch(R){a(R.message||"Failed to send reset email")}finally{r(!1)}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-secondary/5 via-background to-primary/5 flex items-center justify-center p-4",children:o.jsxs(J,{className:"w-full max-w-md shadow-lg relative",children:[o.jsx(V,{variant:"ghost",size:"icon",className:"absolute right-2 top-2 z-10",onClick:()=>t("/"),"aria-label":"Close",children:o.jsx(xo,{className:"h-4 w-4"})}),o.jsx(V,{variant:"ghost",size:"icon",className:"absolute left-2 top-2 z-10",onClick:()=>t(-1),"aria-label":"Go back",children:o.jsx(xs,{className:"h-4 w-4"})}),o.jsxs(xe,{className:"text-center space-y-2 pt-10",children:[o.jsx("div",{className:"mx-auto w-12 h-12 bg-secondary/10 rounded-full flex items-center justify-center",children:o.jsx(Ls,{className:"w-6 h-6 text-secondary-foreground"})}),o.jsx(ye,{className:"text-2xl font-bold",children:e?"Student Login":"Student Registration"}),o.jsx(Ie,{children:e?"Welcome back to Nexus Learn":"Create your student account"})]}),o.jsxs(ee,{children:[i&&o.jsx(cn,{variant:"destructive",className:"mb-4",children:o.jsx(un,{children:i})}),l&&o.jsx(cn,{className:"mb-4 border-green-500 bg-green-50 text-green-700",children:o.jsx(un,{children:l})}),o.jsxs("form",{onSubmit:e?L:M,className:"space-y-4",children:[!e&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ue,{htmlFor:"fullName",children:"Full Name *"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ad,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(Ce,{id:"fullName",placeholder:"Enter your full name",value:_,onChange:R=>S(R.target.value),className:"pl-10"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ue,{htmlFor:"phone",children:"Phone Number *"}),o.jsxs("div",{className:"relative",children:[o.jsx(cC,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(Ce,{id:"phone",placeholder:"+1 234 567 8900",value:C,onChange:R=>E(R.target.value),className:"pl-10"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ue,{htmlFor:"email",children:"Email *"}),o.jsxs("div",{className:"relative",children:[o.jsx(aC,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(Ce,{id:"email",type:"email",placeholder:"student@school.edu",value:g,onChange:R=>b(R.target.value),className:"pl-10"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ue,{htmlFor:"password",children:"Password *"}),o.jsxs("div",{className:"relative",children:[o.jsx(cc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(Ce,{id:"password",type:u?"text":"password",placeholder:e?"Enter password":"Min 8 characters",value:x,onChange:R=>v(R.target.value),className:"pl-10 pr-10"}),o.jsx("button",{type:"button",onClick:()=>h(!u),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",children:u?o.jsx(Rd,{className:"h-4 w-4"}):o.jsx(lr,{className:"h-4 w-4"})})]})]}),!e&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(ue,{htmlFor:"confirmPassword",children:"Confirm Password *"}),o.jsxs("div",{className:"relative",children:[o.jsx(cc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(Ce,{id:"confirmPassword",type:d?"text":"password",placeholder:"Confirm your password",value:y,onChange:R=>N(R.target.value),className:"pl-10 pr-10"}),o.jsx("button",{type:"button",onClick:()=>m(!d),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",children:d?o.jsx(Rd,{className:"h-4 w-4"}):o.jsx(lr,{className:"h-4 w-4"})})]})]}),e&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(co,{id:"remember",checked:p,onCheckedChange:R=>w(R)}),o.jsx(ue,{htmlFor:"remember",className:"text-sm cursor-pointer",children:"Remember me"})]}),o.jsx("button",{type:"button",onClick:z,className:"text-sm text-primary hover:underline",children:"Forgot password?"})]}),o.jsx(V,{type:"submit",className:"w-full",disabled:s,children:s?o.jsxs(o.Fragment,{children:[o.jsx($n,{className:"mr-2 h-4 w-4 animate-spin"}),e?"Signing in...":"Registering..."]}):e?"Sign In":"Create Account"})]})]}),o.jsxs(Kh,{className:"flex flex-col space-y-4",children:[o.jsxs("div",{className:"text-center text-sm",children:[e?"Don't have an account?":"Already have an account?",o.jsx("button",{type:"button",onClick:()=>{n(!e),a(""),c("")},className:"ml-1 text-primary hover:underline font-medium",children:e?"Register":"Login"})]}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:()=>t("/teacher/auth"),className:"text-sm text-muted-foreground hover:text-primary",children:"Are you a teacher? Login here"})})]})]})})},pz=()=>{const t=ut(),[e,n]=f.useState(!0),[s,r]=f.useState(!1),[i,a]=f.useState(""),[l,c]=f.useState(""),[u,h]=f.useState(!1),[d,m]=f.useState(!1),[p,w]=f.useState(!1),[g,b]=f.useState(""),[x,v]=f.useState(""),[y,N]=f.useState(""),[_,S]=f.useState(""),[C,E]=f.useState(""),k=R=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(R),I=R=>/^\+?[\d\s-]{10,}$/.test(R),L=async R=>{if(R.preventDefault(),a(""),c(""),!g||!x){a("Please fill in all fields");return}if(!k(g)){a("Please enter a valid email address");return}r(!0);try{await Pj(g,x),c("Login successful! Redirecting..."),setTimeout(()=>t("/teacher/dashboard"),1e3)}catch(W){a(W.message||"Invalid email or password")}finally{r(!1)}},M=async R=>{if(R.preventDefault(),a(""),c(""),!_||!g||!x||!y||!C){a("Please fill in all required fields");return}if(!k(g)){a("Please enter a valid email address");return}if(x.length<8){a("Password must be at least 8 characters");return}if(x!==y){a("Passwords do not match");return}if(!I(C)){a("Please enter a valid phone number");return}r(!0);try{await Rj(g,x,_,C,"teacher"),c("Registration successful! Redirecting..."),setTimeout(()=>t("/teacher/dashboard"),1e3)}catch(W){W.code==="auth/email-already-in-use"?a("This email is already registered"):a(W.message||"Registration failed")}finally{r(!1)}},z=async()=>{if(!g){a("Please enter your email address first");return}if(!k(g)){a("Please enter a valid email address");return}r(!0);try{await Aj(g),c("Password reset email sent! Check your inbox.")}catch(R){a(R.message||"Failed to send reset email")}finally{r(!1)}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-secondary/5 flex items-center justify-center p-4",children:o.jsxs(J,{className:"w-full max-w-md shadow-lg relative",children:[o.jsx(V,{variant:"ghost",size:"icon",className:"absolute right-2 top-2 z-10",onClick:()=>t("/"),"aria-label":"Close",children:o.jsx(xo,{className:"h-4 w-4"})}),o.jsx(V,{variant:"ghost",size:"icon",className:"absolute left-2 top-2 z-10",onClick:()=>t(-1),"aria-label":"Go back",children:o.jsx(xs,{className:"h-4 w-4"})}),o.jsxs(xe,{className:"text-center space-y-2 pt-10",children:[o.jsx("div",{className:"mx-auto w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:o.jsx(jn,{className:"w-6 h-6 text-primary"})}),o.jsx(ye,{className:"text-2xl font-bold",children:e?"Teacher Login":"Teacher Registration"}),o.jsx(Ie,{children:e?"Welcome back to Nexus Learn":"Create your teacher account"})]}),o.jsxs(ee,{children:[i&&o.jsx(cn,{variant:"destructive",className:"mb-4",children:o.jsx(un,{children:i})}),l&&o.jsx(cn,{className:"mb-4 border-green-500 bg-green-50 text-green-700",children:o.jsx(un,{children:l})}),o.jsxs("form",{onSubmit:e?L:M,className:"space-y-4",children:[!e&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ue,{htmlFor:"fullName",children:"Full Name *"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ad,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(Ce,{id:"fullName",placeholder:"Enter your full name",value:_,onChange:R=>S(R.target.value),className:"pl-10"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ue,{htmlFor:"phone",children:"Phone Number *"}),o.jsxs("div",{className:"relative",children:[o.jsx(cC,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(Ce,{id:"phone",placeholder:"+1 234 567 8900",value:C,onChange:R=>E(R.target.value),className:"pl-10"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ue,{htmlFor:"email",children:"Email *"}),o.jsxs("div",{className:"relative",children:[o.jsx(aC,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(Ce,{id:"email",type:"email",placeholder:"teacher@school.edu",value:g,onChange:R=>b(R.target.value),className:"pl-10"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ue,{htmlFor:"password",children:"Password *"}),o.jsxs("div",{className:"relative",children:[o.jsx(cc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(Ce,{id:"password",type:u?"text":"password",placeholder:e?"Enter password":"Min 8 characters",value:x,onChange:R=>v(R.target.value),className:"pl-10 pr-10"}),o.jsx("button",{type:"button",onClick:()=>h(!u),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",children:u?o.jsx(Rd,{className:"h-4 w-4"}):o.jsx(lr,{className:"h-4 w-4"})})]})]}),!e&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(ue,{htmlFor:"confirmPassword",children:"Confirm Password *"}),o.jsxs("div",{className:"relative",children:[o.jsx(cc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(Ce,{id:"confirmPassword",type:d?"text":"password",placeholder:"Confirm your password",value:y,onChange:R=>N(R.target.value),className:"pl-10 pr-10"}),o.jsx("button",{type:"button",onClick:()=>m(!d),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",children:d?o.jsx(Rd,{className:"h-4 w-4"}):o.jsx(lr,{className:"h-4 w-4"})})]})]}),e&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(co,{id:"remember",checked:p,onCheckedChange:R=>w(R)}),o.jsx(ue,{htmlFor:"remember",className:"text-sm cursor-pointer",children:"Remember me"})]}),o.jsx("button",{type:"button",onClick:z,className:"text-sm text-primary hover:underline",children:"Forgot password?"})]}),o.jsx(V,{type:"submit",className:"w-full",disabled:s,children:s?o.jsxs(o.Fragment,{children:[o.jsx($n,{className:"mr-2 h-4 w-4 animate-spin"}),e?"Signing in...":"Registering..."]}):e?"Sign In":"Create Account"})]})]}),o.jsxs(Kh,{className:"flex flex-col space-y-4",children:[o.jsxs("div",{className:"text-center text-sm",children:[e?"Don't have an account?":"Already have an account?",o.jsx("button",{type:"button",onClick:()=>{n(!e),a(""),c("")},className:"ml-1 text-primary hover:underline font-medium",children:e?"Register":"Login"})]}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:()=>t("/student/auth"),className:"text-sm text-muted-foreground hover:text-primary",children:"Are you a student? Login here"})})]})]})})};var Wj={exports:{}},Hj={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aa=f;function gz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xz=typeof Object.is=="function"?Object.is:gz,vz=Aa.useState,yz=Aa.useEffect,wz=Aa.useLayoutEffect,bz=Aa.useDebugValue;function _z(t,e){var n=e(),s=vz({inst:{value:n,getSnapshot:e}}),r=s[0].inst,i=s[1];return wz(function(){r.value=n,r.getSnapshot=e,Am(r)&&i({inst:r})},[t,n,e]),yz(function(){return Am(r)&&i({inst:r}),t(function(){Am(r)&&i({inst:r})})},[t]),bz(n),n}function Am(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xz(t,n)}catch{return!0}}function Nz(t,e){return e()}var Cz=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Nz:_z;Hj.useSyncExternalStore=Aa.useSyncExternalStore!==void 0?Aa.useSyncExternalStore:Cz;Wj.exports=Hj;var Sz=Wj.exports;function Ez(){return Sz.useSyncExternalStore(jz,()=>!0,()=>!1)}function jz(){return()=>{}}var Zv="Avatar",[kz,m9]=It(Zv),[Tz,Gj]=kz(Zv),Kj=f.forwardRef((t,e)=>{const{__scopeAvatar:n,...s}=t,[r,i]=f.useState("idle");return o.jsx(Tz,{scope:n,imageLoadingStatus:r,onImageLoadingStatusChange:i,children:o.jsx(se.span,{...s,ref:e})})});Kj.displayName=Zv;var Qj="AvatarImage",qj=f.forwardRef((t,e)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:r=()=>{},...i}=t,a=Gj(Qj,n),l=Iz(s,i),c=Zt(u=>{r(u),a.onImageLoadingStatusChange(u)});return ft(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(se.img,{...i,ref:e,src:s}):null});qj.displayName=Qj;var Yj="AvatarFallback",Xj=f.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:s,...r}=t,i=Gj(Yj,n),[a,l]=f.useState(s===void 0);return f.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),a&&i.imageLoadingStatus!=="loaded"?o.jsx(se.span,{...r,ref:e}):null});Xj.displayName=Yj;function zb(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Iz(t,{referrerPolicy:e,crossOrigin:n}){const s=Ez(),r=f.useRef(null),i=s?(r.current||(r.current=new window.Image),r.current):null,[a,l]=f.useState(()=>zb(i,t));return ft(()=>{l(zb(i,t))},[i,t]),ft(()=>{const c=d=>()=>{l(d)};if(!i)return;const u=c("loaded"),h=c("error");return i.addEventListener("load",u),i.addEventListener("error",h),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",u),i.removeEventListener("error",h)}},[i,n,e]),a}var Jj=Kj,Zj=qj,ek=Xj;const ff=f.forwardRef(({className:t,...e},n)=>o.jsx(Jj,{ref:n,className:q("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));ff.displayName=Jj.displayName;const Rz=f.forwardRef(({className:t,...e},n)=>o.jsx(Zj,{ref:n,className:q("aspect-square h-full w-full",t),...e}));Rz.displayName=Zj.displayName;const mf=f.forwardRef(({className:t,...e},n)=>o.jsx(ek,{ref:n,className:q("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));mf.displayName=ek.displayName;const Pz=[{label:"Dashboard",path:"/teacher/dashboard",icon:oC},{label:"Subjects",path:"/teacher/subjects",icon:jn},{label:"Tests",path:"/teacher/tests",icon:Xo},{label:"Create Test",path:"/teacher/create-test",icon:Ot},{label:"Classes",path:"/teacher/classes",icon:Ls},{label:"Students",path:"/teacher/students",icon:eo}],Az=[{label:"Dashboard",path:"/student/dashboard",icon:oC},{label:"Practice Hub",path:"/student/practice-hub",icon:jn},{label:"My Class",path:"/student/class",icon:Ls},{label:"History",path:"/student/history",icon:$p}],Mz=({userType:t,userName:e="User"})=>{const[n,s]=f.useState(!1),[r,i]=f.useState(!1),a=vo(),l=ut(),c=t==="teacher"?Pz:Az,u=async()=>{try{await oE(Za),l("/")}catch{l("/")}},h=m=>a.pathname===m,d=()=>o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:q("flex items-center gap-2 p-4 border-b border-border",n&&"justify-center"),children:[o.jsx(Ls,{className:"h-8 w-8 text-primary shrink-0"}),!n&&o.jsx("span",{className:"text-xl font-bold text-foreground whitespace-nowrap flex-1",children:"Nexus Learn"}),o.jsx("button",{onClick:()=>s(!n),className:"hidden md:flex items-center justify-center p-1.5 hover:bg-accent rounded-md transition-colors","aria-label":n?"Expand sidebar":"Collapse sidebar",children:n?o.jsx(Ax,{className:"h-4 w-4 text-muted-foreground"}):o.jsx(nC,{className:"h-4 w-4 text-muted-foreground"})})]}),o.jsx("nav",{className:"flex-1 p-3 space-y-1 overflow-y-auto",children:c.map(m=>o.jsxs(bn,{to:m.path,onClick:()=>i(!1),className:q("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200","hover:bg-accent hover:text-accent-foreground",h(m.path)?"bg-primary text-primary-foreground":"text-muted-foreground",n&&"justify-center px-2"),children:[o.jsx(m.icon,{className:"h-5 w-5 shrink-0"}),!n&&o.jsx("span",{className:"font-medium",children:m.label})]},m.path))}),o.jsxs("div",{className:"border-t border-border p-3 space-y-1",children:[o.jsxs(bn,{to:"/settings",onClick:()=>i(!1),className:q("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200","hover:bg-accent hover:text-accent-foreground",h("/settings")?"bg-primary text-primary-foreground":"text-muted-foreground",n&&"justify-center px-2"),children:[o.jsx(uc,{className:"h-5 w-5 shrink-0"}),!n&&o.jsx("span",{className:"font-medium",children:"Settings"})]}),o.jsxs("button",{onClick:u,className:q("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 w-full","hover:bg-destructive/10 text-muted-foreground hover:text-destructive",n&&"justify-center px-2"),children:[o.jsx(Up,{className:"h-5 w-5 shrink-0"}),!n&&o.jsx("span",{className:"font-medium",children:"Logout"})]}),!n&&o.jsxs("div",{className:"flex items-center gap-3 px-3 py-3 mt-2 bg-accent/50 rounded-lg",children:[o.jsx(ff,{className:"h-9 w-9",children:o.jsx(mf,{className:"bg-primary/10 text-primary text-sm",children:e.slice(0,2).toUpperCase()})}),o.jsxs("div",{className:"overflow-hidden",children:[o.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:e}),o.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:t})]})]})]})]});return o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>i(!r),className:"md:hidden fixed top-4 left-4 z-50 p-2 bg-card rounded-lg shadow-lg border border-border",children:r?o.jsx(xo,{className:"h-6 w-6 text-foreground"}):o.jsx(lC,{className:"h-6 w-6 text-foreground"})}),r&&o.jsx("div",{className:"md:hidden fixed inset-0 bg-background/80 backdrop-blur-sm z-40",onClick:()=>i(!1)}),o.jsx("aside",{className:q("fixed md:relative h-screen bg-card border-r border-border z-40","transition-all duration-300 ease-in-out",n?"md:w-16":"md:w-60",r?"translate-x-0 w-60":"-translate-x-full md:translate-x-0"),children:o.jsx(d,{})})]})},Cn=({children:t,userType:e,userName:n})=>o.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[o.jsx(Mz,{userType:e,userName:n}),o.jsxs("main",{className:"flex-1 min-h-screen overflow-x-hidden",children:[o.jsx("div",{className:"h-16 md:hidden"}),t]})]});var Oz=f.createContext(void 0);function el(t){const e=f.useContext(Oz);return t||e||"ltr"}var Mm="rovingFocusGroup.onEntryFocus",Dz={bubbles:!1,cancelable:!0},nu="RovingFocusGroup",[Cg,tk,Lz]=Fc(nu),[Fz,tl]=It(nu,[Lz]),[$z,Uz]=Fz(nu),nk=f.forwardRef((t,e)=>o.jsx(Cg.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(Cg.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(zz,{...t,ref:e})})}));nk.displayName=nu;var zz=f.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:r=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...d}=t,m=f.useRef(null),p=Ne(e,m),w=el(i),[g,b]=En({prop:a,defaultProp:l??null,onChange:c,caller:nu}),[x,v]=f.useState(!1),y=Zt(u),N=tk(n),_=f.useRef(!1),[S,C]=f.useState(0);return f.useEffect(()=>{const E=m.current;if(E)return E.addEventListener(Mm,y),()=>E.removeEventListener(Mm,y)},[y]),o.jsx($z,{scope:n,orientation:s,dir:w,loop:r,currentTabStopId:g,onItemFocus:f.useCallback(E=>b(E),[b]),onItemShiftTab:f.useCallback(()=>v(!0),[]),onFocusableItemAdd:f.useCallback(()=>C(E=>E+1),[]),onFocusableItemRemove:f.useCallback(()=>C(E=>E-1),[]),children:o.jsx(se.div,{tabIndex:x||S===0?-1:0,"data-orientation":s,...d,ref:p,style:{outline:"none",...t.style},onMouseDown:H(t.onMouseDown,()=>{_.current=!0}),onFocus:H(t.onFocus,E=>{const k=!_.current;if(E.target===E.currentTarget&&k&&!x){const I=new CustomEvent(Mm,Dz);if(E.currentTarget.dispatchEvent(I),!I.defaultPrevented){const L=N().filter(K=>K.focusable),M=L.find(K=>K.active),z=L.find(K=>K.id===g),W=[M,z,...L].filter(Boolean).map(K=>K.ref.current);ik(W,h)}}_.current=!1}),onBlur:H(t.onBlur,()=>v(!1))})})}),sk="RovingFocusGroupItem",rk=f.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:r=!1,tabStopId:i,children:a,...l}=t,c=Un(),u=i||c,h=Uz(sk,n),d=h.currentTabStopId===u,m=tk(n),{onFocusableItemAdd:p,onFocusableItemRemove:w,currentTabStopId:g}=h;return f.useEffect(()=>{if(s)return p(),()=>w()},[s,p,w]),o.jsx(Cg.ItemSlot,{scope:n,id:u,focusable:s,active:r,children:o.jsx(se.span,{tabIndex:d?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:H(t.onMouseDown,b=>{s?h.onItemFocus(u):b.preventDefault()}),onFocus:H(t.onFocus,()=>h.onItemFocus(u)),onKeyDown:H(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){h.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const x=Wz(b,h.orientation,h.dir);if(x!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let y=m().filter(N=>N.focusable).map(N=>N.ref.current);if(x==="last")y.reverse();else if(x==="prev"||x==="next"){x==="prev"&&y.reverse();const N=y.indexOf(b.currentTarget);y=h.loop?Hz(y,N+1):y.slice(N+1)}setTimeout(()=>ik(y))}}),children:typeof a=="function"?a({isCurrentTabStop:d,hasTabStop:g!=null}):a})})});rk.displayName=sk;var Bz={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Vz(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Wz(t,e,n){const s=Vz(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return Bz[s]}function ik(t,e=!1){const n=document.activeElement;for(const s of t)if(s===n||(s.focus({preventScroll:e}),document.activeElement!==n))return}function Hz(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var ey=nk,ty=rk,pf="Tabs",[Gz,p9]=It(pf,[tl]),ok=tl(),[Kz,ny]=Gz(pf),ak=f.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,onValueChange:r,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=t,h=el(l),[d,m]=En({prop:s,onChange:r,defaultProp:i??"",caller:pf});return o.jsx(Kz,{scope:n,baseId:Un(),value:d,onValueChange:m,orientation:a,dir:h,activationMode:c,children:o.jsx(se.div,{dir:h,"data-orientation":a,...u,ref:e})})});ak.displayName=pf;var lk="TabsList",ck=f.forwardRef((t,e)=>{const{__scopeTabs:n,loop:s=!0,...r}=t,i=ny(lk,n),a=ok(n);return o.jsx(ey,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:s,children:o.jsx(se.div,{role:"tablist","aria-orientation":i.orientation,...r,ref:e})})});ck.displayName=lk;var uk="TabsTrigger",dk=f.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,disabled:r=!1,...i}=t,a=ny(uk,n),l=ok(n),c=mk(a.baseId,s),u=pk(a.baseId,s),h=s===a.value;return o.jsx(ty,{asChild:!0,...l,focusable:!r,active:h,children:o.jsx(se.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:c,...i,ref:e,onMouseDown:H(t.onMouseDown,d=>{!r&&d.button===0&&d.ctrlKey===!1?a.onValueChange(s):d.preventDefault()}),onKeyDown:H(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&a.onValueChange(s)}),onFocus:H(t.onFocus,()=>{const d=a.activationMode!=="manual";!h&&!r&&d&&a.onValueChange(s)})})})});dk.displayName=uk;var hk="TabsContent",fk=f.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,forceMount:r,children:i,...a}=t,l=ny(hk,n),c=mk(l.baseId,s),u=pk(l.baseId,s),h=s===l.value,d=f.useRef(h);return f.useEffect(()=>{const m=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(gn,{present:r||h,children:({present:m})=>o.jsx(se.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:m&&i})})});fk.displayName=hk;function mk(t,e){return`${t}-trigger-${e}`}function pk(t,e){return`${t}-content-${e}`}var Qz=ak,gk=ck,xk=dk,vk=fk;const su=Qz,nl=f.forwardRef(({className:t,...e},n)=>o.jsx(gk,{ref:n,className:q("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));nl.displayName=gk.displayName;const mn=f.forwardRef(({className:t,...e},n)=>o.jsx(xk,{ref:n,className:q("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));mn.displayName=xk.displayName;const pn=f.forwardRef(({className:t,...e},n)=>o.jsx(vk,{ref:n,className:q("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));pn.displayName=vk.displayName;const qz=zc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Fe({className:t,variant:e,...n}){return o.jsx("div",{className:q(qz({variant:e}),t),...n})}const Bb=({test:t,showAction:e=!0})=>{const n=ut(),s={upcoming:"bg-accent text-accent-foreground",completed:"bg-primary/10 text-primary","in-progress":"bg-chart-2/20 text-chart-2","pending-review":"bg-chart-5/20 text-chart-5",published:"bg-primary/10 text-primary",draft:"bg-muted text-muted-foreground"},r={Quiz:"bg-chart-1/20 text-chart-1",quiz:"bg-chart-1/20 text-chart-1","Mid-Term":"bg-chart-3/20 text-chart-3",midterm:"bg-chart-3/20 text-chart-3",Final:"bg-destructive/10 text-destructive",final:"bg-destructive/10 text-destructive",Practice:"bg-chart-4/20 text-chart-4",practice:"bg-chart-4/20 text-chart-4"},i=t.status||"upcoming",a=t.type||"Quiz";return o.jsxs(J,{className:"hover:shadow-lg transition-shadow duration-300 bg-card",children:[o.jsxs(xe,{className:"pb-3",children:[o.jsxs("div",{className:"flex justify-between items-start gap-2",children:[o.jsx("h3",{className:"font-semibold text-lg text-card-foreground line-clamp-2",children:t.title}),o.jsx(Fe,{className:s[i]||s.upcoming,variant:"secondary",children:i.replace("-"," ")})]}),o.jsxs("div",{className:"flex gap-2 mt-2",children:[o.jsx(Fe,{className:r[a]||r.Quiz,variant:"outline",children:a}),o.jsx(Fe,{variant:"outline",children:t.subjectName||t.subjectId})]})]}),o.jsxs(ee,{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Px,{className:"h-4 w-4"}),o.jsx("span",{children:new Date(t.createdAt).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(ar,{className:"h-4 w-4"}),o.jsxs("span",{children:[t.duration," minutes"]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(ms,{className:"h-4 w-4"}),o.jsxs("span",{children:[t.totalMarks," marks"]})]}),t.chapterIds&&t.chapterIds.length>0&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(jn,{className:"h-4 w-4"}),o.jsx("span",{className:"line-clamp-1",children:t.chapterIds.join(", ")})]})]}),e&&o.jsx(Kh,{children:i==="upcoming"||i==="published"?o.jsx(V,{className:"w-full",onClick:()=>n(`/student/test/${t.id}/details`),children:"View Details"}):i==="completed"?o.jsx(V,{variant:"outline",className:"w-full",onClick:()=>n(`/student/test/${t.id}/result`),children:"View Result"}):o.jsx(V,{variant:"secondary",className:"w-full",disabled:!0,children:i==="pending-review"?"Awaiting Review":"In Progress"})})]})},Yz=()=>{var b;const{user:t}=Gt(),e=ut(),[n,s]=f.useState([]),[r,i]=f.useState([]),a=(t==null?void 0:t.uid)||"demo-student",l=(t==null?void 0:t.displayName)||((b=t==null?void 0:t.email)==null?void 0:b.split("@")[0])||"Student";f.useEffect(()=>{const x=Pe.subscribeToTests(y=>{s(y.filter(N=>N.published))}),v=Pe.subscribeToSubmissions(y=>{i(y.filter(N=>N.studentId===a))});return()=>{x(),v()}},[a]);const c=r.map(x=>x.testId),u=n.filter(x=>!c.includes(x.id)),h=n.filter(x=>c.includes(x.id)),d=r.filter(x=>x.status==="graded"),m=d.reduce((x,v)=>x+(v.finalScore||v.totalAutoScore||0),0),p=d.length*100,w=p>0?Math.round(m/p*100):0,g=[{icon:jn,label:"Available",value:u.length,color:"text-primary"},{icon:Ll,label:"Completed",value:h.length,color:"text-chart-1"},{icon:ar,label:"Pending Review",value:r.filter(x=>x.status==="pending").length,color:"text-chart-3"}];return o.jsx(Cn,{userType:"student",userName:l,children:o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-6 sm:mb-8",children:[o.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground mb-2",children:["Welcome back, ",l,"!"]}),o.jsx("p",{className:"text-muted-foreground",children:"Here's an overview of your learning progress."})]}),o.jsx("div",{className:"grid grid-cols-3 gap-3 sm:gap-4 mb-6 sm:mb-8",children:g.map((x,v)=>o.jsx(J,{className:"bg-card",children:o.jsx(ee,{className:"p-3 sm:pt-6",children:o.jsxs("div",{className:"flex flex-col items-center sm:flex-row sm:items-center gap-2 sm:gap-3 text-center sm:text-left",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(x.icon,{className:`h-4 w-4 sm:h-5 sm:w-5 ${x.color}`})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xl sm:text-2xl font-bold text-card-foreground",children:x.value}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:x.label})]})]})})},v))}),o.jsxs(J,{className:"bg-card mb-6 sm:mb-8",children:[o.jsx(xe,{className:"pb-2",children:o.jsxs(ye,{className:"flex items-center gap-2 text-base sm:text-lg",children:[o.jsx(_a,{className:"h-5 w-5 text-primary"}),"Performance Overview"]})}),o.jsxs(ee,{children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-accent/50 rounded-lg",children:[o.jsx("div",{className:"p-3 rounded-full bg-primary/10",children:o.jsx(hC,{className:"h-6 w-6 text-primary"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[w,"%"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Average Score"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-accent/50 rounded-lg",children:[o.jsx("div",{className:"p-3 rounded-full bg-chart-1/10",children:o.jsx(Ll,{className:"h-6 w-6 text-chart-1"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-foreground",children:h.length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Tests Taken"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-accent/50 rounded-lg",children:[o.jsx("div",{className:"p-3 rounded-full bg-chart-2/10",children:o.jsx(JA,{className:"h-6 w-6 text-chart-2"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-foreground",children:d.length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Graded Tests"})]})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 mt-4 pt-4 border-t border-border",children:[o.jsxs(V,{size:"sm",onClick:()=>e("/student/history"),children:[o.jsx(_a,{className:"h-4 w-4 mr-2"}),"View History"]}),u.length>0&&o.jsxs(V,{size:"sm",variant:"outline",onClick:()=>e(`/student/test/${u[0].id}/details`),children:[o.jsx(uM,{className:"h-4 w-4 mr-2"}),"Start Next Test"]})]})]})]}),o.jsxs(su,{defaultValue:"pending",className:"space-y-6",children:[o.jsxs(nl,{className:"bg-muted",children:[o.jsxs(mn,{value:"pending",children:["Pending Tests (",u.length,")"]}),o.jsxs(mn,{value:"completed",children:["Completed (",h.length,")"]})]}),o.jsx(pn,{value:"pending",className:"space-y-6",children:u.length>0?o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:u.map(x=>o.jsx(Bb,{test:{...x,status:"upcoming"}},x.id))}):o.jsx(J,{className:"bg-card",children:o.jsxs(ee,{className:"py-12 text-center text-muted-foreground",children:[o.jsx(Ll,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No pending tests - you're all caught up!"})]})})}),o.jsx(pn,{value:"completed",className:"space-y-6",children:h.length>0?o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:h.map(x=>o.jsx(Bb,{test:{...x,status:"completed"}},x.id))}):o.jsx(J,{className:"bg-card",children:o.jsxs(ee,{className:"py-12 text-center text-muted-foreground",children:[o.jsx(jn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No completed tests yet"})]})})})]})]})})};var Om=0;function sy(){f.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Vb()),document.body.insertAdjacentElement("beforeend",t[1]??Vb()),Om++,()=>{Om===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Om--}},[])}function Vb(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Dm="focusScope.autoFocusOnMount",Lm="focusScope.autoFocusOnUnmount",Wb={bubbles:!1,cancelable:!0},Xz="FocusScope",gf=f.forwardRef((t,e)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:r,onUnmountAutoFocus:i,...a}=t,[l,c]=f.useState(null),u=Zt(r),h=Zt(i),d=f.useRef(null),m=Ne(e,g=>c(g)),p=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(s){let g=function(y){if(p.paused||!l)return;const N=y.target;l.contains(N)?d.current=N:Er(d.current,{select:!0})},b=function(y){if(p.paused||!l)return;const N=y.relatedTarget;N!==null&&(l.contains(N)||Er(d.current,{select:!0}))},x=function(y){if(document.activeElement===document.body)for(const _ of y)_.removedNodes.length>0&&Er(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const v=new MutationObserver(x);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),v.disconnect()}}},[s,l,p.paused]),f.useEffect(()=>{if(l){Gb.add(p);const g=document.activeElement;if(!l.contains(g)){const x=new CustomEvent(Dm,Wb);l.addEventListener(Dm,u),l.dispatchEvent(x),x.defaultPrevented||(Jz(sB(yk(l)),{select:!0}),document.activeElement===g&&Er(l))}return()=>{l.removeEventListener(Dm,u),setTimeout(()=>{const x=new CustomEvent(Lm,Wb);l.addEventListener(Lm,h),l.dispatchEvent(x),x.defaultPrevented||Er(g??document.body,{select:!0}),l.removeEventListener(Lm,h),Gb.remove(p)},0)}}},[l,u,h,p]);const w=f.useCallback(g=>{if(!n&&!s||p.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(b&&x){const v=g.currentTarget,[y,N]=Zz(v);y&&N?!g.shiftKey&&x===N?(g.preventDefault(),n&&Er(y,{select:!0})):g.shiftKey&&x===y&&(g.preventDefault(),n&&Er(N,{select:!0})):x===v&&g.preventDefault()}},[n,s,p.paused]);return o.jsx(se.div,{tabIndex:-1,...a,ref:m,onKeyDown:w})});gf.displayName=Xz;function Jz(t,{select:e=!1}={}){const n=document.activeElement;for(const s of t)if(Er(s,{select:e}),document.activeElement!==n)return}function Zz(t){const e=yk(t),n=Hb(e,t),s=Hb(e.reverse(),t);return[n,s]}function yk(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Hb(t,e){for(const n of t)if(!eB(n,{upTo:e}))return n}function eB(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function tB(t){return t instanceof HTMLInputElement&&"select"in t}function Er(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&tB(t)&&e&&t.select()}}var Gb=nB();function nB(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Kb(t,e),t.unshift(e)},remove(e){var n;t=Kb(t,e),(n=t[0])==null||n.resume()}}}function Kb(t,e){const n=[...t],s=n.indexOf(e);return s!==-1&&n.splice(s,1),n}function sB(t){return t.filter(e=>e.tagName!=="A")}var rB=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},jo=new WeakMap,Pu=new WeakMap,Au={},Fm=0,wk=function(t){return t&&(t.host||wk(t.parentNode))},iB=function(t,e){return e.map(function(n){if(t.contains(n))return n;var s=wk(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},oB=function(t,e,n,s){var r=iB(e,Array.isArray(t)?t:[t]);Au[n]||(Au[n]=new WeakMap);var i=Au[n],a=[],l=new Set,c=new Set(r),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};r.forEach(u);var h=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(m){if(l.has(m))h(m);else try{var p=m.getAttribute(s),w=p!==null&&p!=="false",g=(jo.get(m)||0)+1,b=(i.get(m)||0)+1;jo.set(m,g),i.set(m,b),a.push(m),g===1&&w&&Pu.set(m,!0),b===1&&m.setAttribute(n,"true"),w||m.setAttribute(s,"true")}catch(x){console.error("aria-hidden: cannot operate on ",m,x)}})};return h(e),l.clear(),Fm++,function(){a.forEach(function(d){var m=jo.get(d)-1,p=i.get(d)-1;jo.set(d,m),i.set(d,p),m||(Pu.has(d)||d.removeAttribute(s),Pu.delete(d)),p||d.removeAttribute(n)}),Fm--,Fm||(jo=new WeakMap,jo=new WeakMap,Pu=new WeakMap,Au={})}},ry=function(t,e,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),r=rB(t);return r?(s.push.apply(s,Array.from(r.querySelectorAll("[aria-live]"))),oB(s,r,n,"aria-hidden")):function(){return null}},Ts=function(){return Ts=Object.assign||function(e){for(var n,s=1,r=arguments.length;s<r;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ts.apply(this,arguments)};function bk(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}function aB(t,e,n){if(n||arguments.length===2)for(var s=0,r=e.length,i;s<r;s++)(i||!(s in e))&&(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return t.concat(i||Array.prototype.slice.call(e))}var id="right-scroll-bar-position",od="width-before-scroll-bar",lB="with-scroll-bars-hidden",cB="--removed-body-scroll-bar-size";function $m(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function uB(t,e){var n=f.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(s){var r=n.value;r!==s&&(n.value=s,n.callback(s,r))}}}})[0];return n.callback=e,n.facade}var dB=typeof window<"u"?f.useLayoutEffect:f.useEffect,Qb=new WeakMap;function hB(t,e){var n=uB(null,function(s){return t.forEach(function(r){return $m(r,s)})});return dB(function(){var s=Qb.get(n);if(s){var r=new Set(s),i=new Set(t),a=n.current;r.forEach(function(l){i.has(l)||$m(l,null)}),i.forEach(function(l){r.has(l)||$m(l,a)})}Qb.set(n,t)},[t]),n}function fB(t){return t}function mB(t,e){e===void 0&&(e=fB);var n=[],s=!1,r={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,s);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(s=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){s=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var c=function(){var h=a;a=[],h.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){a.push(h),u()},filter:function(h){return a=a.filter(h),n}}}};return r}function pB(t){t===void 0&&(t={});var e=mB(null);return e.options=Ts({async:!0,ssr:!1},t),e}var _k=function(t){var e=t.sideCar,n=bk(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return f.createElement(s,Ts({},n))};_k.isSideCarExport=!0;function gB(t,e){return t.useMedium(e),_k}var Nk=pB(),Um=function(){},xf=f.forwardRef(function(t,e){var n=f.useRef(null),s=f.useState({onScrollCapture:Um,onWheelCapture:Um,onTouchMoveCapture:Um}),r=s[0],i=s[1],a=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,h=t.enabled,d=t.shards,m=t.sideCar,p=t.noRelative,w=t.noIsolation,g=t.inert,b=t.allowPinchZoom,x=t.as,v=x===void 0?"div":x,y=t.gapMode,N=bk(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=m,S=hB([n,e]),C=Ts(Ts({},N),r);return f.createElement(f.Fragment,null,h&&f.createElement(_,{sideCar:Nk,removeScrollBar:u,shards:d,noRelative:p,noIsolation:w,inert:g,setCallbacks:i,allowPinchZoom:!!b,lockRef:n,gapMode:y}),a?f.cloneElement(f.Children.only(l),Ts(Ts({},C),{ref:S})):f.createElement(v,Ts({},C,{className:c,ref:S}),l))});xf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xf.classNames={fullWidth:od,zeroRight:id};var xB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vB(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=xB();return e&&t.setAttribute("nonce",e),t}function yB(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function wB(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var bB=function(){var t=0,e=null;return{add:function(n){t==0&&(e=vB())&&(yB(e,n),wB(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},_B=function(){var t=bB();return function(e,n){f.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Ck=function(){var t=_B(),e=function(n){var s=n.styles,r=n.dynamic;return t(s,r),null};return e},NB={left:0,top:0,right:0,gap:0},zm=function(t){return parseInt(t||"",10)||0},CB=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[zm(n),zm(s),zm(r)]},SB=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return NB;var e=CB(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-n+e[2]-e[0])}},EB=Ck(),oa="data-scroll-locked",jB=function(t,e,n,s){var r=t.left,i=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(lB,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(oa,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(id,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(od,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(id," .").concat(id,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(od," .").concat(od,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(oa,`] {
    `).concat(cB,": ").concat(l,`px;
  }
`)},qb=function(){var t=parseInt(document.body.getAttribute(oa)||"0",10);return isFinite(t)?t:0},kB=function(){f.useEffect(function(){return document.body.setAttribute(oa,(qb()+1).toString()),function(){var t=qb()-1;t<=0?document.body.removeAttribute(oa):document.body.setAttribute(oa,t.toString())}},[])},TB=function(t){var e=t.noRelative,n=t.noImportant,s=t.gapMode,r=s===void 0?"margin":s;kB();var i=f.useMemo(function(){return SB(r)},[r]);return f.createElement(EB,{styles:jB(i,!e,r,n?"":"!important")})},Sg=!1;if(typeof window<"u")try{var Mu=Object.defineProperty({},"passive",{get:function(){return Sg=!0,!0}});window.addEventListener("test",Mu,Mu),window.removeEventListener("test",Mu,Mu)}catch{Sg=!1}var ko=Sg?{passive:!1}:!1,IB=function(t){return t.tagName==="TEXTAREA"},Sk=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!IB(t)&&n[e]==="visible")},RB=function(t){return Sk(t,"overflowY")},PB=function(t){return Sk(t,"overflowX")},Yb=function(t,e){var n=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var r=Ek(t,s);if(r){var i=jk(t,s),a=i[1],l=i[2];if(a>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},AB=function(t){var e=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[e,n,s]},MB=function(t){var e=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[e,n,s]},Ek=function(t,e){return t==="v"?RB(e):PB(e)},jk=function(t,e){return t==="v"?AB(e):MB(e)},OB=function(t,e){return t==="h"&&e==="rtl"?-1:1},DB=function(t,e,n,s,r){var i=OB(t,window.getComputedStyle(e).direction),a=i*s,l=n.target,c=e.contains(l),u=!1,h=a>0,d=0,m=0;do{if(!l)break;var p=jk(t,l),w=p[0],g=p[1],b=p[2],x=g-b-i*w;(w||x)&&Ek(t,l)&&(d+=x,m+=w);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&(Math.abs(d)<1||!r)||!h&&(Math.abs(m)<1||!r))&&(u=!0),u},Ou=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Xb=function(t){return[t.deltaX,t.deltaY]},Jb=function(t){return t&&"current"in t?t.current:t},LB=function(t,e){return t[0]===e[0]&&t[1]===e[1]},FB=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},$B=0,To=[];function UB(t){var e=f.useRef([]),n=f.useRef([0,0]),s=f.useRef(),r=f.useState($B++)[0],i=f.useState(Ck)[0],a=f.useRef(t);f.useEffect(function(){a.current=t},[t]),f.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var g=aB([t.lockRef.current],(t.shards||[]).map(Jb),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var l=f.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var x=Ou(g),v=n.current,y="deltaX"in g?g.deltaX:v[0]-x[0],N="deltaY"in g?g.deltaY:v[1]-x[1],_,S=g.target,C=Math.abs(y)>Math.abs(N)?"h":"v";if("touches"in g&&C==="h"&&S.type==="range")return!1;var E=Yb(C,S);if(!E)return!0;if(E?_=C:(_=C==="v"?"h":"v",E=Yb(C,S)),!E)return!1;if(!s.current&&"changedTouches"in g&&(y||N)&&(s.current=_),!_)return!0;var k=s.current||_;return DB(k,b,g,k==="h"?y:N,!0)},[]),c=f.useCallback(function(g){var b=g;if(!(!To.length||To[To.length-1]!==i)){var x="deltaY"in b?Xb(b):Ou(b),v=e.current.filter(function(_){return _.name===b.type&&(_.target===b.target||b.target===_.shadowParent)&&LB(_.delta,x)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var y=(a.current.shards||[]).map(Jb).filter(Boolean).filter(function(_){return _.contains(b.target)}),N=y.length>0?l(b,y[0]):!a.current.noIsolation;N&&b.cancelable&&b.preventDefault()}}},[]),u=f.useCallback(function(g,b,x,v){var y={name:g,delta:b,target:x,should:v,shadowParent:zB(x)};e.current.push(y),setTimeout(function(){e.current=e.current.filter(function(N){return N!==y})},1)},[]),h=f.useCallback(function(g){n.current=Ou(g),s.current=void 0},[]),d=f.useCallback(function(g){u(g.type,Xb(g),g.target,l(g,t.lockRef.current))},[]),m=f.useCallback(function(g){u(g.type,Ou(g),g.target,l(g,t.lockRef.current))},[]);f.useEffect(function(){return To.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:m}),document.addEventListener("wheel",c,ko),document.addEventListener("touchmove",c,ko),document.addEventListener("touchstart",h,ko),function(){To=To.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,ko),document.removeEventListener("touchmove",c,ko),document.removeEventListener("touchstart",h,ko)}},[]);var p=t.removeScrollBar,w=t.inert;return f.createElement(f.Fragment,null,w?f.createElement(i,{styles:FB(r)}):null,p?f.createElement(TB,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function zB(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const BB=gB(Nk,UB);var vf=f.forwardRef(function(t,e){return f.createElement(xf,Ts({},t,{ref:e,sideCar:BB}))});vf.classNames=xf.classNames;var Eg=["Enter"," "],VB=["ArrowDown","PageUp","Home"],kk=["ArrowUp","PageDown","End"],WB=[...VB,...kk],HB={ltr:[...Eg,"ArrowRight"],rtl:[...Eg,"ArrowLeft"]},GB={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ru="Menu",[Tc,KB,QB]=Fc(ru),[bo,Tk]=It(ru,[QB,za,tl]),yf=za(),Ik=tl(),[qB,_o]=bo(ru),[YB,iu]=bo(ru),Rk=t=>{const{__scopeMenu:e,open:n=!1,children:s,dir:r,onOpenChange:i,modal:a=!0}=t,l=yf(e),[c,u]=f.useState(null),h=f.useRef(!1),d=Zt(i),m=el(r);return f.useEffect(()=>{const p=()=>{h.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>h.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),o.jsx(GC,{...l,children:o.jsx(qB,{scope:e,open:n,onOpenChange:d,content:c,onContentChange:u,children:o.jsx(YB,{scope:e,onClose:f.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:h,dir:m,modal:a,children:s})})})};Rk.displayName=ru;var XB="MenuAnchor",iy=f.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t,r=yf(n);return o.jsx(Kx,{...r,...s,ref:e})});iy.displayName=XB;var oy="MenuPortal",[JB,Pk]=bo(oy,{forceMount:void 0}),Ak=t=>{const{__scopeMenu:e,forceMount:n,children:s,container:r}=t,i=_o(oy,e);return o.jsx(JB,{scope:e,forceMount:n,children:o.jsx(gn,{present:n||i.open,children:o.jsx($c,{asChild:!0,container:r,children:s})})})};Ak.displayName=oy;var zn="MenuContent",[ZB,ay]=bo(zn),Mk=f.forwardRef((t,e)=>{const n=Pk(zn,t.__scopeMenu),{forceMount:s=n.forceMount,...r}=t,i=_o(zn,t.__scopeMenu),a=iu(zn,t.__scopeMenu);return o.jsx(Tc.Provider,{scope:t.__scopeMenu,children:o.jsx(gn,{present:s||i.open,children:o.jsx(Tc.Slot,{scope:t.__scopeMenu,children:a.modal?o.jsx(e7,{...r,ref:e}):o.jsx(t7,{...r,ref:e})})})})}),e7=f.forwardRef((t,e)=>{const n=_o(zn,t.__scopeMenu),s=f.useRef(null),r=Ne(e,s);return f.useEffect(()=>{const i=s.current;if(i)return ry(i)},[]),o.jsx(ly,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:H(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),t7=f.forwardRef((t,e)=>{const n=_o(zn,t.__scopeMenu);return o.jsx(ly,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),n7=Ji("MenuContent.ScrollLock"),ly=f.forwardRef((t,e)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:d,onInteractOutside:m,onDismiss:p,disableOutsideScroll:w,...g}=t,b=_o(zn,n),x=iu(zn,n),v=yf(n),y=Ik(n),N=KB(n),[_,S]=f.useState(null),C=f.useRef(null),E=Ne(e,C,b.onContentChange),k=f.useRef(0),I=f.useRef(""),L=f.useRef(0),M=f.useRef(null),z=f.useRef("right"),R=f.useRef(0),W=w?vf:f.Fragment,K=w?{as:n7,allowPinchZoom:!0}:void 0,Z=j=>{var T,G;const A=I.current+j,D=N().filter(oe=>!oe.disabled),$=document.activeElement,Y=(T=D.find(oe=>oe.ref.current===$))==null?void 0:T.textValue,Q=D.map(oe=>oe.textValue),de=m7(Q,A,Y),ce=(G=D.find(oe=>oe.textValue===de))==null?void 0:G.ref.current;(function oe(ie){I.current=ie,window.clearTimeout(k.current),ie!==""&&(k.current=window.setTimeout(()=>oe(""),1e3))})(A),ce&&setTimeout(()=>ce.focus())};f.useEffect(()=>()=>window.clearTimeout(k.current),[]),sy();const P=f.useCallback(j=>{var D,$;return z.current===((D=M.current)==null?void 0:D.side)&&g7(j,($=M.current)==null?void 0:$.area)},[]);return o.jsx(ZB,{scope:n,searchRef:I,onItemEnter:f.useCallback(j=>{P(j)&&j.preventDefault()},[P]),onItemLeave:f.useCallback(j=>{var A;P(j)||((A=C.current)==null||A.focus(),S(null))},[P]),onTriggerLeave:f.useCallback(j=>{P(j)&&j.preventDefault()},[P]),pointerGraceTimerRef:L,onPointerGraceIntentChange:f.useCallback(j=>{M.current=j},[]),children:o.jsx(W,{...K,children:o.jsx(gf,{asChild:!0,trapped:r,onMountAutoFocus:H(i,j=>{var A;j.preventDefault(),(A=C.current)==null||A.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:o.jsx(La,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:d,onInteractOutside:m,onDismiss:p,children:o.jsx(ey,{asChild:!0,...y,dir:x.dir,orientation:"vertical",loop:s,currentTabStopId:_,onCurrentTabStopIdChange:S,onEntryFocus:H(c,j=>{x.isUsingKeyboardRef.current||j.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(Qx,{role:"menu","aria-orientation":"vertical","data-state":Yk(b.open),"data-radix-menu-content":"",dir:x.dir,...v,...g,ref:E,style:{outline:"none",...g.style},onKeyDown:H(g.onKeyDown,j=>{const D=j.target.closest("[data-radix-menu-content]")===j.currentTarget,$=j.ctrlKey||j.altKey||j.metaKey,Y=j.key.length===1;D&&(j.key==="Tab"&&j.preventDefault(),!$&&Y&&Z(j.key));const Q=C.current;if(j.target!==Q||!WB.includes(j.key))return;j.preventDefault();const ce=N().filter(T=>!T.disabled).map(T=>T.ref.current);kk.includes(j.key)&&ce.reverse(),h7(ce)}),onBlur:H(t.onBlur,j=>{j.currentTarget.contains(j.target)||(window.clearTimeout(k.current),I.current="")}),onPointerMove:H(t.onPointerMove,Ic(j=>{const A=j.target,D=R.current!==j.clientX;if(j.currentTarget.contains(A)&&D){const $=j.clientX>R.current?"right":"left";z.current=$,R.current=j.clientX}}))})})})})})})});Mk.displayName=zn;var s7="MenuGroup",cy=f.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return o.jsx(se.div,{role:"group",...s,ref:e})});cy.displayName=s7;var r7="MenuLabel",Ok=f.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return o.jsx(se.div,{...s,ref:e})});Ok.displayName=r7;var hh="MenuItem",Zb="menu.itemSelect",wf=f.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:s,...r}=t,i=f.useRef(null),a=iu(hh,t.__scopeMenu),l=ay(hh,t.__scopeMenu),c=Ne(e,i),u=f.useRef(!1),h=()=>{const d=i.current;if(!n&&d){const m=new CustomEvent(Zb,{bubbles:!0,cancelable:!0});d.addEventListener(Zb,p=>s==null?void 0:s(p),{once:!0}),kx(d,m),m.defaultPrevented?u.current=!1:a.onClose()}};return o.jsx(Dk,{...r,ref:c,disabled:n,onClick:H(t.onClick,h),onPointerDown:d=>{var m;(m=t.onPointerDown)==null||m.call(t,d),u.current=!0},onPointerUp:H(t.onPointerUp,d=>{var m;u.current||(m=d.currentTarget)==null||m.click()}),onKeyDown:H(t.onKeyDown,d=>{const m=l.searchRef.current!=="";n||m&&d.key===" "||Eg.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});wf.displayName=hh;var Dk=f.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:s=!1,textValue:r,...i}=t,a=ay(hh,n),l=Ik(n),c=f.useRef(null),u=Ne(e,c),[h,d]=f.useState(!1),[m,p]=f.useState("");return f.useEffect(()=>{const w=c.current;w&&p((w.textContent??"").trim())},[i.children]),o.jsx(Tc.ItemSlot,{scope:n,disabled:s,textValue:r??m,children:o.jsx(ty,{asChild:!0,...l,focusable:!s,children:o.jsx(se.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:u,onPointerMove:H(t.onPointerMove,Ic(w=>{s?a.onItemLeave(w):(a.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:H(t.onPointerLeave,Ic(w=>a.onItemLeave(w))),onFocus:H(t.onFocus,()=>d(!0)),onBlur:H(t.onBlur,()=>d(!1))})})})}),i7="MenuCheckboxItem",Lk=f.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:s,...r}=t;return o.jsx(Bk,{scope:t.__scopeMenu,checked:n,children:o.jsx(wf,{role:"menuitemcheckbox","aria-checked":fh(n)?"mixed":n,...r,ref:e,"data-state":dy(n),onSelect:H(r.onSelect,()=>s==null?void 0:s(fh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Lk.displayName=i7;var Fk="MenuRadioGroup",[o7,a7]=bo(Fk,{value:void 0,onValueChange:()=>{}}),$k=f.forwardRef((t,e)=>{const{value:n,onValueChange:s,...r}=t,i=Zt(s);return o.jsx(o7,{scope:t.__scopeMenu,value:n,onValueChange:i,children:o.jsx(cy,{...r,ref:e})})});$k.displayName=Fk;var Uk="MenuRadioItem",zk=f.forwardRef((t,e)=>{const{value:n,...s}=t,r=a7(Uk,t.__scopeMenu),i=n===r.value;return o.jsx(Bk,{scope:t.__scopeMenu,checked:i,children:o.jsx(wf,{role:"menuitemradio","aria-checked":i,...s,ref:e,"data-state":dy(i),onSelect:H(s.onSelect,()=>{var a;return(a=r.onValueChange)==null?void 0:a.call(r,n)},{checkForDefaultPrevented:!1})})})});zk.displayName=Uk;var uy="MenuItemIndicator",[Bk,l7]=bo(uy,{checked:!1}),Vk=f.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:s,...r}=t,i=l7(uy,n);return o.jsx(gn,{present:s||fh(i.checked)||i.checked===!0,children:o.jsx(se.span,{...r,ref:e,"data-state":dy(i.checked)})})});Vk.displayName=uy;var c7="MenuSeparator",Wk=f.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return o.jsx(se.div,{role:"separator","aria-orientation":"horizontal",...s,ref:e})});Wk.displayName=c7;var u7="MenuArrow",Hk=f.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t,r=yf(n);return o.jsx(qx,{...r,...s,ref:e})});Hk.displayName=u7;var d7="MenuSub",[g9,Gk]=bo(d7),Sl="MenuSubTrigger",Kk=f.forwardRef((t,e)=>{const n=_o(Sl,t.__scopeMenu),s=iu(Sl,t.__scopeMenu),r=Gk(Sl,t.__scopeMenu),i=ay(Sl,t.__scopeMenu),a=f.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:t.__scopeMenu},h=f.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return f.useEffect(()=>h,[h]),f.useEffect(()=>{const d=l.current;return()=>{window.clearTimeout(d),c(null)}},[l,c]),o.jsx(iy,{asChild:!0,...u,children:o.jsx(Dk,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":Yk(n.open),...t,ref:Oh(e,r.onTriggerChange),onClick:d=>{var m;(m=t.onClick)==null||m.call(t,d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:H(t.onPointerMove,Ic(d=>{i.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:H(t.onPointerLeave,Ic(d=>{var p,w;h();const m=(p=n.content)==null?void 0:p.getBoundingClientRect();if(m){const g=(w=n.content)==null?void 0:w.dataset.side,b=g==="right",x=b?-5:5,v=m[b?"left":"right"],y=m[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:d.clientX+x,y:d.clientY},{x:v,y:m.top},{x:y,y:m.top},{x:y,y:m.bottom},{x:v,y:m.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(d),d.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:H(t.onKeyDown,d=>{var p;const m=i.searchRef.current!=="";t.disabled||m&&d.key===" "||HB[s.dir].includes(d.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),d.preventDefault())})})})});Kk.displayName=Sl;var Qk="MenuSubContent",qk=f.forwardRef((t,e)=>{const n=Pk(zn,t.__scopeMenu),{forceMount:s=n.forceMount,...r}=t,i=_o(zn,t.__scopeMenu),a=iu(zn,t.__scopeMenu),l=Gk(Qk,t.__scopeMenu),c=f.useRef(null),u=Ne(e,c);return o.jsx(Tc.Provider,{scope:t.__scopeMenu,children:o.jsx(gn,{present:s||i.open,children:o.jsx(Tc.Slot,{scope:t.__scopeMenu,children:o.jsx(ly,{id:l.contentId,"aria-labelledby":l.triggerId,...r,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var d;a.isUsingKeyboardRef.current&&((d=c.current)==null||d.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:H(t.onFocusOutside,h=>{h.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:H(t.onEscapeKeyDown,h=>{a.onClose(),h.preventDefault()}),onKeyDown:H(t.onKeyDown,h=>{var p;const d=h.currentTarget.contains(h.target),m=GB[a.dir].includes(h.key);d&&m&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),h.preventDefault())})})})})})});qk.displayName=Qk;function Yk(t){return t?"open":"closed"}function fh(t){return t==="indeterminate"}function dy(t){return fh(t)?"indeterminate":t?"checked":"unchecked"}function h7(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function f7(t,e){return t.map((n,s)=>t[(e+s)%t.length])}function m7(t,e,n){const r=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=f7(t,Math.max(i,0));r.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.toLowerCase().startsWith(r.toLowerCase()));return c!==n?c:void 0}function p7(t,e){const{x:n,y:s}=t;let r=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const l=e[i],c=e[a],u=l.x,h=l.y,d=c.x,m=c.y;h>s!=m>s&&n<(d-u)*(s-h)/(m-h)+u&&(r=!r)}return r}function g7(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return p7(n,e)}function Ic(t){return e=>e.pointerType==="mouse"?t(e):void 0}var x7=Rk,v7=iy,y7=Ak,w7=Mk,b7=cy,_7=Ok,N7=wf,C7=Lk,S7=$k,E7=zk,j7=Vk,k7=Wk,T7=Hk,I7=Kk,R7=qk,bf="DropdownMenu",[P7,x9]=It(bf,[Tk]),sn=Tk(),[A7,Xk]=P7(bf),Jk=t=>{const{__scopeDropdownMenu:e,children:n,dir:s,open:r,defaultOpen:i,onOpenChange:a,modal:l=!0}=t,c=sn(e),u=f.useRef(null),[h,d]=En({prop:r,defaultProp:i??!1,onChange:a,caller:bf});return o.jsx(A7,{scope:e,triggerId:Un(),triggerRef:u,contentId:Un(),open:h,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(m=>!m),[d]),modal:l,children:o.jsx(x7,{...c,open:h,onOpenChange:d,dir:s,modal:l,children:n})})};Jk.displayName=bf;var Zk="DropdownMenuTrigger",eT=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...r}=t,i=Xk(Zk,n),a=sn(n);return o.jsx(v7,{asChild:!0,...a,children:o.jsx(se.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...r,ref:Oh(e,i.triggerRef),onPointerDown:H(t.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:H(t.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});eT.displayName=Zk;var M7="DropdownMenuPortal",tT=t=>{const{__scopeDropdownMenu:e,...n}=t,s=sn(e);return o.jsx(y7,{...s,...n})};tT.displayName=M7;var nT="DropdownMenuContent",sT=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Xk(nT,n),i=sn(n),a=f.useRef(!1);return o.jsx(w7,{id:r.contentId,"aria-labelledby":r.triggerId,...i,...s,ref:e,onCloseAutoFocus:H(t.onCloseAutoFocus,l=>{var c;a.current||(c=r.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:H(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;(!r.modal||h)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});sT.displayName=nT;var O7="DropdownMenuGroup",D7=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=sn(n);return o.jsx(b7,{...r,...s,ref:e})});D7.displayName=O7;var L7="DropdownMenuLabel",rT=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=sn(n);return o.jsx(_7,{...r,...s,ref:e})});rT.displayName=L7;var F7="DropdownMenuItem",iT=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=sn(n);return o.jsx(N7,{...r,...s,ref:e})});iT.displayName=F7;var $7="DropdownMenuCheckboxItem",oT=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=sn(n);return o.jsx(C7,{...r,...s,ref:e})});oT.displayName=$7;var U7="DropdownMenuRadioGroup",z7=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=sn(n);return o.jsx(S7,{...r,...s,ref:e})});z7.displayName=U7;var B7="DropdownMenuRadioItem",aT=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=sn(n);return o.jsx(E7,{...r,...s,ref:e})});aT.displayName=B7;var V7="DropdownMenuItemIndicator",lT=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=sn(n);return o.jsx(j7,{...r,...s,ref:e})});lT.displayName=V7;var W7="DropdownMenuSeparator",cT=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=sn(n);return o.jsx(k7,{...r,...s,ref:e})});cT.displayName=W7;var H7="DropdownMenuArrow",G7=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=sn(n);return o.jsx(T7,{...r,...s,ref:e})});G7.displayName=H7;var K7="DropdownMenuSubTrigger",uT=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=sn(n);return o.jsx(I7,{...r,...s,ref:e})});uT.displayName=K7;var Q7="DropdownMenuSubContent",dT=f.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=sn(n);return o.jsx(R7,{...r,...s,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});dT.displayName=Q7;var q7=Jk,Y7=eT,X7=tT,hT=sT,fT=rT,mT=iT,pT=oT,gT=aT,xT=lT,vT=cT,yT=uT,wT=dT;const hy=q7,fy=Y7,J7=f.forwardRef(({className:t,inset:e,children:n,...s},r)=>o.jsxs(yT,{ref:r,className:q("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...s,children:[n,o.jsx(Ax,{className:"ml-auto h-4 w-4"})]}));J7.displayName=yT.displayName;const Z7=f.forwardRef(({className:t,...e},n)=>o.jsx(wT,{ref:n,className:q("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Z7.displayName=wT.displayName;const _f=f.forwardRef(({className:t,sideOffset:e=4,...n},s)=>o.jsx(X7,{children:o.jsx(hT,{ref:s,sideOffset:e,className:q("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));_f.displayName=hT.displayName;const cs=f.forwardRef(({className:t,inset:e,...n},s)=>o.jsx(mT,{ref:s,className:q("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...n}));cs.displayName=mT.displayName;const eV=f.forwardRef(({className:t,children:e,checked:n,...s},r)=>o.jsxs(pT,{ref:r,className:q("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:n,...s,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(xT,{children:o.jsx(Br,{className:"h-4 w-4"})})}),e]}));eV.displayName=pT.displayName;const tV=f.forwardRef(({className:t,children:e,...n},s)=>o.jsxs(gT,{ref:s,className:q("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(xT,{children:o.jsx(rC,{className:"h-2 w-2 fill-current"})})}),e]}));tV.displayName=gT.displayName;const nV=f.forwardRef(({className:t,inset:e,...n},s)=>o.jsx(fT,{ref:s,className:q("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));nV.displayName=fT.displayName;const bT=f.forwardRef(({className:t,...e},n)=>o.jsx(vT,{ref:n,className:q("-mx-1 my-1 h-px bg-muted",t),...e}));bT.displayName=vT.displayName;const li=({userType:t,userName:e="User"})=>{const n=ut(),[s,r]=f.useState(!1),l=t==="student"?[{label:"Dashboard",path:"/student/dashboard"},{label:"Academic History",path:"/student/history"}]:[{label:"Dashboard",path:"/teacher/dashboard"},{label:"Create Test",path:"/teacher/create-test"},{label:"Submissions",path:"/teacher/submissions"}],c=()=>{n("/")};return o.jsx("header",{className:"bg-card shadow-sm border-b border-border sticky top-0 z-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ls,{className:"h-8 w-8 text-primary"}),o.jsx("span",{className:"text-xl font-bold text-foreground",children:"Nexus Learn"})]}),o.jsx("nav",{className:"hidden md:flex items-center gap-6",children:l.map(u=>o.jsx(bn,{to:u.path,className:"text-muted-foreground hover:text-primary transition-colors font-medium",children:u.label},u.path))}),o.jsx("div",{className:"hidden md:flex items-center gap-4",children:o.jsxs(hy,{children:[o.jsx(fy,{asChild:!0,children:o.jsxs(V,{variant:"ghost",className:"flex items-center gap-2",children:[o.jsx(ff,{className:"h-8 w-8",children:o.jsx(mf,{className:"bg-primary/10 text-primary text-sm",children:e.slice(0,2).toUpperCase()})}),o.jsx("span",{className:"text-sm font-medium",children:e}),o.jsx(Bc,{className:"h-4 w-4"})]})}),o.jsxs(_f,{align:"end",className:"w-48 bg-popover",children:[o.jsx(cs,{asChild:!0,children:o.jsxs(bn,{to:"/settings",className:"flex items-center cursor-pointer",children:[o.jsx(uc,{className:"h-4 w-4 mr-2"}),"Settings"]})}),o.jsx(bT,{}),o.jsxs(cs,{onClick:c,className:"cursor-pointer",children:[o.jsx(Up,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})}),o.jsx("button",{className:"md:hidden p-2",onClick:()=>r(!s),children:s?o.jsx(xo,{className:"h-6 w-6 text-foreground"}):o.jsx(lC,{className:"h-6 w-6 text-foreground"})})]}),s&&o.jsx("div",{className:"md:hidden pb-4 border-t border-border mt-2 pt-4",children:o.jsxs("nav",{className:"flex flex-col gap-3",children:[l.map(u=>o.jsx(bn,{to:u.path,className:"text-muted-foreground hover:text-primary transition-colors font-medium py-2",onClick:()=>r(!1),children:u.label},u.path)),o.jsxs(bn,{to:"/settings",className:"text-muted-foreground hover:text-primary transition-colors font-medium py-2 flex items-center gap-2",onClick:()=>r(!1),children:[o.jsx(uc,{className:"h-4 w-4"}),"Settings"]}),o.jsxs(V,{variant:"outline",size:"sm",onClick:c,className:"mt-2 w-fit",children:[o.jsx(Up,{className:"h-4 w-4 mr-2"}),"Logout"]})]})})]})})};var sV="Separator",e_="horizontal",rV=["horizontal","vertical"],_T=f.forwardRef((t,e)=>{const{decorative:n,orientation:s=e_,...r}=t,i=iV(s)?s:e_,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(se.div,{"data-orientation":i,...l,...r,ref:e})});_T.displayName=sV;function iV(t){return rV.includes(t)}var NT=_T;const Di=f.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...s},r)=>o.jsx(NT,{ref:r,decorative:n,orientation:e,className:q("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...s}));Di.displayName=NT.displayName;const oV=()=>{var c;const{testId:t}=Wa(),e=ut(),{user:n}=Gt(),[s,r]=f.useState(null),[i,a]=f.useState(!0),l=(n==null?void 0:n.displayName)||((c=n==null?void 0:n.email)==null?void 0:c.split("@")[0])||"Student";return f.useEffect(()=>{(async()=>{try{const d=(await Pe.getTests()).find(m=>m.id===t);r(d||null)}catch(h){console.error("Error loading test:",h)}finally{a(!1)}})()},[t]),i?o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(li,{userType:"student",userName:l}),o.jsx("main",{className:"max-w-4xl mx-auto px-4 py-8 flex items-center justify-center",children:o.jsx($n,{className:"h-8 w-8 animate-spin text-primary"})})]}):s?o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(li,{userType:"student",userName:l}),o.jsxs("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs(bn,{to:"/student/dashboard",className:"inline-flex items-center text-muted-foreground hover:text-primary mb-6 transition-colors",children:[o.jsx(xs,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsxs(J,{className:"bg-card",children:[o.jsxs(xe,{className:"p-4 sm:p-6",children:[o.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[o.jsx(Fe,{variant:"outline",className:"text-xs",children:s.type}),s.subjectName&&o.jsx(Fe,{variant:"secondary",className:"text-xs",children:s.subjectName})]}),o.jsx(ye,{className:"text-lg sm:text-2xl",children:s.title}),o.jsx(Ie,{className:"text-xs sm:text-sm",children:"Review the test details before starting"})]}),o.jsxs(ee,{className:"p-4 sm:p-6 pt-0 sm:pt-0 space-y-4 sm:space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[o.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"p-1.5 sm:p-2 bg-primary/10 rounded-lg",children:o.jsx(ms,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Test Type"}),o.jsx("p",{className:"font-medium text-sm sm:text-base text-foreground",children:s.type})]})]}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"p-1.5 sm:p-2 bg-primary/10 rounded-lg",children:o.jsx(jn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Subject"}),o.jsx("p",{className:"font-medium text-sm sm:text-base text-foreground",children:s.subjectName||"N/A"})]})]})]}),o.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"p-1.5 sm:p-2 bg-primary/10 rounded-lg",children:o.jsx(ar,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Duration"}),o.jsxs("p",{className:"font-medium text-sm sm:text-base text-foreground",children:[s.duration," minutes"]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"p-1.5 sm:p-2 bg-primary/10 rounded-lg",children:o.jsx(Px,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Created Date"}),o.jsx("p",{className:"font-medium text-sm sm:text-base text-foreground",children:new Date(s.createdAt).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})})]})]})]})]}),o.jsx(Di,{}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 p-3 sm:p-4 bg-accent rounded-lg",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Total Marks"}),o.jsx("p",{className:"text-xl sm:text-2xl font-bold text-accent-foreground",children:s.totalMarks||"N/A"})]}),o.jsx(V,{size:"sm",className:"w-full sm:w-auto",onClick:()=>e(`/student/test/${t}/instructions`),children:"Begin Test"})]})]})]})]})]}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(li,{userType:"student",userName:l}),o.jsx("main",{className:"max-w-4xl mx-auto px-4 py-8",children:o.jsx(J,{className:"bg-card",children:o.jsxs(ee,{className:"flex flex-col items-center justify-center py-12",children:[o.jsx(lc,{className:"h-12 w-12 text-destructive mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Test not found."}),o.jsx(V,{variant:"outline",className:"mt-4",onClick:()=>e("/student/dashboard"),children:"Back to Dashboard"})]})})})]})},aV=()=>{var d;const{testId:t}=Wa(),e=ut(),{user:n}=Gt(),[s,r]=f.useState(!1),[i,a]=f.useState(null),[l,c]=f.useState(!0),u=(n==null?void 0:n.displayName)||((d=n==null?void 0:n.email)==null?void 0:d.split("@")[0])||"Student";f.useEffect(()=>{(async()=>{try{const w=(await Pe.getTests()).find(g=>g.id===t);a(w||null)}catch(p){console.error("Error loading test:",p)}finally{c(!1)}})()},[t]);const h=["Read each question carefully before answering.","You cannot go back to previous questions once submitted.","Your answers are auto-saved every 30 seconds.","The timer will continue even if you close the browser.","Ensure stable internet connection throughout the test.","Do not use any external resources unless specified.","Contact support immediately if you face technical issues."];return l?o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(li,{userType:"student",userName:u}),o.jsx("main",{className:"max-w-4xl mx-auto px-4 py-8 flex items-center justify-center",children:o.jsx($n,{className:"h-8 w-8 animate-spin text-primary"})})]}):i?o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(li,{userType:"student",userName:u}),o.jsxs("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs(bn,{to:`/student/test/${t}/details`,className:"inline-flex items-center text-muted-foreground hover:text-primary mb-6 transition-colors",children:[o.jsx(xs,{className:"h-4 w-4 mr-2"}),"Back to Test Details"]}),o.jsxs(J,{className:"bg-card mb-4 sm:mb-6",children:[o.jsxs(xe,{className:"p-4 sm:p-6",children:[o.jsx(ye,{className:"text-lg sm:text-2xl",children:"Test Instructions"}),o.jsx(Ie,{className:"text-xs sm:text-sm",children:i.title})]}),o.jsxs(ee,{className:"p-4 sm:p-6 pt-0 sm:pt-0 space-y-4 sm:space-y-6",children:[o.jsxs("div",{className:"flex flex-wrap gap-3 sm:gap-4 p-3 sm:p-4 bg-accent rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[o.jsx(ar,{className:"h-4 w-4 sm:h-5 sm:w-5 text-accent-foreground"}),o.jsxs("span",{className:"text-sm sm:text-base text-foreground",children:[i.duration," minutes"]})]}),o.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[o.jsx(Bp,{className:"h-4 w-4 sm:h-5 sm:w-5 text-accent-foreground"}),o.jsxs("span",{className:"text-sm sm:text-base text-foreground",children:[i.totalMarks||"N/A"," marks"]})]})]}),o.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[o.jsxs("h3",{className:"font-semibold text-sm sm:text-base text-foreground flex items-center gap-2",children:[o.jsx(Vr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"General Instructions"]}),o.jsx("ul",{className:"space-y-2 sm:space-y-3",children:h.map((m,p)=>o.jsxs("li",{className:"flex items-start gap-2 sm:gap-3 text-xs sm:text-sm text-muted-foreground",children:[o.jsx("span",{className:"flex-shrink-0 w-5 h-5 sm:w-6 sm:h-6 rounded-full bg-primary/10 text-primary text-xs sm:text-sm flex items-center justify-center",children:p+1}),o.jsx("span",{className:"pt-0.5",children:m})]},p))})]}),o.jsxs(cn,{className:"bg-accent border-primary/20",children:[o.jsx(Zi,{className:"h-4 w-4"}),o.jsx(Ng,{className:"text-sm sm:text-base",children:"AI-Powered Evaluation"}),o.jsx(un,{className:"text-xs sm:text-sm",children:"Your responses will be evaluated using AI technology. The AI provides initial scores and feedback, which are then reviewed by your teacher for final grading."})]}),o.jsxs(cn,{variant:"destructive",className:"bg-destructive/10 border-destructive/20",children:[o.jsx(Mx,{className:"h-4 w-4"}),o.jsx(Ng,{className:"text-sm sm:text-base",children:"Important"}),o.jsx(un,{className:"text-xs sm:text-sm",children:"Once you start the test, the timer will begin and cannot be paused. Make sure you have sufficient time to complete the test."})]}),o.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 p-3 sm:p-4 border border-border rounded-lg",children:[o.jsx(co,{id:"accept",checked:s,onCheckedChange:m=>r(m),className:"mt-0.5"}),o.jsx("label",{htmlFor:"accept",className:"text-xs sm:text-sm text-muted-foreground cursor-pointer",children:"I have read and understood the instructions. I agree to abide by the test rules and understand that any violation may result in disqualification."})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx(V,{size:"sm",disabled:!s,className:"w-full sm:w-auto",onClick:()=>e(`/student/test/${t}/take`),children:"Start Test"})})]})]})]})]}):(e("/student/dashboard"),null)};var my="Radio",[lV,CT]=It(my),[cV,uV]=lV(my),ST=f.forwardRef((t,e)=>{const{__scopeRadio:n,name:s,checked:r=!1,required:i,disabled:a,value:l="on",onCheck:c,form:u,...h}=t,[d,m]=f.useState(null),p=Ne(e,b=>m(b)),w=f.useRef(!1),g=d?u||!!d.closest("form"):!0;return o.jsxs(cV,{scope:n,checked:r,disabled:a,children:[o.jsx(se.button,{type:"button",role:"radio","aria-checked":r,"data-state":TT(r),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:p,onClick:H(t.onClick,b=>{r||c==null||c(),g&&(w.current=b.isPropagationStopped(),w.current||b.stopPropagation())})}),g&&o.jsx(kT,{control:d,bubbles:!w.current,name:s,value:l,checked:r,required:i,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});ST.displayName=my;var ET="RadioIndicator",jT=f.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:s,...r}=t,i=uV(ET,n);return o.jsx(gn,{present:s||i.checked,children:o.jsx(se.span,{"data-state":TT(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})})});jT.displayName=ET;var dV="RadioBubbleInput",kT=f.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:s=!0,...r},i)=>{const a=f.useRef(null),l=Ne(a,i),c=df(n),u=zh(e);return f.useEffect(()=>{const h=a.current;if(!h)return;const d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(c!==n&&p){const w=new Event("click",{bubbles:s});p.call(h,n),h.dispatchEvent(w)}},[c,n,s]),o.jsx(se.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...r,tabIndex:-1,ref:l,style:{...r.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});kT.displayName=dV;function TT(t){return t?"checked":"unchecked"}var hV=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Nf="RadioGroup",[fV,v9]=It(Nf,[tl,CT]),IT=tl(),RT=CT(),[mV,pV]=fV(Nf),PT=f.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:s,defaultValue:r,value:i,required:a=!1,disabled:l=!1,orientation:c,dir:u,loop:h=!0,onValueChange:d,...m}=t,p=IT(n),w=el(u),[g,b]=En({prop:i,defaultProp:r??null,onChange:d,caller:Nf});return o.jsx(mV,{scope:n,name:s,required:a,disabled:l,value:g,onValueChange:b,children:o.jsx(ey,{asChild:!0,...p,orientation:c,dir:w,loop:h,children:o.jsx(se.div,{role:"radiogroup","aria-required":a,"aria-orientation":c,"data-disabled":l?"":void 0,dir:w,...m,ref:e})})})});PT.displayName=Nf;var AT="RadioGroupItem",MT=f.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:s,...r}=t,i=pV(AT,n),a=i.disabled||s,l=IT(n),c=RT(n),u=f.useRef(null),h=Ne(e,u),d=i.value===r.value,m=f.useRef(!1);return f.useEffect(()=>{const p=g=>{hV.includes(g.key)&&(m.current=!0)},w=()=>m.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",w)}},[]),o.jsx(ty,{asChild:!0,...l,focusable:!a,active:d,children:o.jsx(ST,{disabled:a,required:i.required,checked:d,...c,...r,name:i.name,ref:h,onCheck:()=>i.onValueChange(r.value),onKeyDown:H(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:H(r.onFocus,()=>{var p;m.current&&((p=u.current)==null||p.click())})})})});MT.displayName=AT;var gV="RadioGroupIndicator",OT=f.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...s}=t,r=RT(n);return o.jsx(jT,{...r,...s,ref:e})});OT.displayName=gV;var DT=PT,LT=MT,xV=OT;const Cf=f.forwardRef(({className:t,...e},n)=>o.jsx(DT,{className:q("grid gap-2",t),...e,ref:n}));Cf.displayName=DT.displayName;const Sf=f.forwardRef(({className:t,...e},n)=>o.jsx(LT,{ref:n,className:q("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(xV,{className:"flex items-center justify-center",children:o.jsx(rC,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Sf.displayName=LT.displayName;const Ds=f.forwardRef(({className:t,...e},n)=>o.jsx("textarea",{className:q("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Ds.displayName="Textarea";var py="Progress",gy=100,[vV,y9]=It(py),[yV,wV]=vV(py),FT=f.forwardRef((t,e)=>{const{__scopeProgress:n,value:s=null,max:r,getValueLabel:i=bV,...a}=t;(r||r===0)&&!t_(r)&&console.error(_V(`${r}`,"Progress"));const l=t_(r)?r:gy;s!==null&&!n_(s,l)&&console.error(NV(`${s}`,"Progress"));const c=n_(s,l)?s:null,u=mh(c)?i(c,l):void 0;return o.jsx(yV,{scope:n,value:c,max:l,children:o.jsx(se.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":mh(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":zT(c,l),"data-value":c??void 0,"data-max":l,...a,ref:e})})});FT.displayName=py;var $T="ProgressIndicator",UT=f.forwardRef((t,e)=>{const{__scopeProgress:n,...s}=t,r=wV($T,n);return o.jsx(se.div,{"data-state":zT(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...s,ref:e})});UT.displayName=$T;function bV(t,e){return`${Math.round(t/e*100)}%`}function zT(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function mh(t){return typeof t=="number"}function t_(t){return mh(t)&&!isNaN(t)&&t>0}function n_(t,e){return mh(t)&&!isNaN(t)&&t<=e&&t>=0}function _V(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${gy}\`.`}function NV(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${gy} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var BT=FT,CV=UT;const Gr=f.forwardRef(({className:t,value:e,...n},s)=>o.jsx(BT,{ref:s,className:q("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:o.jsx(CV,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Gr.displayName=BT.displayName;const SV=()=>{var _;const{testId:t}=Wa(),e=ut(),{user:n}=Gt(),[s,r]=f.useState(null),[i,a]=f.useState([]),[l,c]=f.useState(0),[u,h]=f.useState(0),[d,m]=f.useState({}),[p,w]=f.useState(!0);f.useEffect(()=>{(async()=>{const E=(await Pe.getTests()).find(k=>k.id===t);if(E){r(E),h(E.duration*60);const k=await Pe.getQuestionsByTest(E.id);a(k)}w(!1)})()},[t]),f.useEffect(()=>{if(u<=0)return;const S=setInterval(()=>h(C=>C>0?C-1:0),1e3);return()=>clearInterval(S)},[u]);const g=S=>{const C=Math.floor(S/60),E=S%60;return`${C}:${E.toString().padStart(2,"0")}`},b=(S,C)=>{const E=S.toLowerCase().trim(),k=C.toLowerCase().trim();if(E===k)return 1;if(E.length===0||k.length===0)return 0;const I=[];for(let M=0;M<=E.length;M++)I[M]=[M];for(let M=0;M<=k.length;M++)I[0][M]=M;for(let M=1;M<=E.length;M++)for(let z=1;z<=k.length;z++){const R=E[M-1]===k[z-1]?0:1;I[M][z]=Math.min(I[M-1][z]+1,I[M][z-1]+1,I[M-1][z-1]+R)}const L=Math.max(E.length,k.length);return 1-I[E.length][k.length]/L},x=(S,C)=>{if(typeof S=="number"&&Number.isFinite(S))return S;if(typeof S!="string")return null;const E=S.trim(),k=/^option(\d+)$/.exec(E);if(k)return Number(k[1]);const I=Number(E);if(Number.isFinite(I))return I;if(C!=null&&C.length){const L=C.findIndex(M=>(M==null?void 0:M.trim().toLowerCase())===E.toLowerCase());if(L>=0)return L}return null},v=async()=>{var k;if(!s)return;let S=0,C=0;const E=Object.entries(d).map(([I,L])=>({questionId:I,answer:L}));i.forEach(I=>{const L=d[I.id];if(I.type==="mcq"&&L!==void 0){const M=typeof L=="string"?Number(L):L,z=x(I.correctAnswer,I.options);Number.isFinite(M)&&z!==null&&M===z&&(S+=I.marks)}I.type==="fillBlank"&&typeof L=="string"&&I.correctAnswer&&b(L,String(I.correctAnswer))>=.65&&(C+=I.marks)});try{await Pe.addSubmission({testId:s.id,studentId:(n==null?void 0:n.uid)||"unknown",studentName:(n==null?void 0:n.displayName)||((k=n==null?void 0:n.email)==null?void 0:k.split("@")[0])||"Student",answers:E,mcqScore:S,fillBlankScore:C,totalAutoScore:S+C,status:"pending"}),X({title:"Test submitted successfully!"}),e(`/student/test/${t}/submitted`)}catch{X({title:"Error submitting test",variant:"destructive"})}};if(p||!s)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:"Loading..."});if(i.length===0)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsx(J,{className:"max-w-md",children:o.jsxs(ee,{className:"p-6 text-center",children:[o.jsx("p",{className:"text-muted-foreground mb-4",children:"No questions found for this test."}),o.jsx(V,{onClick:()=>e("/student/dashboard"),children:"Back to Dashboard"})]})})});const y=i[l],N=Object.keys(d).length/i.length*100;return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("header",{className:"fixed top-0 left-0 right-0 bg-card border-b border-border z-50",children:[o.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 py-2 sm:py-3 flex items-center justify-between gap-2",children:[o.jsx("div",{className:"min-w-0 flex-1",children:o.jsx("h1",{className:"font-semibold text-foreground text-sm sm:text-base truncate",children:s.title})}),o.jsxs("div",{className:q("flex items-center gap-1.5 sm:gap-2 px-2 sm:px-4 py-1.5 sm:py-2 rounded-lg font-mono text-sm sm:text-base flex-shrink-0",u<300?"bg-destructive/10 text-destructive":"bg-primary/10 text-primary"),children:[o.jsx(ar,{className:"h-4 w-4 sm:h-5 sm:w-5"}),g(u)]})]}),o.jsx(Gr,{value:N,className:"h-1 rounded-none"})]}),o.jsx("div",{className:"pt-20 sm:pt-24 pb-20 sm:pb-24 px-3 sm:px-4",children:o.jsx("div",{className:"max-w-3xl mx-auto",children:y&&o.jsxs(J,{className:"bg-card",children:[o.jsx(xe,{className:"p-3 sm:p-6",children:o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx(Fe,{variant:"secondary",className:"text-xs",children:y.type.toUpperCase()}),o.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground",children:["Q ",l+1," / ",i.length]})]})}),o.jsxs(ee,{className:"p-3 sm:p-6 pt-0 sm:pt-0 space-y-4 sm:space-y-6",children:[o.jsx("p",{className:"text-base sm:text-lg font-medium text-foreground",children:y.text}),y.type==="mcq"&&y.options&&o.jsx(Cf,{value:(_=d[y.id])==null?void 0:_.toString(),onValueChange:S=>m({...d,[y.id]:parseInt(S)}),children:y.options.map((S,C)=>o.jsxs("div",{className:q("flex items-center space-x-2 sm:space-x-3 p-3 sm:p-4 rounded-lg border cursor-pointer",d[y.id]===C?"border-primary bg-primary/5":"border-border hover:bg-muted/50"),children:[o.jsx(Sf,{value:C.toString(),id:`opt-${C}`}),o.jsx(ue,{htmlFor:`opt-${C}`,className:"cursor-pointer flex-1 text-sm sm:text-base",children:S})]},C))}),y.type==="fillBlank"&&o.jsx(Ce,{placeholder:"Your answer...",value:d[y.id]||"",onChange:S=>m({...d,[y.id]:S.target.value})}),y.type==="shortAnswer"&&o.jsx(Ds,{placeholder:"Write your answer...",rows:5,value:d[y.id]||"",onChange:S=>m({...d,[y.id]:S.target.value})}),y.type==="longAnswer"&&o.jsx(Ds,{placeholder:"Write your detailed answer...",rows:10,value:d[y.id]||"",onChange:S=>m({...d,[y.id]:S.target.value})}),o.jsxs("div",{className:"flex justify-between pt-3 sm:pt-4 border-t gap-2",children:[o.jsxs(V,{variant:"outline",size:"sm",onClick:()=>c(Math.max(0,l-1)),disabled:l===0,children:[o.jsx(nC,{className:"h-4 w-4 mr-1"}),o.jsx("span",{className:"hidden sm:inline",children:"Previous"}),o.jsx("span",{className:"sm:hidden",children:"Prev"})]}),l<i.length-1?o.jsxs(V,{size:"sm",onClick:()=>c(l+1),children:["Next",o.jsx(Ax,{className:"h-4 w-4 ml-1"})]}):null]})]})]})})}),o.jsx("footer",{className:"fixed bottom-0 left-0 right-0 bg-card border-t border-border z-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 py-2 sm:py-3 flex items-center justify-between gap-2",children:[o.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground",children:[Object.keys(d).length," / ",i.length," answered"]}),o.jsx(V,{onClick:v,size:"sm",className:"text-sm",children:"Submit Test"})]})})]})},EV=()=>{const{testId:t}=Wa(),e=ut(),[n,s]=f.useState(null),[r,i]=f.useState(!0);f.useEffect(()=>{(async()=>{if(!t)return;const u=(await Pe.getTests()).find(h=>h.id===t);s(u||null),i(!1)})()},[t]);const a=new Date().toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return r?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsx($n,{className:"h-8 w-8 animate-spin text-primary"})}):o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:o.jsxs(J,{className:"bg-card max-w-lg w-full text-center",children:[o.jsxs(xe,{className:"pb-4",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"p-4 bg-chart-1/20 rounded-full",children:o.jsx(Vr,{className:"h-16 w-16 text-chart-1"})})}),o.jsx(ye,{className:"text-2xl text-foreground",children:"Test Submitted Successfully!"}),o.jsx(Ie,{className:"text-base",children:"Your responses have been recorded"})]}),o.jsxs(ee,{className:"space-y-6",children:[o.jsxs("div",{className:"p-4 bg-accent rounded-lg space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Test"}),o.jsx("span",{className:"font-medium text-foreground",children:(n==null?void 0:n.title)||"Test"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Submitted At"}),o.jsx("span",{className:"font-medium text-foreground text-sm",children:a})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Status"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Zi,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"font-medium text-primary",children:"Pending AI Evaluation"})]})]})]}),o.jsx("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/20",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(ar,{className:"h-5 w-5 text-primary mt-0.5"}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"font-medium text-foreground",children:"What happens next?"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Your answers will be evaluated by our AI system and reviewed by your teacher. Results are typically available within 24-48 hours."})]})]})}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsxs(V,{variant:"outline",className:"flex-1",onClick:()=>e("/student/dashboard"),children:[o.jsx(sM,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsx(V,{className:"flex-1",onClick:()=>e("/student/history"),children:"View Academic History"})]})]})]})})},jV=()=>{const{testId:t}=Wa(),e=ut(),[n,s]=f.useState(null),[r,i]=f.useState(null),[a,l]=f.useState(!0);if(f.useEffect(()=>{(async()=>{if(!t)return;const g=(await Pe.getTests()).find(v=>v.id===t);s(g||null);const x=(await Pe.getSubmissions()).find(v=>v.testId===t);i(x||null),l(!1)})()},[t]),a)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsx($n,{className:"h-8 w-8 animate-spin text-primary"})});if(!n||!r)return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(li,{userType:"student",userName:"Alex Thompson"}),o.jsx("main",{className:"max-w-4xl mx-auto px-4 py-8",children:o.jsx(J,{className:"bg-card",children:o.jsxs(ee,{className:"flex flex-col items-center justify-center py-12",children:[o.jsx(lc,{className:"h-12 w-12 text-destructive mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Result not found."}),o.jsx(V,{variant:"outline",className:"mt-4",onClick:()=>e("/student/dashboard"),children:"Back to Dashboard"})]})})})]});const c=r.finalScore??r.totalAutoScore??0,u=n.totalMarks||100,h=Math.round(c/u*100),d=p=>p>=90?"text-chart-1":p>=75?"text-primary":p>=60?"text-chart-3":p>=40?"text-chart-5":"text-destructive",m=p=>p>=90?"Excellent":p>=75?"Good":p>=60?"Satisfactory":p>=40?"Needs Improvement":"Below Average";return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(li,{userType:"student",userName:"Alex Thompson"}),o.jsxs("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs(bn,{to:"/student/dashboard",className:"inline-flex items-center text-muted-foreground hover:text-primary mb-6 transition-colors",children:[o.jsx(xs,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsxs(J,{className:"bg-card mb-4 sm:mb-6",children:[o.jsxs(xe,{className:"text-center pb-2 sm:pb-4 p-4 sm:p-6",children:[o.jsx("div",{className:"flex justify-center mb-3 sm:mb-4",children:o.jsx("div",{className:"p-3 sm:p-4 bg-primary/10 rounded-full",children:o.jsx(fC,{className:"h-8 w-8 sm:h-12 sm:w-12 text-primary"})})}),o.jsx(ye,{className:"text-lg sm:text-xl",children:n.title}),o.jsx(Ie,{className:"text-xs sm:text-sm",children:n.subjectName||n.subjectId})]}),o.jsxs(ee,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:[o.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[o.jsxs("div",{className:`text-4xl sm:text-6xl font-bold ${d(h)}`,children:[h,"%"]}),o.jsxs("div",{className:"text-sm sm:text-lg text-muted-foreground mt-1 sm:mt-2",children:[c," / ",u," marks"]}),o.jsx(Fe,{className:`mt-2 sm:mt-3 ${d(h)}`,variant:"secondary",children:m(h)})]}),o.jsx(Di,{className:"my-4 sm:my-6"}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-semibold text-foreground mb-3 sm:mb-4 flex items-center gap-2 text-sm sm:text-base",children:[o.jsx(_a,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Section Breakdown"]}),o.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[r.mcqScore!==void 0&&r.mcqScore>0&&o.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-xs sm:text-sm",children:[o.jsx("span",{className:"text-foreground font-medium",children:"MCQ"}),o.jsxs("span",{className:"text-muted-foreground",children:[r.mcqScore," marks"]})]}),o.jsx(Gr,{value:r.mcqScore/u*100,className:"h-1.5 sm:h-2"})]}),r.fillBlankScore!==void 0&&r.fillBlankScore>0&&o.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-xs sm:text-sm",children:[o.jsx("span",{className:"text-foreground font-medium",children:"Fill in the Blanks"}),o.jsxs("span",{className:"text-muted-foreground",children:[r.fillBlankScore," marks"]})]}),o.jsx(Gr,{value:r.fillBlankScore/u*100,className:"h-1.5 sm:h-2"})]}),r.shortAnswerMarks!==void 0&&r.shortAnswerMarks>0&&o.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-xs sm:text-sm",children:[o.jsx("span",{className:"text-foreground font-medium",children:"Short Answer"}),o.jsxs("span",{className:"text-muted-foreground",children:[r.shortAnswerMarks," marks"]})]}),o.jsx(Gr,{value:r.shortAnswerMarks/u*100,className:"h-1.5 sm:h-2"})]}),r.longAnswerMarks!==void 0&&r.longAnswerMarks>0&&o.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-xs sm:text-sm",children:[o.jsx("span",{className:"text-foreground font-medium",children:"Long Answer"}),o.jsxs("span",{className:"text-muted-foreground",children:[r.longAnswerMarks," marks"]})]}),o.jsx(Gr,{value:r.longAnswerMarks/u*100,className:"h-1.5 sm:h-2"})]})]})]})]})]}),o.jsxs(J,{className:"bg-card mb-4 sm:mb-6",children:[o.jsxs(xe,{className:"p-4 sm:p-6",children:[o.jsxs(ye,{className:"flex items-center gap-2 text-base sm:text-lg",children:[o.jsx(Zi,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"AI Feedback"]}),o.jsx(Ie,{className:"text-xs sm:text-sm",children:"Automated analysis of your performance"})]}),o.jsx(ee,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:o.jsx("div",{className:"p-3 sm:p-4 bg-accent rounded-lg",children:o.jsx("p",{className:"text-foreground leading-relaxed text-sm sm:text-base",children:r.status==="graded"?"Your test has been reviewed. Check the breakdown above for detailed scores.":"Your test is pending review. Results will be available soon."})})})]}),o.jsxs(J,{className:"bg-card",children:[o.jsxs(xe,{className:"p-4 sm:p-6",children:[o.jsxs(ye,{className:"flex items-center gap-2 text-base sm:text-lg",children:[o.jsx(oM,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Teacher Remarks"]}),o.jsx(Ie,{className:"text-xs sm:text-sm",children:"Personal feedback from your instructor"})]}),o.jsx(ee,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:o.jsx("div",{className:"p-3 sm:p-4 bg-primary/5 border border-primary/20 rounded-lg",children:o.jsx("p",{className:"text-foreground leading-relaxed text-sm sm:text-base",children:r.teacherRemarks||"No remarks yet. Check back after your teacher reviews your submission."})})})]})]})]})},Ef=f.forwardRef(({className:t,...e},n)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:n,className:q("w-full caption-bottom text-sm",t),...e})}));Ef.displayName="Table";const jf=f.forwardRef(({className:t,...e},n)=>o.jsx("thead",{ref:n,className:q("[&_tr]:border-b",t),...e}));jf.displayName="TableHeader";const kf=f.forwardRef(({className:t,...e},n)=>o.jsx("tbody",{ref:n,className:q("[&_tr:last-child]:border-0",t),...e}));kf.displayName="TableBody";const kV=f.forwardRef(({className:t,...e},n)=>o.jsx("tfoot",{ref:n,className:q("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));kV.displayName="TableFooter";const ci=f.forwardRef(({className:t,...e},n)=>o.jsx("tr",{ref:n,className:q("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));ci.displayName="TableRow";const kt=f.forwardRef(({className:t,...e},n)=>o.jsx("th",{ref:n,className:q("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));kt.displayName="TableHead";const yt=f.forwardRef(({className:t,...e},n)=>o.jsx("td",{ref:n,className:q("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));yt.displayName="TableCell";const TV=f.forwardRef(({className:t,...e},n)=>o.jsx("caption",{ref:n,className:q("mt-4 text-sm text-muted-foreground",t),...e}));TV.displayName="TableCaption";const IV=()=>{var w;const t=ut(),{user:e}=Gt(),n=(e==null?void 0:e.displayName)||((w=e==null?void 0:e.email)==null?void 0:w.split("@")[0])||"Student",s=(e==null?void 0:e.uid)||"",[r,i]=f.useState([]),[a,l]=f.useState([]);f.useEffect(()=>{const g=Pe.subscribeToTests(i),b=Pe.subscribeToSubmissions(x=>{l(x.filter(v=>v.studentId===s))});return()=>{g(),b()}},[s]);const c=a.map(g=>g.testId),u=r.filter(g=>c.includes(g.id)),h=r.filter(g=>!c.includes(g.id)),d=g=>g?g>=90?"text-chart-1":g>=75?"text-primary":g>=60?"text-chart-3":g>=40?"text-chart-5":"text-destructive":"text-muted-foreground",m=a.length>0&&a.some(g=>g.totalAutoScore!==void 0)?Math.round(a.reduce((g,b)=>g+(b.totalAutoScore||0),0)/a.length):0,p=a.length>0&&a.some(g=>g.totalAutoScore!==void 0)?Math.max(...a.map(g=>g.totalAutoScore||0)):0;return o.jsx(Cn,{userType:"student",userName:n,children:o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground mb-2",children:"Academic History"}),o.jsx("p",{className:"text-muted-foreground",children:"Track your learning progress and performance over time."})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[o.jsx(J,{className:"bg-card",children:o.jsx(ee,{className:"pt-4 sm:pt-6 p-3 sm:p-6",children:o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"p-1.5 sm:p-2 rounded-lg bg-primary/10",children:o.jsx(ms,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-lg sm:text-2xl font-bold text-card-foreground",children:u.length}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Tests"})]})]})})}),o.jsx(J,{className:"bg-card",children:o.jsx(ee,{className:"pt-4 sm:pt-6 p-3 sm:p-6",children:o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"p-1.5 sm:p-2 rounded-lg bg-chart-1/20",children:o.jsx(_a,{className:"h-4 w-4 sm:h-5 sm:w-5 text-chart-1"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-card-foreground",children:[m,"%"]}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Avg"})]})]})})}),o.jsx(J,{className:"bg-card",children:o.jsx(ee,{className:"pt-4 sm:pt-6 p-3 sm:p-6",children:o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"p-1.5 sm:p-2 rounded-lg bg-chart-4/20",children:o.jsx(fC,{className:"h-4 w-4 sm:h-5 sm:w-5 text-chart-4"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-card-foreground",children:[p,"%"]}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Best"})]})]})})}),o.jsx(J,{className:"bg-card",children:o.jsx(ee,{className:"pt-4 sm:pt-6 p-3 sm:p-6",children:o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"p-1.5 sm:p-2 rounded-lg bg-chart-3/20",children:o.jsx(Px,{className:"h-4 w-4 sm:h-5 sm:w-5 text-chart-3"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-lg sm:text-2xl font-bold text-card-foreground",children:h.length}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Upcoming"})]})]})})})]}),o.jsxs(J,{className:"bg-card",children:[o.jsxs(xe,{className:"p-4 sm:p-6",children:[o.jsx(ye,{className:"text-base sm:text-lg",children:"Test History"}),o.jsx(Ie,{className:"text-xs sm:text-sm",children:"Complete list of all your assessments"})]}),o.jsx(ee,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:o.jsx("div",{className:"overflow-x-auto -mx-4 sm:mx-0",children:o.jsx("div",{className:"inline-block min-w-full align-middle",children:o.jsxs(Ef,{children:[o.jsx(jf,{children:o.jsxs(ci,{children:[o.jsx(kt,{className:"text-xs sm:text-sm",children:"Test Name"}),o.jsx(kt,{className:"text-xs sm:text-sm hidden md:table-cell",children:"Subject"}),o.jsx(kt,{className:"text-xs sm:text-sm hidden lg:table-cell",children:"Type"}),o.jsx(kt,{className:"text-xs sm:text-sm hidden sm:table-cell",children:"Date"}),o.jsx(kt,{className:"text-xs sm:text-sm",children:"Score"}),o.jsx(kt,{className:"text-xs sm:text-sm hidden sm:table-cell",children:"Status"}),o.jsx(kt,{className:"text-right text-xs sm:text-sm",children:"Action"})]})}),o.jsx(kf,{children:u.length>0?u.map(g=>{const b=a.find(x=>x.testId===g.id);return o.jsxs(ci,{children:[o.jsxs(yt,{className:"font-medium text-xs sm:text-sm p-2 sm:p-4",children:[o.jsx("div",{children:g.title}),o.jsx("div",{className:"text-xs text-muted-foreground sm:hidden",children:new Date(g.createdAt).toLocaleDateString()})]}),o.jsx(yt,{className:"text-xs sm:text-sm hidden md:table-cell",children:g.subjectId||"-"}),o.jsx(yt,{className:"hidden lg:table-cell",children:o.jsx(Fe,{variant:"outline",className:"text-xs",children:g.type})}),o.jsx(yt,{className:"text-xs sm:text-sm hidden sm:table-cell",children:new Date(g.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),o.jsx(yt,{className:"p-2 sm:p-4",children:(b==null?void 0:b.totalAutoScore)!==void 0?o.jsx("span",{className:`font-semibold text-xs sm:text-sm ${d(b.totalAutoScore)}`,children:b.totalAutoScore}):o.jsx("span",{className:"text-muted-foreground text-xs sm:text-sm",children:"-"})}),o.jsx(yt,{className:"hidden sm:table-cell",children:o.jsx(Fe,{variant:(b==null?void 0:b.status)==="graded"?"default":"secondary",className:`text-xs ${(b==null?void 0:b.status)==="graded"?"bg-chart-1/20 text-chart-1":"bg-chart-5/20 text-chart-5"}`,children:(b==null?void 0:b.status)==="graded"?"Graded":"Pending"})}),o.jsx(yt,{className:"text-right p-2 sm:p-4",children:(b==null?void 0:b.status)==="graded"?o.jsxs(V,{variant:"outline",size:"sm",className:"text-xs h-7 sm:h-8 px-2 sm:px-3",onClick:()=>t(`/student/test/${g.id}/result`),children:[o.jsx("span",{className:"hidden sm:inline",children:"View Result"}),o.jsx("span",{className:"sm:hidden",children:"View"})]}):o.jsxs(V,{variant:"ghost",size:"sm",disabled:!0,className:"text-xs h-7 sm:h-8 px-2 sm:px-3",children:[o.jsx("span",{className:"hidden sm:inline",children:"Awaiting"}),o.jsx("span",{className:"sm:hidden",children:"..."})]})})]},g.id)}):o.jsx(ci,{children:o.jsx(yt,{colSpan:7,className:"text-center py-6 sm:py-8 text-muted-foreground text-xs sm:text-sm",children:"No test history yet"})})})]})})})})]})]})})},RV=()=>{var p;const t=ut(),{user:e}=Gt(),n=(e==null?void 0:e.displayName)||((p=e==null?void 0:e.email)==null?void 0:p.split("@")[0])||"Teacher",[s,r]=f.useState([]),[i,a]=f.useState([]),[l,c]=f.useState([]),[u,h]=f.useState(0);f.useEffect(()=>{const w=Pe.subscribeToSubjects(r),g=Pe.subscribeToTests(a),b=Pe.subscribeToSubmissions(c),x=he(fe,"users"),v=nr(x,y=>{if(!y.exists()){h(0);return}const N=y.val(),_=Object.values(N).filter(S=>S.role==="student");h(_.length)});return()=>{w(),g(),b(),v()}},[]);const d=l.filter(w=>w.status==="pending"),m=[{icon:jn,label:"Subjects",value:s.length,color:"text-primary",path:"/teacher/subjects"},{icon:eo,label:"Students",value:u,color:"text-chart-2",path:"/teacher/students"},{icon:ms,label:"Tests",value:i.length,color:"text-chart-1",path:"/teacher/tests"},{icon:Xo,label:"Pending",value:d.length,color:"text-chart-3",path:"/teacher/submissions"}];return o.jsx(Cn,{userType:"teacher",userName:n,children:o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-6 sm:mb-8",children:[o.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground mb-2",children:["Welcome back, ",n,"!"]}),o.jsx("p",{className:"text-muted-foreground",children:"Manage your classes and review student submissions."})]}),o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8",children:m.map((w,g)=>o.jsx(J,{className:"bg-card cursor-pointer hover:shadow-md transition-shadow",onClick:()=>t(w.path),children:o.jsx(ee,{className:"p-4 sm:pt-6",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10 w-fit",children:o.jsx(w.icon,{className:`h-5 w-5 ${w.color}`})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xl sm:text-2xl font-bold text-card-foreground",children:w.value}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:w.label})]})]})})},g))}),o.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-4 mb-6 sm:mb-8",children:[o.jsxs(V,{size:"sm",className:"text-xs sm:text-sm h-9 sm:h-10",onClick:()=>t("/teacher/subjects"),children:[o.jsx(jn,{className:"h-4 w-4 mr-1 sm:mr-2"}),o.jsx("span",{className:"hidden sm:inline",children:"Manage"})," Subjects"]}),o.jsxs(V,{size:"sm",className:"text-xs sm:text-sm h-9 sm:h-10",onClick:()=>t("/teacher/create-test"),children:[o.jsx(Ot,{className:"h-4 w-4 mr-1 sm:mr-2"}),o.jsx("span",{className:"hidden sm:inline",children:"Create"})," Test"]}),o.jsxs(V,{size:"sm",variant:"outline",className:"text-xs sm:text-sm h-9 sm:h-10",onClick:()=>t("/teacher/tests"),children:[o.jsx(rM,{className:"h-4 w-4 mr-1 sm:mr-2"}),"Tests"]}),o.jsxs(V,{size:"sm",variant:"outline",className:"text-xs sm:text-sm h-9 sm:h-10",onClick:()=>t("/teacher/submissions"),children:[o.jsx(lr,{className:"h-4 w-4 mr-1 sm:mr-2"}),"Submissions"]}),o.jsxs(V,{size:"sm",variant:"outline",className:"text-xs sm:text-sm h-9 sm:h-10",onClick:()=>t("/teacher/classes"),children:[o.jsx(Ls,{className:"h-4 w-4 mr-1 sm:mr-2"}),"Classes"]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[o.jsxs(J,{className:"bg-card",children:[o.jsxs(xe,{className:"p-4 sm:p-6",children:[o.jsxs(ye,{className:"flex items-center gap-2 text-base sm:text-lg",children:[o.jsx(Xo,{className:"h-5 w-5 text-chart-3"}),"Pending Submissions"]}),o.jsx(Ie,{className:"text-xs sm:text-sm",children:"Submissions awaiting your review"})]}),o.jsx(ee,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:d.length>0?o.jsx("div",{className:"space-y-3 sm:space-y-4",children:d.slice(0,4).map(w=>o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-3 p-3 bg-accent rounded-lg",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm sm:text-base text-foreground",children:w.studentName}),o.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:["Score: ",w.totalAutoScore," (auto-graded)"]})]}),o.jsx(V,{size:"sm",variant:"outline",className:"w-full sm:w-auto text-xs sm:text-sm",onClick:()=>t(`/teacher/submission/${w.id}`),children:"Review"})]},w.id))}):o.jsxs("div",{className:"text-center py-6 sm:py-8 text-muted-foreground",children:[o.jsx(Xo,{className:"h-10 w-10 sm:h-12 sm:w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{className:"text-sm",children:"No pending submissions"})]})})]}),o.jsxs(J,{className:"bg-card",children:[o.jsxs(xe,{className:"p-4 sm:p-6",children:[o.jsxs(ye,{className:"flex items-center gap-2 text-base sm:text-lg",children:[o.jsx(ms,{className:"h-5 w-5 text-primary"}),"Recent Tests"]}),o.jsx(Ie,{className:"text-xs sm:text-sm",children:"Your recently created assessments"})]}),o.jsxs(ee,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:[i.length>0?o.jsx("div",{className:"space-y-3 sm:space-y-4",children:i.slice(0,4).map(w=>o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 p-3 bg-accent rounded-lg",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm sm:text-base text-foreground",children:w.title}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(Fe,{variant:"outline",className:"text-xs",children:w.type}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[w.duration," min"]})]})]}),o.jsx(Fe,{variant:"secondary",className:`text-xs w-fit ${w.published?"bg-chart-1/20 text-chart-1":"bg-chart-3/20 text-chart-3"}`,children:w.published?"Published":"Draft"})]},w.id))}):o.jsxs("div",{className:"text-center py-6 sm:py-8 text-muted-foreground",children:[o.jsx(ms,{className:"h-10 w-10 sm:h-12 sm:w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{className:"text-sm",children:"No tests created yet"})]}),o.jsxs(V,{variant:"outline",className:"w-full mt-4 text-sm",onClick:()=>t("/teacher/create-test"),children:[o.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Create New Test"]})]})]})]})]})})};function s_(t,[e,n]){return Math.min(n,Math.max(e,t))}var PV=[" ","Enter","ArrowUp","ArrowDown"],AV=[" ","Enter"],uo="Select",[Tf,If,MV]=Fc(uo),[sl,w9]=It(uo,[MV,za]),Rf=za(),[OV,Si]=sl(uo),[DV,LV]=sl(uo),VT=t=>{const{__scopeSelect:e,children:n,open:s,defaultOpen:r,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:d,disabled:m,required:p,form:w}=t,g=Rf(e),[b,x]=f.useState(null),[v,y]=f.useState(null),[N,_]=f.useState(!1),S=el(u),[C,E]=En({prop:s,defaultProp:r??!1,onChange:i,caller:uo}),[k,I]=En({prop:a,defaultProp:l,onChange:c,caller:uo}),L=f.useRef(null),M=b?w||!!b.closest("form"):!0,[z,R]=f.useState(new Set),W=Array.from(z).map(K=>K.props.value).join(";");return o.jsx(GC,{...g,children:o.jsxs(OV,{required:p,scope:e,trigger:b,onTriggerChange:x,valueNode:v,onValueNodeChange:y,valueNodeHasChildren:N,onValueNodeHasChildrenChange:_,contentId:Un(),value:k,onValueChange:I,open:C,onOpenChange:E,dir:S,triggerPointerDownPosRef:L,disabled:m,children:[o.jsx(Tf.Provider,{scope:e,children:o.jsx(DV,{scope:t.__scopeSelect,onNativeOptionAdd:f.useCallback(K=>{R(Z=>new Set(Z).add(K))},[]),onNativeOptionRemove:f.useCallback(K=>{R(Z=>{const P=new Set(Z);return P.delete(K),P})},[]),children:n})}),M?o.jsxs(fI,{"aria-hidden":!0,required:p,tabIndex:-1,name:h,autoComplete:d,value:k,onChange:K=>I(K.target.value),disabled:m,form:w,children:[k===void 0?o.jsx("option",{value:""}):null,Array.from(z)]},W):null]})})};VT.displayName=uo;var WT="SelectTrigger",HT=f.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:s=!1,...r}=t,i=Rf(n),a=Si(WT,n),l=a.disabled||s,c=Ne(e,a.onTriggerChange),u=If(n),h=f.useRef("touch"),[d,m,p]=pI(g=>{const b=u().filter(y=>!y.disabled),x=b.find(y=>y.value===a.value),v=gI(b,g,x);v!==void 0&&a.onValueChange(v.value)}),w=g=>{l||(a.onOpenChange(!0),p()),g&&(a.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return o.jsx(Kx,{asChild:!0,...i,children:o.jsx(se.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":mI(a.value)?"":void 0,...r,ref:c,onClick:H(r.onClick,g=>{g.currentTarget.focus(),h.current!=="mouse"&&w(g)}),onPointerDown:H(r.onPointerDown,g=>{h.current=g.pointerType;const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(w(g),g.preventDefault())}),onKeyDown:H(r.onKeyDown,g=>{const b=d.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(b&&g.key===" ")&&PV.includes(g.key)&&(w(),g.preventDefault())})})})});HT.displayName=WT;var GT="SelectValue",KT=f.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:r,children:i,placeholder:a="",...l}=t,c=Si(GT,n),{onValueNodeHasChildrenChange:u}=c,h=i!==void 0,d=Ne(e,c.onValueNodeChange);return ft(()=>{u(h)},[u,h]),o.jsx(se.span,{...l,ref:d,style:{pointerEvents:"none"},children:mI(c.value)?o.jsx(o.Fragment,{children:a}):i})});KT.displayName=GT;var FV="SelectIcon",QT=f.forwardRef((t,e)=>{const{__scopeSelect:n,children:s,...r}=t;return o.jsx(se.span,{"aria-hidden":!0,...r,ref:e,children:s||""})});QT.displayName=FV;var $V="SelectPortal",qT=t=>o.jsx($c,{asChild:!0,...t});qT.displayName=$V;var ho="SelectContent",YT=f.forwardRef((t,e)=>{const n=Si(ho,t.__scopeSelect),[s,r]=f.useState();if(ft(()=>{r(new DocumentFragment)},[]),!n.open){const i=s;return i?go.createPortal(o.jsx(XT,{scope:t.__scopeSelect,children:o.jsx(Tf.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),i):null}return o.jsx(JT,{...t,ref:e})});YT.displayName=ho;var Zn=10,[XT,Ei]=sl(ho),UV="SelectContentImpl",zV=Ji("SelectContent.RemoveScroll"),JT=f.forwardRef((t,e)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:d,collisionBoundary:m,collisionPadding:p,sticky:w,hideWhenDetached:g,avoidCollisions:b,...x}=t,v=Si(ho,n),[y,N]=f.useState(null),[_,S]=f.useState(null),C=Ne(e,T=>N(T)),[E,k]=f.useState(null),[I,L]=f.useState(null),M=If(n),[z,R]=f.useState(!1),W=f.useRef(!1);f.useEffect(()=>{if(y)return ry(y)},[y]),sy();const K=f.useCallback(T=>{const[G,...oe]=M().map(me=>me.ref.current),[ie]=oe.slice(-1),ae=document.activeElement;for(const me of T)if(me===ae||(me==null||me.scrollIntoView({block:"nearest"}),me===G&&_&&(_.scrollTop=0),me===ie&&_&&(_.scrollTop=_.scrollHeight),me==null||me.focus(),document.activeElement!==ae))return},[M,_]),Z=f.useCallback(()=>K([E,y]),[K,E,y]);f.useEffect(()=>{z&&Z()},[z,Z]);const{onOpenChange:P,triggerPointerDownPosRef:j}=v;f.useEffect(()=>{if(y){let T={x:0,y:0};const G=ie=>{var ae,me;T={x:Math.abs(Math.round(ie.pageX)-(((ae=j.current)==null?void 0:ae.x)??0)),y:Math.abs(Math.round(ie.pageY)-(((me=j.current)==null?void 0:me.y)??0))}},oe=ie=>{T.x<=10&&T.y<=10?ie.preventDefault():y.contains(ie.target)||P(!1),document.removeEventListener("pointermove",G),j.current=null};return j.current!==null&&(document.addEventListener("pointermove",G),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",G),document.removeEventListener("pointerup",oe,{capture:!0})}}},[y,P,j]),f.useEffect(()=>{const T=()=>P(!1);return window.addEventListener("blur",T),window.addEventListener("resize",T),()=>{window.removeEventListener("blur",T),window.removeEventListener("resize",T)}},[P]);const[A,D]=pI(T=>{const G=M().filter(ae=>!ae.disabled),oe=G.find(ae=>ae.ref.current===document.activeElement),ie=gI(G,T,oe);ie&&setTimeout(()=>ie.ref.current.focus())}),$=f.useCallback((T,G,oe)=>{const ie=!W.current&&!oe;(v.value!==void 0&&v.value===G||ie)&&(k(T),ie&&(W.current=!0))},[v.value]),Y=f.useCallback(()=>y==null?void 0:y.focus(),[y]),Q=f.useCallback((T,G,oe)=>{const ie=!W.current&&!oe;(v.value!==void 0&&v.value===G||ie)&&L(T)},[v.value]),de=s==="popper"?jg:ZT,ce=de===jg?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:d,collisionBoundary:m,collisionPadding:p,sticky:w,hideWhenDetached:g,avoidCollisions:b}:{};return o.jsx(XT,{scope:n,content:y,viewport:_,onViewportChange:S,itemRefCallback:$,selectedItem:E,onItemLeave:Y,itemTextRefCallback:Q,focusSelectedItem:Z,selectedItemText:I,position:s,isPositioned:z,searchRef:A,children:o.jsx(vf,{as:zV,allowPinchZoom:!0,children:o.jsx(gf,{asChild:!0,trapped:v.open,onMountAutoFocus:T=>{T.preventDefault()},onUnmountAutoFocus:H(r,T=>{var G;(G=v.trigger)==null||G.focus({preventScroll:!0}),T.preventDefault()}),children:o.jsx(La,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:T=>T.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:o.jsx(de,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:T=>T.preventDefault(),...x,...ce,onPlaced:()=>R(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:H(x.onKeyDown,T=>{const G=T.ctrlKey||T.altKey||T.metaKey;if(T.key==="Tab"&&T.preventDefault(),!G&&T.key.length===1&&D(T.key),["ArrowUp","ArrowDown","Home","End"].includes(T.key)){let ie=M().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);if(["ArrowUp","End"].includes(T.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(T.key)){const ae=T.target,me=ie.indexOf(ae);ie=ie.slice(me+1)}setTimeout(()=>K(ie)),T.preventDefault()}})})})})})})});JT.displayName=UV;var BV="SelectItemAlignedPosition",ZT=f.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:s,...r}=t,i=Si(ho,n),a=Ei(ho,n),[l,c]=f.useState(null),[u,h]=f.useState(null),d=Ne(e,C=>h(C)),m=If(n),p=f.useRef(!1),w=f.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:x,focusSelectedItem:v}=a,y=f.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&g&&b&&x){const C=i.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),k=i.valueNode.getBoundingClientRect(),I=x.getBoundingClientRect();if(i.dir!=="rtl"){const ae=I.left-E.left,me=k.left-ae,tt=C.left-me,Oe=C.width+tt,te=Math.max(Oe,E.width),le=window.innerWidth-Zn,Ae=s_(me,[Zn,Math.max(Zn,le-te)]);l.style.minWidth=Oe+"px",l.style.left=Ae+"px"}else{const ae=E.right-I.right,me=window.innerWidth-k.right-ae,tt=window.innerWidth-C.right-me,Oe=C.width+tt,te=Math.max(Oe,E.width),le=window.innerWidth-Zn,Ae=s_(me,[Zn,Math.max(Zn,le-te)]);l.style.minWidth=Oe+"px",l.style.right=Ae+"px"}const L=m(),M=window.innerHeight-Zn*2,z=g.scrollHeight,R=window.getComputedStyle(u),W=parseInt(R.borderTopWidth,10),K=parseInt(R.paddingTop,10),Z=parseInt(R.borderBottomWidth,10),P=parseInt(R.paddingBottom,10),j=W+K+z+P+Z,A=Math.min(b.offsetHeight*5,j),D=window.getComputedStyle(g),$=parseInt(D.paddingTop,10),Y=parseInt(D.paddingBottom,10),Q=C.top+C.height/2-Zn,de=M-Q,ce=b.offsetHeight/2,T=b.offsetTop+ce,G=W+K+T,oe=j-G;if(G<=Q){const ae=L.length>0&&b===L[L.length-1].ref.current;l.style.bottom="0px";const me=u.clientHeight-g.offsetTop-g.offsetHeight,tt=Math.max(de,ce+(ae?Y:0)+me+Z),Oe=G+tt;l.style.height=Oe+"px"}else{const ae=L.length>0&&b===L[0].ref.current;l.style.top="0px";const tt=Math.max(Q,W+g.offsetTop+(ae?$:0)+ce)+oe;l.style.height=tt+"px",g.scrollTop=G-Q+g.offsetTop}l.style.margin=`${Zn}px 0`,l.style.minHeight=A+"px",l.style.maxHeight=M+"px",s==null||s(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,l,u,g,b,x,i.dir,s]);ft(()=>y(),[y]);const[N,_]=f.useState();ft(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const S=f.useCallback(C=>{C&&w.current===!0&&(y(),v==null||v(),w.current=!1)},[y,v]);return o.jsx(WV,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:o.jsx(se.div,{...r,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});ZT.displayName=BV;var VV="SelectPopperPosition",jg=f.forwardRef((t,e)=>{const{__scopeSelect:n,align:s="start",collisionPadding:r=Zn,...i}=t,a=Rf(n);return o.jsx(Qx,{...a,...i,ref:e,align:s,collisionPadding:r,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});jg.displayName=VV;var[WV,xy]=sl(ho,{}),kg="SelectViewport",eI=f.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:s,...r}=t,i=Ei(kg,n),a=xy(kg,n),l=Ne(e,i.onViewportChange),c=f.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(Tf.Slot,{scope:n,children:o.jsx(se.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:H(r.onScroll,u=>{const h=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&d){const p=Math.abs(c.current-h.scrollTop);if(p>0){const w=window.innerHeight-Zn*2,g=parseFloat(d.style.minHeight),b=parseFloat(d.style.height),x=Math.max(g,b);if(x<w){const v=x+p,y=Math.min(w,v),N=v-y;d.style.height=y+"px",d.style.bottom==="0px"&&(h.scrollTop=N>0?N:0,d.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});eI.displayName=kg;var tI="SelectGroup",[HV,GV]=sl(tI),KV=f.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,r=Un();return o.jsx(HV,{scope:n,id:r,children:o.jsx(se.div,{role:"group","aria-labelledby":r,...s,ref:e})})});KV.displayName=tI;var nI="SelectLabel",sI=f.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,r=GV(nI,n);return o.jsx(se.div,{id:r.id,...s,ref:e})});sI.displayName=nI;var ph="SelectItem",[QV,rI]=sl(ph),iI=f.forwardRef((t,e)=>{const{__scopeSelect:n,value:s,disabled:r=!1,textValue:i,...a}=t,l=Si(ph,n),c=Ei(ph,n),u=l.value===s,[h,d]=f.useState(i??""),[m,p]=f.useState(!1),w=Ne(e,v=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,v,s,r)}),g=Un(),b=f.useRef("touch"),x=()=>{r||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(QV,{scope:n,value:s,disabled:r,textId:g,isSelected:u,onItemTextChange:f.useCallback(v=>{d(y=>y||((v==null?void 0:v.textContent)??"").trim())},[]),children:o.jsx(Tf.ItemSlot,{scope:n,value:s,disabled:r,textValue:h,children:o.jsx(se.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...a,ref:w,onFocus:H(a.onFocus,()=>p(!0)),onBlur:H(a.onBlur,()=>p(!1)),onClick:H(a.onClick,()=>{b.current!=="mouse"&&x()}),onPointerUp:H(a.onPointerUp,()=>{b.current==="mouse"&&x()}),onPointerDown:H(a.onPointerDown,v=>{b.current=v.pointerType}),onPointerMove:H(a.onPointerMove,v=>{var y;b.current=v.pointerType,r?(y=c.onItemLeave)==null||y.call(c):b.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:H(a.onPointerLeave,v=>{var y;v.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:H(a.onKeyDown,v=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&v.key===" "||(AV.includes(v.key)&&x(),v.key===" "&&v.preventDefault())})})})})});iI.displayName=ph;var El="SelectItemText",oI=f.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:r,...i}=t,a=Si(El,n),l=Ei(El,n),c=rI(El,n),u=LV(El,n),[h,d]=f.useState(null),m=Ne(e,x=>d(x),c.onItemTextChange,x=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,x,c.value,c.disabled)}),p=h==null?void 0:h.textContent,w=f.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=u;return ft(()=>(g(w),()=>b(w)),[g,b,w]),o.jsxs(o.Fragment,{children:[o.jsx(se.span,{id:c.textId,...i,ref:m}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?go.createPortal(i.children,a.valueNode):null]})});oI.displayName=El;var aI="SelectItemIndicator",lI=f.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return rI(aI,n).isSelected?o.jsx(se.span,{"aria-hidden":!0,...s,ref:e}):null});lI.displayName=aI;var Tg="SelectScrollUpButton",cI=f.forwardRef((t,e)=>{const n=Ei(Tg,t.__scopeSelect),s=xy(Tg,t.__scopeSelect),[r,i]=f.useState(!1),a=Ne(e,s.onScrollButtonChange);return ft(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),r?o.jsx(dI,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});cI.displayName=Tg;var Ig="SelectScrollDownButton",uI=f.forwardRef((t,e)=>{const n=Ei(Ig,t.__scopeSelect),s=xy(Ig,t.__scopeSelect),[r,i]=f.useState(!1),a=Ne(e,s.onScrollButtonChange);return ft(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;i(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),r?o.jsx(dI,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});uI.displayName=Ig;var dI=f.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:s,...r}=t,i=Ei("SelectScrollButton",n),a=f.useRef(null),l=If(n),c=f.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),ft(()=>{var h;const u=l().find(d=>d.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),o.jsx(se.div,{"aria-hidden":!0,...r,ref:e,style:{flexShrink:0,...r.style},onPointerDown:H(r.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(s,50))}),onPointerMove:H(r.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(s,50))}),onPointerLeave:H(r.onPointerLeave,()=>{c()})})}),qV="SelectSeparator",hI=f.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return o.jsx(se.div,{"aria-hidden":!0,...s,ref:e})});hI.displayName=qV;var Rg="SelectArrow",YV=f.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,r=Rf(n),i=Si(Rg,n),a=Ei(Rg,n);return i.open&&a.position==="popper"?o.jsx(qx,{...r,...s,ref:e}):null});YV.displayName=Rg;var XV="SelectBubbleInput",fI=f.forwardRef(({__scopeSelect:t,value:e,...n},s)=>{const r=f.useRef(null),i=Ne(s,r),a=df(e);return f.useEffect(()=>{const l=r.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&h){const d=new Event("change",{bubbles:!0});h.call(l,e),l.dispatchEvent(d)}},[a,e]),o.jsx(se.select,{...n,style:{...PN,...n.style},ref:i,defaultValue:e})});fI.displayName=XV;function mI(t){return t===""||t===void 0}function pI(t){const e=Zt(t),n=f.useRef(""),s=f.useRef(0),r=f.useCallback(a=>{const l=n.current+a;e(l),function c(u){n.current=u,window.clearTimeout(s.current),u!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=f.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,r,i]}function gI(t,e,n){const r=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=JV(t,Math.max(i,0));r.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(r.toLowerCase()));return c!==n?c:void 0}function JV(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var ZV=VT,xI=HT,eW=KT,tW=QT,nW=qT,vI=YT,sW=eI,yI=sI,wI=iI,rW=oI,iW=lI,bI=cI,_I=uI,NI=hI;const Hi=ZV,Gi=eW,ui=f.forwardRef(({className:t,children:e,...n},s)=>o.jsxs(xI,{ref:s,className:q("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,o.jsx(tW,{asChild:!0,children:o.jsx(Bc,{className:"h-4 w-4 opacity-50"})})]}));ui.displayName=xI.displayName;const CI=f.forwardRef(({className:t,...e},n)=>o.jsx(bI,{ref:n,className:q("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(sC,{className:"h-4 w-4"})}));CI.displayName=bI.displayName;const SI=f.forwardRef(({className:t,...e},n)=>o.jsx(_I,{ref:n,className:q("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(Bc,{className:"h-4 w-4"})}));SI.displayName=_I.displayName;const di=f.forwardRef(({className:t,children:e,position:n="popper",...s},r)=>o.jsx(nW,{children:o.jsxs(vI,{ref:r,className:q("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...s,children:[o.jsx(CI,{}),o.jsx(sW,{className:q("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(SI,{})]})}));di.displayName=vI.displayName;const oW=f.forwardRef(({className:t,...e},n)=>o.jsx(yI,{ref:n,className:q("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));oW.displayName=yI.displayName;const Pt=f.forwardRef(({className:t,children:e,...n},s)=>o.jsxs(wI,{ref:s,className:q("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(iW,{children:o.jsx(Br,{className:"h-4 w-4"})})}),o.jsx(rW,{children:e})]}));Pt.displayName=wI.displayName;const aW=f.forwardRef(({className:t,...e},n)=>o.jsx(NI,{ref:n,className:q("-mx-1 my-1 h-px bg-muted",t),...e}));aW.displayName=NI.displayName;var Pf="Collapsible",[lW,EI]=It(Pf),[cW,vy]=lW(Pf),jI=f.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:s,defaultOpen:r,disabled:i,onOpenChange:a,...l}=t,[c,u]=En({prop:s,defaultProp:r??!1,onChange:a,caller:Pf});return o.jsx(cW,{scope:n,disabled:i,contentId:Un(),open:c,onOpenToggle:f.useCallback(()=>u(h=>!h),[u]),children:o.jsx(se.div,{"data-state":_y(c),"data-disabled":i?"":void 0,...l,ref:e})})});jI.displayName=Pf;var kI="CollapsibleTrigger",yy=f.forwardRef((t,e)=>{const{__scopeCollapsible:n,...s}=t,r=vy(kI,n);return o.jsx(se.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":_y(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...s,ref:e,onClick:H(t.onClick,r.onOpenToggle)})});yy.displayName=kI;var wy="CollapsibleContent",by=f.forwardRef((t,e)=>{const{forceMount:n,...s}=t,r=vy(wy,t.__scopeCollapsible);return o.jsx(gn,{present:n||r.open,children:({present:i})=>o.jsx(uW,{...s,ref:e,present:i})})});by.displayName=wy;var uW=f.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:s,children:r,...i}=t,a=vy(wy,n),[l,c]=f.useState(s),u=f.useRef(null),h=Ne(e,u),d=f.useRef(0),m=d.current,p=f.useRef(0),w=p.current,g=a.open||l,b=f.useRef(g),x=f.useRef(void 0);return f.useEffect(()=>{const v=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(v)},[]),ft(()=>{const v=u.current;if(v){x.current=x.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const y=v.getBoundingClientRect();d.current=y.height,p.current=y.width,b.current||(v.style.transitionDuration=x.current.transitionDuration,v.style.animationName=x.current.animationName),c(s)}},[a.open,s]),o.jsx(se.div,{"data-state":_y(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!g,...i,ref:h,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...t.style},children:g&&r})});function _y(t){return t?"open":"closed"}var TI=jI,dW=yy,hW=by;const fW=TI,mW=yy,pW=by;var Af="Dialog",[II,b9]=It(Af),[gW,bs]=II(Af),RI=t=>{const{__scopeDialog:e,children:n,open:s,defaultOpen:r,onOpenChange:i,modal:a=!0}=t,l=f.useRef(null),c=f.useRef(null),[u,h]=En({prop:s,defaultProp:r??!1,onChange:i,caller:Af});return o.jsx(gW,{scope:e,triggerRef:l,contentRef:c,contentId:Un(),titleId:Un(),descriptionId:Un(),open:u,onOpenChange:h,onOpenToggle:f.useCallback(()=>h(d=>!d),[h]),modal:a,children:n})};RI.displayName=Af;var PI="DialogTrigger",AI=f.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=bs(PI,n),i=Ne(e,r.triggerRef);return o.jsx(se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Sy(r.open),...s,ref:i,onClick:H(t.onClick,r.onOpenToggle)})});AI.displayName=PI;var Ny="DialogPortal",[xW,MI]=II(Ny,{forceMount:void 0}),OI=t=>{const{__scopeDialog:e,forceMount:n,children:s,container:r}=t,i=bs(Ny,e);return o.jsx(xW,{scope:e,forceMount:n,children:f.Children.map(s,a=>o.jsx(gn,{present:n||i.open,children:o.jsx($c,{asChild:!0,container:r,children:a})}))})};OI.displayName=Ny;var gh="DialogOverlay",DI=f.forwardRef((t,e)=>{const n=MI(gh,t.__scopeDialog),{forceMount:s=n.forceMount,...r}=t,i=bs(gh,t.__scopeDialog);return i.modal?o.jsx(gn,{present:s||i.open,children:o.jsx(yW,{...r,ref:e})}):null});DI.displayName=gh;var vW=Ji("DialogOverlay.RemoveScroll"),yW=f.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=bs(gh,n);return o.jsx(vf,{as:vW,allowPinchZoom:!0,shards:[r.contentRef],children:o.jsx(se.div,{"data-state":Sy(r.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),fo="DialogContent",LI=f.forwardRef((t,e)=>{const n=MI(fo,t.__scopeDialog),{forceMount:s=n.forceMount,...r}=t,i=bs(fo,t.__scopeDialog);return o.jsx(gn,{present:s||i.open,children:i.modal?o.jsx(wW,{...r,ref:e}):o.jsx(bW,{...r,ref:e})})});LI.displayName=fo;var wW=f.forwardRef((t,e)=>{const n=bs(fo,t.__scopeDialog),s=f.useRef(null),r=Ne(e,n.contentRef,s);return f.useEffect(()=>{const i=s.current;if(i)return ry(i)},[]),o.jsx(FI,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:H(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:H(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:H(t.onFocusOutside,i=>i.preventDefault())})}),bW=f.forwardRef((t,e)=>{const n=bs(fo,t.__scopeDialog),s=f.useRef(!1),r=f.useRef(!1);return o.jsx(FI,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&r.current&&i.preventDefault()}})}),FI=f.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:i,...a}=t,l=bs(fo,n),c=f.useRef(null),u=Ne(e,c);return sy(),o.jsxs(o.Fragment,{children:[o.jsx(gf,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:i,children:o.jsx(La,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Sy(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(_W,{titleId:l.titleId}),o.jsx(CW,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Cy="DialogTitle",$I=f.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=bs(Cy,n);return o.jsx(se.h2,{id:r.titleId,...s,ref:e})});$I.displayName=Cy;var UI="DialogDescription",zI=f.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=bs(UI,n);return o.jsx(se.p,{id:r.descriptionId,...s,ref:e})});zI.displayName=UI;var BI="DialogClose",VI=f.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=bs(BI,n);return o.jsx(se.button,{type:"button",...s,ref:e,onClick:H(t.onClick,()=>r.onOpenChange(!1))})});VI.displayName=BI;function Sy(t){return t?"open":"closed"}var WI="DialogTitleWarning",[_9,HI]=sA(WI,{contentName:fo,titleName:Cy,docsSlug:"dialog"}),_W=({titleId:t})=>{const e=HI(WI),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return f.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},NW="DialogDescriptionWarning",CW=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${HI(NW).contentName}}.`;return f.useEffect(()=>{var i;const r=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},SW=RI,EW=AI,jW=OI,GI=DI,KI=LI,QI=$I,qI=zI,kW=VI;const YI=SW,XI=EW,TW=jW,JI=f.forwardRef(({className:t,...e},n)=>o.jsx(GI,{ref:n,className:q("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));JI.displayName=GI.displayName;const Ey=f.forwardRef(({className:t,children:e,...n},s)=>o.jsxs(TW,{children:[o.jsx(JI,{}),o.jsxs(KI,{ref:s,className:q("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,o.jsxs(kW,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(xo,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ey.displayName=KI.displayName;const jy=({className:t,...e})=>o.jsx("div",{className:q("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});jy.displayName="DialogHeader";const ZI=({className:t,...e})=>o.jsx("div",{className:q("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});ZI.displayName="DialogFooter";const ky=f.forwardRef(({className:t,...e},n)=>o.jsx(QI,{ref:n,className:q("text-lg font-semibold leading-none tracking-tight",t),...e}));ky.displayName=QI.displayName;const Ty=f.forwardRef(({className:t,...e},n)=>o.jsx(qI,{ref:n,className:q("text-sm text-muted-foreground",t),...e}));Ty.displayName=qI.displayName;const vl={mcq:1,blank:1,short:2,long:5},Du=["tngtech/deepseek-r1t2-chimera:free","deepseek/deepseek-chat","google/gemini-flash-1.5","openai/gpt-4o-mini"],IW=({selectedChapters:t,chapters:e,subjectName:n,totalMarks:s,currentQuestionMarks:r,onQuestionsGenerated:i})=>{const[a,l]=f.useState(!1),[c,u]=f.useState(!1),[h,d]=f.useState(!0),[m,p]=f.useState(!1),[w,g]=f.useState(0),[b,x]=f.useState(""),v=f.useRef(null),[y,N]=f.useState(5),[_,S]=f.useState(5),[C,E]=f.useState(3),[k,I]=f.useState(2),[L,M]=f.useState(vl.mcq),[z,R]=f.useState(vl.blank),[W,K]=f.useState(vl.short),[Z,P]=f.useState(vl.long),[j,A]=f.useState("setup");f.useEffect(()=>{a&&(async()=>{var le;d(!0);try{const Ae=he(fe,"config/openrouterKey"),$t=await On(Ae);p($t.exists()&&((le=$t.val())==null?void 0:le.trim().length)>0)}catch(Ae){console.error("Error checking API config:",Ae),p(!1)}finally{d(!1)}})()},[a]);const D=()=>e.filter(le=>t.includes(le.id)).map(le=>`Chapter: ${le.title}
Content: ${le.content}`).join(`

---

`),$=()=>e.filter(le=>t.includes(le.id)).map(le=>le.title).join(", "),Y=y*L+_*z+C*W+k*Z,Q=s-r,de=Y>Q,ce=y+_+C+k,T=(te,le)=>{x(te),g(Ae=>Math.max(Ae,Math.min(100,le)))},G=()=>{v.current!==null&&(window.clearInterval(v.current),v.current=null)},oe=(te,le,Ae,$t)=>new Promise(Xe=>{G(),x($t);const gt=50,mt=Math.max(1,Math.floor(Ae/gt)),In=(le-te)/mt;let Re=te;g(Math.max(0,Math.min(100,Math.floor(Re)))),v.current=window.setInterval(()=>{if(Re+=In,Re>=le){Re=le,G(),g(Math.max(0,Math.min(100,Math.floor(Re)))),Xe();return}g(Math.max(0,Math.min(100,Math.floor(Re))))},gt)}),ie=async(te,le)=>{G(),x(le.message),g(Xe=>Math.max(Xe,le.start));const Ae=120;v.current=window.setInterval(()=>{g(Xe=>Xe>=le.end-1?Xe:Xe+1)},Ae);const $t=Date.now();try{const Xe=await te,gt=le.minMs??900,mt=Date.now()-$t;return mt<gt&&await new Promise(In=>setTimeout(In,gt-mt)),Xe}finally{G(),g(Xe=>Math.max(Xe,le.end))}},ae=te=>{if(te==null)return;if(typeof te=="number"&&Number.isFinite(te))return`option${Math.max(0,Math.min(3,te))}`;if(typeof te!="string")return;const le=te.trim();if(!le)return;if(/^option[0-3]$/i.test(le))return le.toLowerCase();const Ae=le.toUpperCase();if(["A","B","C","D"].includes(Ae))return`option${Ae.charCodeAt(0)-65}`},me=te=>{let le=te.trim();le=le.replace(/<think>[\s\S]*?<\/think>/gi,"").trim(),le=le.replace(/^```(?:json)?\s*/i,""),le=le.replace(/\s*```$/i,""),le=le.trim();let Ae=le.match(/\[[\s\S]*\]/);if(!Ae){const gt=le.match(/"questions"\s*:\s*(\[[\s\S]*\])/i);gt&&(Ae=[gt[1]])}Ae&&(le=Ae[0]);const $t=gt=>{let mt=gt.replace(/[]/g,'"').replace(/[]/g,"'").replace(/,\s*]/g,"]").replace(/,\s*}/g,"}").replace(/\r/g,"").replace(/\t/g," ").replace(/\u00A0/g," ").replace(/\n/g," ");return mt=mt.replace(/\s{2,}/g," "),mt.trim()},Xe=gt=>{const mt=JSON.parse($t(gt));if(!Array.isArray(mt))throw new Error("Response is not an array");return mt};try{return Xe(le)}catch{const gt=le.replace(/([{,]\s*)'([^']+?)'\s*:/g,'$1"$2":').replace(/:\s*'([^']*?)'(\s*[},])/g,': "$1"$2');return Xe(gt)}},tt=async()=>{if(!m){X({title:"Configuration Error",description:"OpenRouter API key is not configured in the database. Please contact your administrator.",variant:"destructive"});return}if(de){X({title:"Marks Exceeded",description:`Generated questions would use ${Y} marks, but only ${Q} are available.`,variant:"destructive"});return}const te=D(),le=$();if(!te.trim()){X({title:"Error",description:"No chapter content available. Please select chapters with content.",variant:"destructive"});return}if(ce===0){X({title:"Error",description:"Please set at least one question to generate",variant:"destructive"});return}u(!0),g(0),x(""),A("progress");try{await oe(0,18,450,"Preparing chapter content...");const Ae=await ie((async()=>{try{const Re=he(fe,"config/openrouterKey"),Nt=(await On(Re)).val(),ve=typeof Nt=="string"?Nt.trim():"";if(!ve)throw new Error("API key not found in database configuration (config/openrouterKey).");return ve}catch(Re){const je=typeof(Re==null?void 0:Re.message)=="string"?Re.message:"";throw je.toLowerCase().includes("permission")||je.toLowerCase().includes("denied")?new Error("Permission denied reading config/openrouterKey. Update your Firebase RTDB rules to allow teachers to read this path."):Re}})(),{start:18,end:28,message:"Reading API configuration...",minMs:250});await oe(28,35,350,"Building prompt...");const $t=`You are an expert teacher creating questions for a test.

SUBJECT: ${n}
CHAPTER(S): ${le}

CHAPTER CONTENT:
${te}

TASK: Generate questions ONLY from the above chapter content. Do not use external knowledge.

Generate exactly:
${y>0?`- ${y} Multiple Choice Questions (MCQ) with 4 options each, ${L} mark(s) each`:""}
${_>0?`- ${_} Fill in the Blank questions, ${z} mark(s) each`:""}
${C>0?`- ${C} Short Answer questions, ${W} mark(s) each`:""}
${k>0?`- ${k} Long Answer questions, ${Z} mark(s) each`:""}

IMPORTANT: Respond ONLY with a valid JSON array. No markdown, no code blocks, no explanation, no chain-of-thought, no reasoning tags.

Each question must follow this exact format:

For MCQ:
{"type": "mcq", "text": "Question text?", "options": ["Option A", "Option B", "Option C", "Option D"], "correctAnswer": "option0", "marks": ${L}}
Note: correctAnswer must be "option0", "option1", "option2", or "option3" (index of correct option).

For Fill in the Blank:
{"type": "blank", "text": "The _____ is the answer.", "correctAnswer": "missing word", "marks": ${z}}

For Short Answer:
{"type": "short", "text": "What is...?", "marks": ${W}}

For Long Answer:
{"type": "long", "text": "Explain in detail...", "marks": ${Z}}

OUTPUT ONLY THE JSON ARRAY:`,Xe={0:"You are a JSON generator. You must return ONLY a valid JSON array of questions. Do not include markdown, commentary, or any extra keys.",1:"Return ONLY a JSON array. If you include anything else (markdown, prose, XML, etc.), the user application will break.",2:"CRITICAL: Output must be a single JSON array. No code fences, no natural language, no reasoning.",3:"FINAL ATTEMPT: Respond with a bare JSON array following the described question schema. Any other format is considered failure."},gt=async(Re,je)=>{var Ct;const Nt=Xe[je]??Xe[3];let ve=null,it=0;const Hn=3;for(;it<Hn;)try{if(ve=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${Ae}`,Accept:"application/json","HTTP-Referer":window.location.origin,"X-Title":"Nexus Learn Test Creator","Content-Type":"application/json"},body:JSON.stringify({model:Re,messages:[{role:"system",content:Nt},{role:"user",content:$t}],temperature:.4,max_tokens:3e3})}),ve.ok)break;if((ve.status===429||ve.status>=500)&&(it++,it<Hn)){T(`Model ${je+1}: rate limited, retrying...`,40+it*5),await new Promise(Ue=>setTimeout(Ue,1500*it));continue}break}catch(Ue){if(it++,it>=Hn)throw(typeof(Ue==null?void 0:Ue.message)=="string"?Ue.message:"").toLowerCase().includes("failed to fetch")?new Error("Network/CORS error calling OpenRouter. If this persists, OpenRouter is blocking browser requests and we will need a server-side proxy."):Ue;T(`Model ${je+1}: network issue, retrying...`,40+it*5),await new Promise(We=>setTimeout(We,1500*it))}if(!ve||!ve.ok){let Ue=null,We="";if(ve){We=await ve.text().catch(()=>"");try{Ue=We?JSON.parse(We):null}catch{Ue=null}}const Gn=((Ct=Ue==null?void 0:Ue.error)==null?void 0:Ct.message)||((ve==null?void 0:ve.status)===429?"Rate limited. Please wait a moment and try again.":(ve==null?void 0:ve.status)===401?"Invalid API key. Please check the configuration.":(ve==null?void 0:ve.status)===403?"Forbidden. Check API key permissions and your OpenRouter account limits.":ve!=null&&ve.status?`API Error: ${ve.status}${We?`  ${We.slice(0,160)}`:""}`:"Network error");throw new Error(Gn)}return ve.json()},mt=await ie((async()=>{var je,Nt,ve,it,Hn;let Re=null;for(let Ct=0;Ct<Du.length;Ct++){const Ue=Du[Ct];try{T(`Using AI model ${Ct+1}/${Du.length}`,35+Ct*5);const We=await gt(Ue,Ct),Gn=((ve=(Nt=(je=We==null?void 0:We.choices)==null?void 0:je[0])==null?void 0:Nt.message)==null?void 0:ve.content)||(typeof((Hn=(it=We==null?void 0:We.choices)==null?void 0:it[0])==null?void 0:Hn.message)=="string"?We.choices[0].message:void 0);if(!Gn||!Gn.trim())throw new Error("No response from AI. Please try again.");try{const Kn=me(Gn);if(!Array.isArray(Kn)||Kn.length===0)throw new Error("No valid questions were generated.");return Kn}catch(Kn){throw console.error("Parse error for model",Ue,Kn,"Content:",Gn),new Error("Failed to parse AI response.")}}catch(We){console.warn(`Model ${Ue} failed`,We),Re=We,Ct<Du.length-1&&T("Retrying with backup AI model",45+Ct*5)}}throw Re||new Error("All AI models failed to generate questions. Please try again.")})(),{start:35,end:78,message:"Generating questions with AI",minMs:1600});await oe(78,85,300,"Parsing questions...");const In=[];for(let Re=0;Re<mt.length;Re++){const je=mt[Re];if(!je||typeof je!="object")continue;const Nt=typeof je.type=="string"?je.type.toLowerCase().trim():"",ve=Nt==="mcq"?"mcq":Nt==="blank"||Nt==="fillblank"||Nt==="fill_blanks"?"blank":Nt==="short"||Nt==="shortanswer"?"short":Nt==="long"||Nt==="longanswer"?"long":void 0,it=((typeof je.text=="string"?je.text:"")||(typeof je.question=="string"?je.question:"")||(typeof je.sentence=="string"?je.sentence:"")).trim();if(!ve||!it)continue;const Hn=typeof je.marks=="number"?je.marks:typeof je.marks=="string"?parseInt(je.marks,10):NaN,Ct={id:`ai-${Date.now()}-${Re}`,type:ve,text:it,marks:Number.isFinite(Hn)?Hn:vl[ve]||1};if(ve==="mcq"){const We=(Array.isArray(je.options)?je.options:Array.isArray(je.choices)?je.choices:[]).map(Kn=>String(Kn).trim()).filter(Boolean);for(;We.length<4;)We.push(`Option ${We.length+1}`);Ct.options=We.slice(0,4);const Gn=ae(je.correctAnswer??je.answer);Ct.correctAnswer=Gn??"option0"}if(ve==="blank"){const Ue=je.correctAnswer??je.answer;Ct.correctAnswer=typeof Ue=="string"?Ue.trim():Ue!==void 0?String(Ue).trim():""}In.push(Ct)}if(In.length===0)throw new Error("No valid questions were generated. Please try again.");await oe(85,100,350,"Finalizing and formatting questions..."),i(In),X({title:"Questions Generated!",description:`Successfully generated ${In.length} questions (${In.reduce((Re,je)=>Re+je.marks,0)} marks) from "${le}".`}),l(!1)}catch(Ae){console.error("AI Generation Error:",Ae),X({title:"Generation Error",description:Ae instanceof Error?Ae.message:"Failed to generate questions. Please try again.",variant:"destructive"}),A("setup")}finally{G(),u(!1)}},Oe=(te,le)=>{const Ae=parseInt(le)||0;te(Math.max(0,Math.min(20,Ae)))};return o.jsxs(YI,{open:a,onOpenChange:te=>{l(te),te||(A("setup"),g(0),x(""))},children:[o.jsx(XI,{asChild:!0,children:o.jsxs(V,{variant:"outline",className:"gap-2 w-full sm:w-auto",children:[o.jsx(Io,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden xs:inline",children:"AI"})," Generate Questions"]})}),o.jsxs(Ey,{className:"w-[95vw] max-w-lg max-h-[90vh] overflow-y-auto",children:[o.jsxs(jy,{children:[o.jsxs(ky,{className:"flex items-center gap-2 text-base sm:text-lg",children:[o.jsx(Io,{className:"h-5 w-5 text-primary"}),"AI Question Generator"]}),o.jsx(Ty,{className:"text-xs sm:text-sm",children:"Generate questions automatically from your chapter content using AI."})]}),o.jsx("div",{className:"relative overflow-hidden py-2 sm:py-4",children:o.jsxs("div",{className:"flex w-[200%] transition-transform duration-500 ease-out",style:{transform:j==="setup"?"translateX(0%)":"translateX(-50%)"},children:[o.jsxs("div",{className:"w-1/2 pr-3 space-y-4 sm:space-y-6",children:[h?o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-lg",children:[o.jsx($n,{className:"h-4 w-4 animate-spin"}),o.jsx("span",{className:"text-sm",children:"Checking configuration..."})]}):m?o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-500/10 border border-green-500/20 rounded-lg",children:[o.jsx(Vr,{className:"h-4 w-4 text-green-500"}),o.jsx("span",{className:"text-sm text-green-700 dark:text-green-400",children:"AI service configured and ready"})]}):o.jsxs(cn,{variant:"destructive",children:[o.jsx(lc,{className:"h-4 w-4"}),o.jsxs(un,{className:"text-xs sm:text-sm",children:["AI service not configured. Please add the API key to the database at ",o.jsx("code",{className:"bg-muted px-1 rounded",children:"config/openrouterKey"})]})]}),t.length===0?o.jsxs(cn,{variant:"destructive",children:[o.jsx(lc,{className:"h-4 w-4"}),o.jsx(un,{className:"text-xs sm:text-sm",children:"Please select at least one chapter in Step 1 to generate questions."})]}):o.jsx(cn,{children:o.jsxs(un,{className:"text-xs sm:text-sm",children:["Generating from ",o.jsx("strong",{children:t.length})," chapter(s) in ",o.jsx("strong",{children:n}),o.jsx("div",{className:"mt-1 text-muted-foreground text-xs",children:$()})]})}),o.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[o.jsx(ue,{className:"text-sm font-medium",children:"Question Types & Marks"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Set how many questions you want for each type and how many marks each question should carry."}),o.jsxs("div",{className:"grid gap-3",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2 p-3 bg-muted/50 rounded-lg",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("span",{className:"text-xs sm:text-sm font-medium flex items-center gap-1",children:[o.jsx(Zi,{className:"h-3 w-3 text-primary"})," Multiple Choice (MCQ)"]}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[L," mark(s) each"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ce,{"aria-label":"MCQ marks per question",type:"number",min:1,max:20,value:L,onChange:te=>M(Math.max(1,Math.min(20,parseInt(te.target.value)||1))),className:"w-16 h-8 text-center text-xs sm:text-sm"}),o.jsx(Ce,{"aria-label":"MCQ question count",type:"number",min:0,max:20,value:y,onChange:te=>Oe(N,te.target.value),className:"w-16 h-8 text-center text-xs sm:text-sm"}),o.jsxs("span",{className:"text-xs text-muted-foreground w-20 text-right",children:["= ",y*L," marks"]})]})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2 p-3 bg-muted/50 rounded-lg",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Fill in the Blank"}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[z," mark(s) each"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ce,{"aria-label":"Blank marks per question",type:"number",min:1,max:20,value:z,onChange:te=>R(Math.max(1,Math.min(20,parseInt(te.target.value)||1))),className:"w-16 h-8 text-center text-xs sm:text-sm"}),o.jsx(Ce,{"aria-label":"Blank question count",type:"number",min:0,max:20,value:_,onChange:te=>Oe(S,te.target.value),className:"w-16 h-8 text-center text-xs sm:text-sm"}),o.jsxs("span",{className:"text-xs text-muted-foreground w-20 text-right",children:["= ",_*z," marks"]})]})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2 p-3 bg-muted/50 rounded-lg",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Short Answer"}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[W," mark(s) each"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ce,{"aria-label":"Short answer marks per question",type:"number",min:1,max:20,value:W,onChange:te=>K(Math.max(1,Math.min(20,parseInt(te.target.value)||1))),className:"w-16 h-8 text-center text-xs sm:text-sm"}),o.jsx(Ce,{"aria-label":"Short answer question count",type:"number",min:0,max:20,value:C,onChange:te=>Oe(E,te.target.value),className:"w-16 h-8 text-center text-xs sm:text-sm"}),o.jsxs("span",{className:"text-xs text-muted-foreground w-20 text-right",children:["= ",C*W," marks"]})]})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2 p-3 bg-muted/50 rounded-lg",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Long Answer"}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[Z," mark(s) each"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ce,{"aria-label":"Long answer marks per question",type:"number",min:1,max:20,value:Z,onChange:te=>P(Math.max(1,Math.min(20,parseInt(te.target.value)||1))),className:"w-16 h-8 text-center text-xs sm:text-sm"}),o.jsx(Ce,{"aria-label":"Long answer question count",type:"number",min:0,max:20,value:k,onChange:te=>Oe(I,te.target.value),className:"w-16 h-8 text-center text-xs sm:text-sm"}),o.jsxs("span",{className:"text-xs text-muted-foreground w-20 text-right",children:["= ",k*Z," marks"]})]})]})]})]}),o.jsxs("div",{className:"p-4 border rounded-lg space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Total Questions:"}),o.jsx("span",{className:"font-medium",children:ce})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Marks to Generate:"}),o.jsx("span",{className:`font-medium ${de?"text-destructive":"text-green-600"}`,children:Y})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Available Marks:"}),o.jsxs("span",{className:"font-medium",children:[Q," / ",s]})]}),o.jsxs("div",{className:"flex justify-between text-sm border-t pt-2",children:[o.jsx("span",{children:"After Generation:"}),o.jsxs("span",{className:`font-bold ${de?"text-destructive":""}`,children:[r+Y," / ",s]})]})]}),de&&o.jsxs(cn,{variant:"destructive",children:[o.jsx(Mx,{className:"h-4 w-4"}),o.jsxs(un,{className:"text-xs sm:text-sm",children:[o.jsx("strong",{children:"Marks exceeded!"})," Reduce the number of questions or their marks. You need to remove ",Y-Q," marks."]})]}),o.jsx(V,{onClick:tt,disabled:c||!m||t.length===0||ce===0||de,className:"w-full",size:"sm",children:c?o.jsxs(o.Fragment,{children:[o.jsx($n,{className:"mr-2 h-4 w-4 animate-spin"}),o.jsxs("span",{className:"text-xs sm:text-sm",children:["Generating ",ce," Questions..."]})]}):o.jsxs(o.Fragment,{children:[o.jsx(Io,{className:"mr-2 h-4 w-4"}),o.jsxs("span",{className:"text-xs sm:text-sm",children:["Generate ",ce," Questions (",Y," marks)"]})]})})]}),o.jsxs("div",{className:"w-1/2 pl-3 flex flex-col items-center justify-center space-y-4",children:[o.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[o.jsxs("div",{className:"relative h-16 w-16",children:[o.jsx("span",{className:"absolute inset-0 rounded-full bg-primary/15 animate-ping"}),o.jsx("span",{className:"relative inline-flex h-16 w-16 rounded-full bg-primary/20 border border-primary/40 flex items-center justify-center",children:o.jsx(Io,{className:"h-7 w-7 text-primary"})}),o.jsx("span",{className:"absolute -top-2 -right-1 text-xs px-2 py-0.5 rounded-full bg-primary text-primary-foreground shadow-sm",children:"AI Magic"})]}),o.jsx("h3",{className:"text-sm font-medium",children:"Let the AI work its magic"}),o.jsxs("p",{className:"text-xs text-muted-foreground max-w-xs",children:["After you click ",o.jsx("span",{className:"font-semibold",children:"Generate"}),", this view slides in and shows live progress while the AI creates questions from your selected chapters."]})]}),c?o.jsxs("div",{className:"w-full space-y-3 animate-fade-in",children:[o.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"relative inline-flex h-5 w-5",children:[o.jsx("span",{className:"absolute inline-flex h-full w-full rounded-full bg-primary/20 animate-ping"}),o.jsx("span",{className:"relative inline-flex rounded-full h-5 w-5 bg-primary/30 flex items-center justify-center",children:b.toLowerCase().includes("retry")?o.jsx(uC,{className:"h-3 w-3 text-primary-foreground animate-spin"}):o.jsx($n,{className:"h-3 w-3 text-primary-foreground animate-spin"})})]}),o.jsx("span",{children:b||"Generating questions with AI"})]}),o.jsxs("span",{children:[w,"%"]})]}),o.jsxs("div",{className:"relative overflow-hidden rounded-full bg-muted w-full",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 via-primary/40 to-primary/20 animate-[shimmer_2s_linear_infinite] opacity-70"}),o.jsx(Gr,{value:w,className:"relative h-2 bg-transparent"})]}),o.jsxs("div",{className:"flex items-center justify-between text-[0.65rem] text-muted-foreground",children:[o.jsx("span",{children:"AI may retry automatically with backup models if something fails."}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Io,{className:"h-3 w-3 text-primary"}),"Smart retry enabled"]})]})]}):o.jsxs("div",{className:"w-full text-[0.7rem] text-muted-foreground flex flex-col items-center gap-2",children:[o.jsx("span",{className:"px-2 py-1 rounded-full bg-muted border text-[0.65rem]",children:"Ready to generate questions when you are."}),o.jsxs("span",{children:["Adjust settings on the left, then click ",o.jsx("span",{className:"font-semibold",children:"Generate"})," to see this tab in action."]})]})]})]})})]})]})},RW=()=>{var ce;const t=ut(),[e,n]=f.useState(1),[s,r]=f.useState(!1),[i,a]=f.useState([]),[l,c]=f.useState(""),[u,h]=f.useState(""),[d,m]=f.useState([]),[p,w]=f.useState([]),[g,b]=f.useState("weekly"),[x,v]=f.useState(30),[y,N]=f.useState(100),[_,S]=f.useState([]);f.useState(null);const[C,E]=f.useState([]),[k,I]=f.useState({type:"mcq",text:"",options:["","","",""],correctAnswer:"",marks:1});f.useEffect(()=>{L()},[]),f.useEffect(()=>{if(!u){w([]),m([]);return}(async()=>{try{console.log("Fetching chapters for subject:",u);const G=`subjects/${u}`,oe=await On(he(fe,G)),ie=oe.exists()?oe.val():null;if(console.log("Subject snapshot:",G,ie),ie!=null&&ie.chapters){const me=ie.chapters,tt=Array.isArray(me)?me.filter(Boolean).map((Oe,te)=>({id:(Oe==null?void 0:Oe.id)??`${te}`,subjectId:(Oe==null?void 0:Oe.subjectId)??u,title:(Oe==null?void 0:Oe.title)??"Untitled Chapter",content:(Oe==null?void 0:Oe.content)??""})):Object.entries(me).map(([Oe,te])=>({id:(te==null?void 0:te.id)??Oe,subjectId:(te==null?void 0:te.subjectId)??u,title:(te==null?void 0:te.title)??"Untitled Chapter",content:(te==null?void 0:te.content)??""}));w(tt);return}const ae=await Pe.getChaptersBySubject(u);w(ae)}catch(G){console.error("Error fetching chapters:",G),w([])}})(),m([])},[u]);const L=async()=>{try{const T=await iz();a(T)}catch(T){console.error("Error loading subjects:",T)}},M=i.find(T=>T.id===u),z=p.length>0,R=(e-1)/2*100,W=()=>l.trim()?u?z&&d.length===0?(X({title:"Error",description:"Please select at least one chapter",variant:"destructive"}),!1):x<5?(X({title:"Error",description:"Duration must be at least 5 minutes",variant:"destructive"}),!1):!0:(X({title:"Error",description:"Please select a subject",variant:"destructive"}),!1):(X({title:"Error",description:"Please enter a test title",variant:"destructive"}),!1),K=()=>_.length===0?(X({title:"Error",description:"Please add at least one question",variant:"destructive"}),!1):!0,Z=()=>{e===1&&W()?(n(2),X({title:"Step 1 Complete",description:"Test details saved!"})):e===2&&K()&&(n(3),X({title:"Step 2 Complete",description:"Questions saved!"}))},P=()=>{e>1&&n(e-1)},j=()=>{var G,oe,ie;if(!((G=k.text)!=null&&G.trim())){X({title:"Error",description:"Please enter question text",variant:"destructive"});return}if(k.type==="mcq"){if(!((oe=k.options)!=null&&oe.every(ae=>ae.trim()))){X({title:"Error",description:"Please fill all options",variant:"destructive"});return}if(!k.correctAnswer){X({title:"Error",description:"Please select the correct answer",variant:"destructive"});return}}if(k.type==="blank"&&!((ie=k.correctAnswer)!=null&&ie.trim())){X({title:"Error",description:"Please enter the correct answer",variant:"destructive"});return}const T={id:Date.now().toString(),type:k.type,text:k.text||"",options:k.type==="mcq"?k.options:void 0,correctAnswer:k.type!=="short"?k.correctAnswer:void 0,marks:k.marks||1};S([..._,T]),I({type:"mcq",text:"",options:["","","",""],correctAnswer:"",marks:1}),X({title:"Question Added",description:`Question ${_.length+1} added successfully!`})},A=T=>{S(G=>[...G,...T])},D=T=>{S(_.filter(G=>G.id!==T)),X({title:"Question Removed",description:"Question removed from test"})},$=T=>{E(G=>G.includes(T)?G.filter(oe=>oe!==T):[...G,T])},Y=T=>{m(G=>G.includes(T)?G.filter(oe=>oe!==T):[...G,T])},Q=async()=>{r(!0);try{const T=as(he(fe,"tests")),G=T.key,oe={id:G,title:l,subjectId:u,subjectName:(M==null?void 0:M.name)||"",chapterIds:d,type:g,duration:x,totalMarks:y,published:!0,createdAt:new Date().toISOString()};console.log("Saving to:",`tests/${G}`,oe),await yn(T,oe);const ie=_.map(ae=>{const me=ae.type==="blank"?"fillBlank":ae.type==="short"?"shortAnswer":ae.type==="long"?"longAnswer":"mcq";return{id:ae.id,testId:G,type:me,text:ae.text,marks:ae.marks,...me==="mcq"&&ae.options?{options:ae.options.filter(tt=>tt&&tt.trim())}:{},...me!=="shortAnswer"&&me!=="longAnswer"&&ae.correctAnswer!==void 0?{correctAnswer:ae.correctAnswer}:{}}});for(const ae of ie){const me=as(he(fe,"questions"));await yn(me,{...ae,id:me.key})}X({title:"Success!",description:"Test published successfully!"}),t("/teacher/dashboard")}catch(T){console.error("Publish failed:",T),X({title:"Error",description:"Failed to save. Check database connection.",variant:"destructive"})}finally{r(!1)}},de=_.reduce((T,G)=>T+G.marks,0);return o.jsx("div",{className:"min-h-screen bg-muted/30 p-4 md:p-8",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs(V,{variant:"ghost",onClick:()=>t("/teacher/dashboard"),className:"mb-4",children:[o.jsx(xs,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]}),o.jsx("h1",{className:"text-2xl font-bold",children:"Create New Test"}),o.jsxs("p",{className:"text-muted-foreground",children:["Step ",e," of 3"]})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx(Gr,{value:R+(e===3?50:0),className:"h-2"}),o.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[o.jsx("span",{className:e>=1?"text-primary font-medium":"text-muted-foreground",children:"1. Test Details"}),o.jsx("span",{className:e>=2?"text-primary font-medium":"text-muted-foreground",children:"2. Add Questions"}),o.jsx("span",{className:e>=3?"text-primary font-medium":"text-muted-foreground",children:"3. Review & Publish"})]})]}),e===2&&o.jsxs(cn,{className:"mb-4",children:[o.jsx(iM,{className:"h-4 w-4"}),o.jsxs(un,{children:[o.jsxs("span",{className:"font-medium",children:[_.length," questions"]})," added | Total marks: ",o.jsx("span",{className:"font-medium",children:de})]})]}),e===1&&o.jsxs(J,{children:[o.jsxs(xe,{children:[o.jsxs(ye,{className:"flex items-center gap-2",children:[o.jsx(ms,{className:"h-5 w-5"}),"Test Details"]}),o.jsx(Ie,{children:"Enter the basic information about your test"})]}),o.jsxs(ee,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ue,{htmlFor:"title",children:"Test Title *"}),o.jsx(Ce,{id:"title",placeholder:"e.g., Chapter 1-3 Quiz",value:l,onChange:T=>c(T.target.value)})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ue,{children:"Subject *"}),o.jsxs(Hi,{value:u,onValueChange:h,children:[o.jsx(ui,{children:o.jsx(Gi,{placeholder:"Select subject"})}),o.jsx(di,{children:i.map(T=>o.jsx(Pt,{value:T.id,children:T.name},T.id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ue,{children:"Test Type *"}),o.jsxs(Hi,{value:g,onValueChange:T=>b(T),children:[o.jsx(ui,{children:o.jsx(Gi,{})}),o.jsxs(di,{children:[o.jsx(Pt,{value:"weekly",children:"Weekly Test"}),o.jsx(Pt,{value:"monthly",children:"Monthly Test"})]})]})]})]}),M&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ue,{children:["Chapters ",z?"*":"(Optional)"]}),z?o.jsx("div",{className:"border rounded-lg p-4 space-y-2 max-h-48 overflow-y-auto",children:p.map(T=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(co,{id:T.id,checked:d.includes(T.id),onCheckedChange:()=>Y(T.id)}),o.jsx(ue,{htmlFor:T.id,className:"cursor-pointer",children:T.title})]},T.id))}):o.jsx("div",{className:"border rounded-lg p-4 text-muted-foreground text-sm",children:"No chapters available for this subject. You can create the test without chapters."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ue,{htmlFor:"duration",children:"Duration (minutes) *"}),o.jsx(Ce,{id:"duration",type:"number",min:5,value:x,onChange:T=>v(Number(T.target.value))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ue,{htmlFor:"marks",children:"Total Marks *"}),o.jsx(Ce,{id:"marks",type:"number",min:1,value:y,onChange:T=>N(Number(T.target.value))})]})]})]})]}),e===2&&o.jsxs("div",{className:"space-y-6",children:[o.jsx(J,{children:o.jsxs(xe,{children:[o.jsxs(ye,{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(Ot,{className:"h-5 w-5"}),"Add Questions"]}),o.jsx(IW,{selectedChapters:d,chapters:p,totalMarks:y,currentQuestionMarks:de,subjectName:(M==null?void 0:M.name)||"Unknown Subject",onQuestionsGenerated:A})]}),o.jsx(Ie,{children:"Add questions manually or use AI to generate them from chapter content"})]})}),o.jsxs(J,{children:[o.jsx(xe,{children:o.jsxs(ye,{className:"flex items-center gap-2",children:[o.jsx(Ot,{className:"h-5 w-5"}),"Add Question Manually"]})}),o.jsxs(ee,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ue,{children:"Question Type"}),o.jsxs(Hi,{value:k.type,onValueChange:T=>I({...k,type:T,options:T==="mcq"?["","","",""]:void 0,correctAnswer:""}),children:[o.jsx(ui,{children:o.jsx(Gi,{})}),o.jsxs(di,{children:[o.jsx(Pt,{value:"mcq",children:"Multiple Choice (MCQ)"}),o.jsx(Pt,{value:"blank",children:"Fill in the Blank"}),o.jsx(Pt,{value:"short",children:"Short Answer"}),o.jsx(Pt,{value:"long",children:"Long Answer"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ue,{children:"Question Text *"}),o.jsx(Ds,{placeholder:k.type==="blank"?"Enter question with _____ for blank (e.g., The capital of France is _____)":"Enter your question here...",value:k.text,onChange:T=>I({...k,text:T.target.value})})]}),k.type==="mcq"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx(ue,{children:"Options *"}),o.jsx(Cf,{value:k.correctAnswer,onValueChange:T=>I({...k,correctAnswer:T}),children:(ce=k.options)==null?void 0:ce.map((T,G)=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Sf,{value:`option${G}`,id:`option${G}`}),o.jsx(Ce,{placeholder:`Option ${G+1}`,value:T,onChange:oe=>{const ie=[...k.options||[]];ie[G]=oe.target.value,I({...k,options:ie})},className:"flex-1"}),k.correctAnswer===`option${G}`&&o.jsx(Br,{className:"h-4 w-4 text-green-500"})]},G))}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Select the radio button next to the correct answer"})]}),k.type==="blank"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(ue,{children:"Correct Answer *"}),o.jsx(Ce,{placeholder:"Enter the correct answer",value:k.correctAnswer,onChange:T=>I({...k,correctAnswer:T.target.value})})]}),k.type==="short"&&o.jsxs(cn,{children:[o.jsx(eM,{className:"h-4 w-4"}),o.jsx(un,{children:"Short answer questions will be saved for teacher review. No auto-grading."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ue,{children:"Marks *"}),o.jsx(Ce,{type:"number",min:1,value:k.marks,onChange:T=>I({...k,marks:Number(T.target.value)}),className:"w-24"})]}),o.jsxs(V,{onClick:j,className:"w-full",children:[o.jsx(Ot,{className:"mr-2 h-4 w-4"}),"Add Question"]})]})]}),_.length>0&&o.jsxs(J,{children:[o.jsx(xe,{children:o.jsxs(ye,{children:["Questions (",_.length,")"]})}),o.jsx(ee,{className:"space-y-2",children:_.map((T,G)=>o.jsx(fW,{open:C.includes(T.id),children:o.jsxs("div",{className:"border rounded-lg p-3",children:[o.jsxs(mW,{className:"flex items-center justify-between w-full",onClick:()=>$(T.id),children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ju,{className:"h-4 w-4 text-muted-foreground cursor-grab"}),o.jsxs("span",{className:"font-medium",children:["Q",G+1,"."]}),o.jsxs("span",{className:"text-sm text-muted-foreground capitalize",children:["(",T.type,")"]}),o.jsxs("span",{className:"text-sm truncate max-w-xs",children:[T.text.substring(0,50),"..."]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-sm text-muted-foreground",children:[T.marks," marks"]}),C.includes(T.id)?o.jsx(sC,{className:"h-4 w-4"}):o.jsx(Bc,{className:"h-4 w-4"})]})]}),o.jsx(pW,{className:"pt-4",children:o.jsxs("div",{className:"space-y-2 pl-6",children:[o.jsx("p",{className:"font-medium",children:T.text}),T.type==="mcq"&&T.options&&o.jsx("div",{className:"space-y-1",children:T.options.map((oe,ie)=>o.jsxs("div",{className:`text-sm p-2 rounded ${T.correctAnswer===`option${ie}`?"bg-green-100 text-green-800":"bg-muted"}`,children:[String.fromCharCode(65+ie),". ",oe,T.correctAnswer===`option${ie}`&&o.jsx(Br,{className:"inline ml-2 h-3 w-3"})]},ie))}),T.type==="blank"&&o.jsxs("p",{className:"text-sm",children:[o.jsx("span",{className:"font-medium",children:"Answer:"})," ",T.correctAnswer]}),o.jsxs(V,{variant:"destructive",size:"sm",onClick:()=>D(T.id),children:[o.jsx(Zs,{className:"mr-2 h-3 w-3"}),"Remove"]})]})})]})},T.id))})]})]}),e===3&&o.jsxs(J,{children:[o.jsxs(xe,{className:"p-4 sm:p-6",children:[o.jsxs(ye,{className:"flex items-center gap-2 text-base sm:text-lg",children:[o.jsx(lr,{className:"h-5 w-5"}),"Review & Publish"]}),o.jsx(Ie,{children:"Review your test before publishing"})]}),o.jsxs(ee,{className:"p-4 sm:p-6 pt-0 sm:pt-0 space-y-4 sm:space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Test Title"}),o.jsx("p",{className:"font-medium text-sm sm:text-base",children:l})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Subject"}),o.jsx("p",{className:"font-medium text-sm sm:text-base",children:M==null?void 0:M.name})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Test Type"}),o.jsx("p",{className:"font-medium capitalize text-sm sm:text-base",children:g})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Duration"}),o.jsxs("p",{className:"font-medium text-sm sm:text-base",children:[x," minutes"]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Total Questions"}),o.jsx("p",{className:"font-medium text-sm sm:text-base",children:_.length})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Total Marks"}),o.jsx("p",{className:"font-medium text-sm sm:text-base",children:de})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"font-medium text-sm sm:text-base",children:"Questions Preview"}),o.jsx("div",{className:"border rounded-lg divide-y max-h-64 overflow-y-auto",children:_.map((T,G)=>o.jsxs("div",{className:"p-2 sm:p-3",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1",children:[o.jsxs("span",{className:"font-medium text-sm break-words",children:["Q",G+1,". ",T.text]}),o.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground flex-shrink-0",children:[T.marks," marks"]})]}),o.jsxs("span",{className:"text-xs text-muted-foreground capitalize",children:["(",T.type,")"]})]},T.id))})]}),o.jsxs(cn,{children:[o.jsx(Br,{className:"h-4 w-4"}),o.jsx(un,{children:"Once published, this test will be visible to all students."})]})]})]}),o.jsxs("div",{className:"flex justify-between mt-6",children:[o.jsxs(V,{variant:"outline",onClick:P,disabled:e===1,children:[o.jsx(xs,{className:"mr-2 h-4 w-4"}),"Back"]}),e<3?o.jsxs(V,{onClick:Z,children:["Next",o.jsx(Fp,{className:"ml-2 h-4 w-4"})]}):o.jsx(V,{onClick:Q,disabled:s,children:s?o.jsxs(o.Fragment,{children:[o.jsx($n,{className:"mr-2 h-4 w-4 animate-spin"}),"Publishing..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Br,{className:"mr-2 h-4 w-4"}),"Publish Test"]})})]})]})})},PW=()=>{const t=ut(),[e,n]=f.useState("mcq"),[s,r]=f.useState([{id:"1",question:"",options:["","","",""],correctAnswer:0}]),[i,a]=f.useState([{id:"1",question:"",answer:""}]),[l,c]=f.useState([{id:"1",question:""}]),u=()=>{r([...s,{id:Date.now().toString(),question:"",options:["","","",""],correctAnswer:0}])},h=(_,S,C)=>{r(s.map(E=>E.id===_?{...E,[S]:C}:E))},d=(_,S,C)=>{r(s.map(E=>{if(E.id===_){const k=[...E.options];return k[S]=C,{...E,options:k}}return E}))},m=_=>{s.length>1&&r(s.filter(S=>S.id!==_))},p=()=>{a([...i,{id:Date.now().toString(),question:"",answer:""}])},w=(_,S,C)=>{a(i.map(E=>E.id===_?{...E,[S]:C}:E))},g=_=>{i.length>1&&a(i.filter(S=>S.id!==_))},b=()=>{c([...l,{id:Date.now().toString(),question:""}])},x=(_,S)=>{c(l.map(C=>C.id===_?{...C,question:S}:C))},v=_=>{l.length>1&&c(l.filter(S=>S.id!==_))},y=()=>{X({title:"Questions Saved (Demo)",description:`Saved ${s.length} MCQs, ${i.length} Fill-in-the-blanks, and ${l.length} Short Answer questions.`}),t("/teacher/dashboard")},N=s.length+i.length+l.length;return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(li,{userType:"teacher",userName:"Dr. Sarah Mitchell"}),o.jsxs("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs(bn,{to:"/teacher/create-test",className:"inline-flex items-center text-muted-foreground hover:text-primary mb-6 transition-colors",children:[o.jsx(xs,{className:"h-4 w-4 mr-2"}),"Back to Test Setup"]}),o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Question Builder"}),o.jsx("p",{className:"text-muted-foreground",children:"Add questions to your test"})]}),o.jsxs(Fe,{variant:"secondary",className:"text-lg px-4 py-2",children:[N," Questions"]})]}),o.jsxs(su,{value:e,onValueChange:n,className:"space-y-6",children:[o.jsxs(nl,{className:"bg-muted",children:[o.jsxs(mn,{value:"mcq",className:"data-[state=active]:bg-card",children:["MCQ (",s.length,")"]}),o.jsxs(mn,{value:"fill",className:"data-[state=active]:bg-card",children:["Fill Blanks (",i.length,")"]}),o.jsxs(mn,{value:"short",className:"data-[state=active]:bg-card",children:["Short Answer (",l.length,")"]})]}),o.jsxs(pn,{value:"mcq",className:"space-y-4",children:[s.map((_,S)=>o.jsxs(J,{className:"bg-card",children:[o.jsx(xe,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(ye,{className:"text-sm flex items-center gap-2",children:[o.jsx(Ju,{className:"h-4 w-4 text-muted-foreground"}),"Question ",S+1]}),o.jsx(V,{variant:"ghost",size:"icon",onClick:()=>m(_.id),disabled:s.length===1,children:o.jsx(Zs,{className:"h-4 w-4 text-destructive"})})]})}),o.jsxs(ee,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ue,{children:"Question"}),o.jsx(Ds,{placeholder:"Enter your question...",value:_.question,onChange:C=>h(_.id,"question",C.target.value)})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(ue,{children:"Options (select correct answer)"}),o.jsx(Cf,{value:_.correctAnswer.toString(),onValueChange:C=>h(_.id,"correctAnswer",parseInt(C)),children:_.options.map((C,E)=>o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Sf,{value:E.toString(),id:`${_.id}-opt-${E}`}),o.jsx(Ce,{placeholder:`Option ${E+1}`,value:C,onChange:k=>d(_.id,E,k.target.value),className:"flex-1"})]},E))})]})]})]},_.id)),o.jsxs(V,{variant:"outline",className:"w-full",onClick:u,children:[o.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Add MCQ"]})]}),o.jsxs(pn,{value:"fill",className:"space-y-4",children:[i.map((_,S)=>o.jsxs(J,{className:"bg-card",children:[o.jsx(xe,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(ye,{className:"text-sm flex items-center gap-2",children:[o.jsx(Ju,{className:"h-4 w-4 text-muted-foreground"}),"Question ",S+1]}),o.jsx(V,{variant:"ghost",size:"icon",onClick:()=>g(_.id),disabled:i.length===1,children:o.jsx(Zs,{className:"h-4 w-4 text-destructive"})})]})}),o.jsxs(ee,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ue,{children:"Question (use _____ for blank)"}),o.jsx(Ds,{placeholder:"e.g., The capital of France is _____.",value:_.question,onChange:C=>w(_.id,"question",C.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ue,{children:"Correct Answer"}),o.jsx(Ce,{placeholder:"Enter the correct answer...",value:_.answer,onChange:C=>w(_.id,"answer",C.target.value)})]})]})]},_.id)),o.jsxs(V,{variant:"outline",className:"w-full",onClick:p,children:[o.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Add Fill in the Blank"]})]}),o.jsxs(pn,{value:"short",className:"space-y-4",children:[l.map((_,S)=>o.jsxs(J,{className:"bg-card",children:[o.jsx(xe,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(ye,{className:"text-sm flex items-center gap-2",children:[o.jsx(Ju,{className:"h-4 w-4 text-muted-foreground"}),"Question ",S+1]}),o.jsx(V,{variant:"ghost",size:"icon",onClick:()=>v(_.id),disabled:l.length===1,children:o.jsx(Zs,{className:"h-4 w-4 text-destructive"})})]})}),o.jsxs(ee,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ue,{children:"Question"}),o.jsx(Ds,{placeholder:"Enter your short answer question...",value:_.question,onChange:C=>x(_.id,C.target.value)})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2 italic",children:"* Short answer questions will be evaluated by AI and reviewed by the teacher."})]})]},_.id)),o.jsxs(V,{variant:"outline",className:"w-full",onClick:b,children:[o.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Add Short Answer"]})]})]}),o.jsx("div",{className:"mt-8 flex justify-end",children:o.jsxs(V,{size:"lg",onClick:y,children:[o.jsx(zp,{className:"h-4 w-4 mr-2"}),"Save All Questions"]})})]})]})},AW=()=>{var h;const t=ut(),{user:e}=Gt(),n=(e==null?void 0:e.displayName)||((h=e==null?void 0:e.email)==null?void 0:h.split("@")[0])||"Teacher",[s,r]=f.useState([]);f.useEffect(()=>Pe.subscribeToSubmissions(r),[]);const i=s.filter(d=>d.status==="pending"),a=s.filter(d=>d.status==="graded"),l=d=>new Date(d).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),c=d=>{switch(d){case"pending":return o.jsx(Fe,{className:"bg-chart-3/20 text-chart-3",children:"Pending Review"});case"graded":return o.jsx(Fe,{className:"bg-chart-1/20 text-chart-1",children:"Graded"});default:return o.jsx(Fe,{variant:"secondary",children:d})}},u=({data:d})=>o.jsx("div",{className:"overflow-x-auto -mx-4 sm:mx-0",children:o.jsx("div",{className:"inline-block min-w-full align-middle",children:o.jsxs(Ef,{children:[o.jsx(jf,{children:o.jsxs(ci,{children:[o.jsx(kt,{className:"text-xs sm:text-sm",children:"Student Name"}),o.jsx(kt,{className:"text-xs sm:text-sm hidden sm:table-cell",children:"Submitted"}),o.jsx(kt,{className:"text-xs sm:text-sm",children:"Score"}),o.jsx(kt,{className:"text-xs sm:text-sm hidden md:table-cell",children:"Status"}),o.jsx(kt,{className:"text-right text-xs sm:text-sm",children:"Action"})]})}),o.jsx(kf,{children:d.map(m=>o.jsxs(ci,{children:[o.jsxs(yt,{className:"font-medium text-xs sm:text-sm p-2 sm:p-4",children:[o.jsx("div",{children:m.studentName}),o.jsx("div",{className:"text-xs text-muted-foreground sm:hidden",children:l(m.submittedAt)})]}),o.jsx(yt,{className:"text-xs sm:text-sm hidden sm:table-cell",children:l(m.submittedAt)}),o.jsx(yt,{className:"p-2 sm:p-4",children:o.jsx("span",{className:"font-semibold text-xs sm:text-sm",children:m.totalAutoScore})}),o.jsx(yt,{className:"hidden md:table-cell",children:c(m.status)}),o.jsx(yt,{className:"text-right p-2 sm:p-4",children:o.jsxs(V,{size:"sm",variant:m.status==="pending"?"default":"outline",onClick:()=>t(`/teacher/submission/${m.id}`),className:"text-xs sm:text-sm h-8 px-2 sm:px-3",children:[o.jsx(lr,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),o.jsx("span",{className:"hidden sm:inline",children:m.status==="pending"?"Review":"View"})]})})]},m.id))})]})})});return o.jsx(Cn,{userType:"teacher",userName:n,children:o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground mb-2",children:"Student Submissions"}),o.jsx("p",{className:"text-muted-foreground",children:"Review and grade student test submissions."})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[o.jsx(J,{className:"bg-card",children:o.jsx(ee,{className:"pt-4 sm:pt-6 p-3 sm:p-6",children:o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"p-1.5 sm:p-2 rounded-lg bg-chart-3/20",children:o.jsx(ar,{className:"h-4 w-4 sm:h-5 sm:w-5 text-chart-3"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xl sm:text-2xl font-bold text-card-foreground",children:i.length}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Pending Review"})]})]})})}),o.jsx(J,{className:"bg-card",children:o.jsx(ee,{className:"pt-4 sm:pt-6 p-3 sm:p-6",children:o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"p-1.5 sm:p-2 rounded-lg bg-chart-1/20",children:o.jsx(Vr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-chart-1"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xl sm:text-2xl font-bold text-card-foreground",children:a.length}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Graded"})]})]})})})]}),o.jsxs(J,{className:"bg-card",children:[o.jsxs(xe,{className:"p-4 sm:p-6",children:[o.jsx(ye,{className:"text-base sm:text-lg",children:"All Submissions"}),o.jsx(Ie,{className:"text-xs sm:text-sm",children:"Click on a submission to review student answers"})]}),o.jsx(ee,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:o.jsxs(su,{defaultValue:"pending",children:[o.jsxs(nl,{className:"mb-3 sm:mb-4 flex flex-wrap h-auto gap-1",children:[o.jsxs(mn,{value:"pending",className:"text-xs sm:text-sm px-2 sm:px-3",children:["Pending (",i.length,")"]}),o.jsxs(mn,{value:"graded",className:"text-xs sm:text-sm px-2 sm:px-3",children:["Graded (",a.length,")"]}),o.jsxs(mn,{value:"all",className:"text-xs sm:text-sm px-2 sm:px-3",children:["All (",s.length,")"]})]}),o.jsx(pn,{value:"pending",children:i.length>0?o.jsx(u,{data:i}):o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No pending submissions"})}),o.jsx(pn,{value:"graded",children:a.length>0?o.jsx(u,{data:a}):o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No graded submissions"})}),o.jsx(pn,{value:"all",children:s.length>0?o.jsx(u,{data:s}):o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No submissions yet"})})]})})]})]})})};var Mf="Switch",[MW,N9]=It(Mf),[OW,DW]=MW(Mf),eR=f.forwardRef((t,e)=>{const{__scopeSwitch:n,name:s,checked:r,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:u,form:h,...d}=t,[m,p]=f.useState(null),w=Ne(e,y=>p(y)),g=f.useRef(!1),b=m?h||!!m.closest("form"):!0,[x,v]=En({prop:r,defaultProp:i??!1,onChange:u,caller:Mf});return o.jsxs(OW,{scope:n,checked:x,disabled:l,children:[o.jsx(se.button,{type:"button",role:"switch","aria-checked":x,"aria-required":a,"data-state":rR(x),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:w,onClick:H(t.onClick,y=>{v(N=>!N),b&&(g.current=y.isPropagationStopped(),g.current||y.stopPropagation())})}),b&&o.jsx(sR,{control:m,bubbles:!g.current,name:s,value:c,checked:x,required:a,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});eR.displayName=Mf;var tR="SwitchThumb",nR=f.forwardRef((t,e)=>{const{__scopeSwitch:n,...s}=t,r=DW(tR,n);return o.jsx(se.span,{"data-state":rR(r.checked),"data-disabled":r.disabled?"":void 0,...s,ref:e})});nR.displayName=tR;var LW="SwitchBubbleInput",sR=f.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:s=!0,...r},i)=>{const a=f.useRef(null),l=Ne(a,i),c=df(n),u=zh(e);return f.useEffect(()=>{const h=a.current;if(!h)return;const d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(c!==n&&p){const w=new Event("click",{bubbles:s});p.call(h,n),h.dispatchEvent(w)}},[c,n,s]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...r,tabIndex:-1,ref:l,style:{...r.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});sR.displayName=LW;function rR(t){return t?"checked":"unchecked"}var iR=eR,FW=nR;const xh=f.forwardRef(({className:t,...e},n)=>o.jsx(iR,{className:q("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:n,children:o.jsx(FW,{className:q("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));xh.displayName=iR.displayName;const r_=(t,e)=>{const n=t.toLowerCase().trim(),s=e.toLowerCase().trim();if(n===s)return 1;if(n.length===0||s.length===0)return 0;const r=[];for(let a=0;a<=n.length;a++)r[a]=[a];for(let a=0;a<=s.length;a++)r[0][a]=a;for(let a=1;a<=n.length;a++)for(let l=1;l<=s.length;l++){const c=n[a-1]===s[l-1]?0:1;r[a][l]=Math.min(r[a-1][l]+1,r[a][l-1]+1,r[a-1][l-1]+c)}const i=Math.max(n.length,s.length);return 1-r[n.length][s.length]/i},$W=()=>{var P;const{submissionId:t}=Wa(),e=ut(),{user:n}=Gt(),s=(n==null?void 0:n.displayName)||((P=n==null?void 0:n.email)==null?void 0:P.split("@")[0])||"Teacher",[r,i]=f.useState(null),[a,l]=f.useState([]),[c,u]=f.useState(""),[h,d]=f.useState({}),[m,p]=f.useState({}),[w,g]=f.useState(!0);if(f.useEffect(()=>{(async()=>{try{const D=(await Pe.getSubmissions()).find($=>$.id===t);if(D){i(D),u(D.teacherRemarks||"");const $=D.questionMarks||{};d($);const Y=D.manualOverrides||{};p(Y);const Q=await Pe.getQuestionsByTest(D.testId);l(Q)}}catch(A){console.error("Error loading submission:",A)}finally{g(!1)}})()},[t]),w)return o.jsx(Cn,{userType:"teacher",userName:s,children:o.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"Loading..."})});if(!r)return o.jsx(Cn,{userType:"teacher",userName:s,children:o.jsx("div",{className:"p-8 max-w-4xl mx-auto",children:o.jsx(J,{className:"bg-card",children:o.jsxs(ee,{className:"flex flex-col items-center justify-center py-12",children:[o.jsx(lc,{className:"h-12 w-12 text-destructive mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Submission not found."}),o.jsx(V,{variant:"outline",className:"mt-4",onClick:()=>e("/teacher/submissions"),children:"Back to Submissions"})]})})})});const b=(j,A)=>{if(typeof j=="number"&&Number.isFinite(j))return j;if(typeof j!="string")return null;const D=j.trim(),$=/^option(\d+)$/.exec(D);if($)return Number($[1]);const Y=Number(D);if(Number.isFinite(Y))return Y;if(A!=null&&A.length){const Q=A.findIndex(de=>(de==null?void 0:de.trim().toLowerCase())===D.toLowerCase());if(Q>=0)return Q}return null},x=j=>{if(typeof j=="number"&&Number.isFinite(j))return j;if(typeof j=="string"){const A=Number(j);return Number.isFinite(A)?A:null}return null},v=(j,A)=>{const D=x(A),$=b(j.correctAnswer,j.options);return D!==null&&$!==null&&D===$},y=(j,A)=>typeof A!="string"||!j.correctAnswer?!1:r_(A,j.correctAnswer)>=.65,N=()=>{let j=0,A=0;return a.forEach(D=>{const $=E(D.id),Y=m[D.id]!==void 0;if(D.type==="mcq"){const Q=v(D,$);(Y?m[D.id]:Q)&&(j+=D.marks)}if(D.type==="fillBlank"){const Q=y(D,$);(Y?m[D.id]:Q)&&(A+=D.marks)}}),{mcqScore:j,fillBlankScore:A}},_=async()=>{try{const{mcqScore:j,fillBlankScore:A}=N(),D=a.filter(ce=>ce.type==="shortAnswer"),$=a.filter(ce=>ce.type==="longAnswer"),Y=D.reduce((ce,T)=>ce+(h[T.id]||0),0),Q=$.reduce((ce,T)=>ce+(h[T.id]||0),0),de=j+A+Y+Q;await Pe.updateSubmission(r.id,{status:"graded",teacherRemarks:c,questionMarks:h,manualOverrides:m,mcqScore:j,fillBlankScore:A,totalAutoScore:j+A,shortAnswerMarks:Y,longAnswerMarks:Q,finalScore:de}),X({title:"Submission graded successfully"}),e("/teacher/submissions")}catch{X({title:"Error updating submission",variant:"destructive"})}},S=(j,A)=>{d(D=>({...D,[j]:A}))},C=(j,A)=>{p(D=>({...D,[j]:A}))},E=j=>{const A=r.answers.find(D=>D.questionId===j);return A==null?void 0:A.answer},k=a.filter(j=>j.type==="mcq"),I=a.filter(j=>j.type==="fillBlank"),L=a.filter(j=>j.type==="shortAnswer"),M=a.filter(j=>j.type==="longAnswer"),{mcqScore:z,fillBlankScore:R}=N(),W=L.reduce((j,A)=>j+(h[A.id]||0),0),K=M.reduce((j,A)=>j+(h[A.id]||0),0),Z=z+R+W+K;return o.jsx(Cn,{userType:"teacher",userName:s,children:o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-5xl mx-auto",children:[o.jsxs(bn,{to:"/teacher/submissions",className:"inline-flex items-center text-muted-foreground hover:text-primary mb-6 transition-colors",children:[o.jsx(xs,{className:"h-4 w-4 mr-2"}),"Back to Submissions"]}),o.jsx(J,{className:"bg-card mb-4 sm:mb-6",children:o.jsx(xe,{className:"p-4 sm:p-6",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[o.jsxs("div",{children:[o.jsx(ye,{className:"text-lg sm:text-2xl",children:r.studentName}),o.jsxs(Ie,{className:"text-xs sm:text-sm",children:["Submitted: ",new Date(r.submittedAt).toLocaleString()]})]}),o.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("span",{className:"text-2xl sm:text-3xl font-bold text-primary",children:Z}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Score"})]}),o.jsx(Fe,{className:`text-xs sm:text-sm ${r.status==="graded"?"bg-chart-1/20 text-chart-1":"bg-chart-3/20 text-chart-3"}`,children:r.status==="graded"?"Graded":"Pending"})]})]})})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-4 sm:space-y-6 order-2 lg:order-1",children:[k.length>0&&o.jsxs(J,{className:"bg-card",children:[o.jsxs(xe,{children:[o.jsx(ye,{className:"text-lg",children:"Multiple Choice Questions"}),o.jsxs(Ie,{children:["MCQ Score: ",z]})]}),o.jsx(ee,{className:"space-y-4",children:k.map((j,A)=>{var T;const D=E(j.id),$=x(D),Y=b(j.correctAnswer,j.options),Q=v(j,D),ce=m[j.id]!==void 0?m[j.id]:Q;return o.jsxs("div",{className:`p-4 rounded-lg border-2 transition-all ${ce?"bg-emerald-500/10 border-emerald-500/30":"bg-destructive/10 border-destructive/30"}`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("p",{className:"font-medium text-foreground",children:["Q",A+1,". ",j.text]}),o.jsx("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${ce?"bg-emerald-500/20 text-emerald-600 dark:text-emerald-400":"bg-destructive/20 text-destructive"}`,children:ce?o.jsxs(o.Fragment,{children:[o.jsx(Vr,{className:"h-4 w-4"}),"Correct"]}):o.jsxs(o.Fragment,{children:[o.jsx(Xu,{className:"h-4 w-4"}),"Incorrect"]})})]}),o.jsx("div",{className:"space-y-2 text-sm",children:(T=j.options)==null?void 0:T.map((G,oe)=>{const ie=Y!==null&&oe===Y,ae=$!==null&&oe===$,me=ae&&!ie;return o.jsxs("div",{className:`p-3 rounded-lg flex items-center justify-between transition-all ${ie?"bg-emerald-500/20 text-emerald-700 dark:text-emerald-300 border border-emerald-500/40 font-medium":me?"bg-destructive/20 text-destructive border border-destructive/40":"bg-muted/50 text-muted-foreground"}`,children:[o.jsx("span",{children:G}),o.jsxs("div",{className:"flex items-center gap-2",children:[ie&&o.jsxs("span",{className:"flex items-center gap-1 text-xs bg-emerald-500/30 px-2 py-0.5 rounded-full",children:[o.jsx(Vr,{className:"h-3 w-3"})," Correct Answer"]}),me&&o.jsxs("span",{className:"flex items-center gap-1 text-xs bg-destructive/30 px-2 py-0.5 rounded-full",children:[o.jsx(Xu,{className:"h-3 w-3"})," Student's Answer"]}),ae&&ie&&o.jsxs("span",{className:"flex items-center gap-1 text-xs bg-emerald-500/30 px-2 py-0.5 rounded-full",children:[o.jsx(Vr,{className:"h-3 w-3"})," Student's Answer"]})]})]},oe)})}),o.jsxs("div",{className:"flex items-center justify-between mt-4 pt-3 border-t border-border",children:[o.jsx(ue,{className:"text-sm text-muted-foreground",children:"Override: Mark as correct"}),o.jsx(xh,{checked:ce,onCheckedChange:G=>C(j.id,G)})]})]},j.id)})})]}),I.length>0&&o.jsxs(J,{className:"bg-card",children:[o.jsxs(xe,{children:[o.jsx(ye,{className:"text-lg",children:"Fill in the Blanks"}),o.jsxs(Ie,{children:["Fill Blank Score: ",R]})]}),o.jsx(ee,{className:"space-y-4",children:I.map((j,A)=>{const D=E(j.id),$=y(j,D),Q=m[j.id]!==void 0?m[j.id]:$,de=typeof D=="string"&&j.correctAnswer?Math.round(r_(D,j.correctAnswer)*100):0;return o.jsxs("div",{className:`p-4 rounded-lg border-2 transition-all ${Q?"bg-emerald-500/10 border-emerald-500/30":"bg-destructive/10 border-destructive/30"}`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("p",{className:"font-medium text-foreground",children:["Q",A+1,". ",j.text]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Fe,{variant:"outline",className:`text-xs ${de>=65?"border-emerald-500/50 text-emerald-600 dark:text-emerald-400":"border-destructive/50 text-destructive"}`,children:[de,"% match"]}),o.jsx("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${Q?"bg-emerald-500/20 text-emerald-600 dark:text-emerald-400":"bg-destructive/20 text-destructive"}`,children:Q?o.jsxs(o.Fragment,{children:[o.jsx(Vr,{className:"h-3 w-3"})," Correct"]}):o.jsxs(o.Fragment,{children:[o.jsx(Xu,{className:"h-3 w-3"})," Incorrect"]})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:`p-3 rounded-lg border ${Q?"bg-emerald-500/10 border-emerald-500/30":"bg-destructive/10 border-destructive/30"}`,children:[o.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Student's Answer"}),o.jsx("p",{className:`font-medium ${Q?"text-emerald-600 dark:text-emerald-400":"text-destructive"}`,children:D||"No answer provided"})]}),o.jsxs("div",{className:"p-3 rounded-lg bg-emerald-500/10 border border-emerald-500/30",children:[o.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Correct Answer"}),o.jsx("p",{className:"font-medium text-emerald-600 dark:text-emerald-400",children:j.correctAnswer})]})]}),o.jsxs("div",{className:"flex items-center justify-between mt-4 pt-3 border-t border-border",children:[o.jsx(ue,{className:"text-sm text-muted-foreground",children:"Override: Mark as correct"}),o.jsx(xh,{checked:Q,onCheckedChange:ce=>C(j.id,ce)})]})]},j.id)})})]}),L.length>0&&o.jsxs(J,{className:"bg-card",children:[o.jsxs(xe,{children:[o.jsx(ye,{className:"text-lg",children:"Short Answer Questions"}),o.jsx(Ie,{children:"Review and assign marks for these answers"})]}),o.jsx(ee,{className:"space-y-4",children:L.map((j,A)=>{const D=E(j.id);return o.jsxs("div",{className:"p-4 bg-accent rounded-lg",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("p",{className:"font-medium text-foreground",children:["Q",A+1,". ",j.text]}),o.jsxs(Fe,{variant:"outline",children:[j.marks," marks"]})]}),o.jsx("div",{className:"bg-card p-3 rounded border border-border mb-3",children:o.jsx("p",{className:"text-sm text-foreground",children:D||"No answer provided"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ue,{className:"text-sm",children:"Award marks:"}),o.jsx(Ce,{type:"number",min:0,max:j.marks,className:"w-20",value:h[j.id]??0,onChange:$=>S(j.id,parseInt($.target.value)||0)}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["/ ",j.marks]})]})]},j.id)})})]}),M.length>0&&o.jsxs(J,{className:"bg-card",children:[o.jsxs(xe,{children:[o.jsx(ye,{className:"text-lg",children:"Long Answer Questions"}),o.jsx(Ie,{children:"Review and assign marks for detailed answers"})]}),o.jsx(ee,{className:"space-y-4",children:M.map((j,A)=>{const D=E(j.id);return o.jsxs("div",{className:"p-4 bg-accent rounded-lg",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("p",{className:"font-medium text-foreground",children:["Q",A+1,". ",j.text]}),o.jsxs(Fe,{variant:"outline",children:[j.marks," marks"]})]}),o.jsx("div",{className:"bg-card p-4 rounded border border-border mb-3 min-h-[120px]",children:o.jsx("p",{className:"text-sm text-foreground whitespace-pre-wrap",children:D||"No answer provided"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ue,{className:"text-sm",children:"Award marks:"}),o.jsx(Ce,{type:"number",min:0,max:j.marks,className:"w-20",value:h[j.id]??0,onChange:$=>S(j.id,parseInt($.target.value)||0)}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["/ ",j.marks]})]})]},j.id)})})]})]}),o.jsxs("div",{className:"space-y-4 sm:space-y-6 order-1 lg:order-2",children:[o.jsxs(J,{className:"bg-card",children:[o.jsx(xe,{children:o.jsxs(ye,{className:"text-lg flex items-center gap-2",children:[o.jsx(lM,{className:"h-5 w-5"}),"Grading Summary"]})}),o.jsxs(ee,{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"MCQ Score"}),o.jsx("span",{className:"font-medium",children:z})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Fill Blank Score"}),o.jsx("span",{className:"font-medium",children:R})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Short Answer Marks"}),o.jsx("span",{className:"font-medium",children:W})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Long Answer Marks"}),o.jsx("span",{className:"font-medium",children:K})]}),o.jsxs("div",{className:"border-t pt-2 flex justify-between",children:[o.jsx("span",{className:"font-medium",children:"Total Score"}),o.jsx("span",{className:"font-bold text-primary",children:Z})]})]})]}),o.jsxs(J,{className:"bg-card",children:[o.jsx(xe,{children:o.jsx(ye,{className:"text-lg",children:"Teacher Remarks"})}),o.jsx(ee,{className:"space-y-4",children:o.jsx(Ds,{placeholder:"Add your feedback for the student...",value:c,onChange:j=>u(j.target.value),rows:4})})]}),o.jsxs(J,{className:"bg-card",children:[o.jsx(xe,{children:o.jsx(ye,{className:"text-lg",children:"Actions"})}),o.jsx(ee,{className:"space-y-3",children:o.jsxs(V,{className:"w-full",onClick:_,children:[o.jsx(hM,{className:"h-4 w-4 mr-2"}),r.status==="graded"?"Update Grade":"Approve & Grade"]})})]})]})]})]})})};var _s="Accordion",UW=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Iy,zW,BW]=Fc(_s),[Of,C9]=It(_s,[BW,EI]),Ry=EI(),oR=F.forwardRef((t,e)=>{const{type:n,...s}=t,r=s,i=s;return o.jsx(Iy.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?o.jsx(GW,{...i,ref:e}):o.jsx(HW,{...r,ref:e})})});oR.displayName=_s;var[aR,VW]=Of(_s),[lR,WW]=Of(_s,{collapsible:!1}),HW=F.forwardRef((t,e)=>{const{value:n,defaultValue:s,onValueChange:r=()=>{},collapsible:i=!1,...a}=t,[l,c]=En({prop:n,defaultProp:s??"",onChange:r,caller:_s});return o.jsx(aR,{scope:t.__scopeAccordion,value:F.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:F.useCallback(()=>i&&c(""),[i,c]),children:o.jsx(lR,{scope:t.__scopeAccordion,collapsible:i,children:o.jsx(cR,{...a,ref:e})})})}),GW=F.forwardRef((t,e)=>{const{value:n,defaultValue:s,onValueChange:r=()=>{},...i}=t,[a,l]=En({prop:n,defaultProp:s??[],onChange:r,caller:_s}),c=F.useCallback(h=>l((d=[])=>[...d,h]),[l]),u=F.useCallback(h=>l((d=[])=>d.filter(m=>m!==h)),[l]);return o.jsx(aR,{scope:t.__scopeAccordion,value:a,onItemOpen:c,onItemClose:u,children:o.jsx(lR,{scope:t.__scopeAccordion,collapsible:!0,children:o.jsx(cR,{...i,ref:e})})})}),[KW,Df]=Of(_s),cR=F.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:s,dir:r,orientation:i="vertical",...a}=t,l=F.useRef(null),c=Ne(l,e),u=zW(n),d=el(r)==="ltr",m=H(t.onKeyDown,p=>{var E;if(!UW.includes(p.key))return;const w=p.target,g=u().filter(k=>{var I;return!((I=k.ref.current)!=null&&I.disabled)}),b=g.findIndex(k=>k.ref.current===w),x=g.length;if(b===-1)return;p.preventDefault();let v=b;const y=0,N=x-1,_=()=>{v=b+1,v>N&&(v=y)},S=()=>{v=b-1,v<y&&(v=N)};switch(p.key){case"Home":v=y;break;case"End":v=N;break;case"ArrowRight":i==="horizontal"&&(d?_():S());break;case"ArrowDown":i==="vertical"&&_();break;case"ArrowLeft":i==="horizontal"&&(d?S():_());break;case"ArrowUp":i==="vertical"&&S();break}const C=v%x;(E=g[C].ref.current)==null||E.focus()});return o.jsx(KW,{scope:n,disabled:s,direction:r,orientation:i,children:o.jsx(Iy.Slot,{scope:n,children:o.jsx(se.div,{...a,"data-orientation":i,ref:c,onKeyDown:s?void 0:m})})})}),vh="AccordionItem",[QW,Py]=Of(vh),uR=F.forwardRef((t,e)=>{const{__scopeAccordion:n,value:s,...r}=t,i=Df(vh,n),a=VW(vh,n),l=Ry(n),c=Un(),u=s&&a.value.includes(s)||!1,h=i.disabled||t.disabled;return o.jsx(QW,{scope:n,open:u,disabled:h,triggerId:c,children:o.jsx(TI,{"data-orientation":i.orientation,"data-state":gR(u),...l,...r,ref:e,disabled:h,open:u,onOpenChange:d=>{d?a.onItemOpen(s):a.onItemClose(s)}})})});uR.displayName=vh;var dR="AccordionHeader",hR=F.forwardRef((t,e)=>{const{__scopeAccordion:n,...s}=t,r=Df(_s,n),i=Py(dR,n);return o.jsx(se.h3,{"data-orientation":r.orientation,"data-state":gR(i.open),"data-disabled":i.disabled?"":void 0,...s,ref:e})});hR.displayName=dR;var Pg="AccordionTrigger",fR=F.forwardRef((t,e)=>{const{__scopeAccordion:n,...s}=t,r=Df(_s,n),i=Py(Pg,n),a=WW(Pg,n),l=Ry(n);return o.jsx(Iy.ItemSlot,{scope:n,children:o.jsx(dW,{"aria-disabled":i.open&&!a.collapsible||void 0,"data-orientation":r.orientation,id:i.triggerId,...l,...s,ref:e})})});fR.displayName=Pg;var mR="AccordionContent",pR=F.forwardRef((t,e)=>{const{__scopeAccordion:n,...s}=t,r=Df(_s,n),i=Py(mR,n),a=Ry(n);return o.jsx(hW,{role:"region","aria-labelledby":i.triggerId,"data-orientation":r.orientation,...a,...s,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});pR.displayName=mR;function gR(t){return t?"open":"closed"}var qW=oR,YW=uR,XW=hR,xR=fR,vR=pR;const JW=qW,yR=f.forwardRef(({className:t,...e},n)=>o.jsx(YW,{ref:n,className:q("border-b",t),...e}));yR.displayName="AccordionItem";const wR=f.forwardRef(({className:t,children:e,...n},s)=>o.jsx(XW,{className:"flex",children:o.jsxs(xR,{ref:s,className:q("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,o.jsx(Bc,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));wR.displayName=xR.displayName;const bR=f.forwardRef(({className:t,children:e,...n},s)=>o.jsx(vR,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:o.jsx("div",{className:q("pb-4 pt-0",t),children:e})}));bR.displayName=vR.displayName;const ZW=()=>{var _;const[t,e]=f.useState([]),[n,s]=f.useState({}),[r,i]=f.useState(""),[a,l]=f.useState(null),[c,u]=f.useState(""),[h,d]=f.useState(null),[m,p]=f.useState(!0);f.useEffect(()=>Pe.subscribeToSubjects(C=>{e(C),p(!1),C.forEach(async E=>{const k=await Pe.getChaptersBySubject(E.id);s(I=>({...I,[E.id]:k}))})}),[]);const w=async()=>{if(r.trim())try{await Pe.addSubject(r.trim()),i(""),X({title:"Subject added successfully"})}catch{X({title:"Error adding subject",variant:"destructive"})}},g=async S=>{if(c.trim())try{await Pe.updateSubject(S,c.trim()),l(null),X({title:"Subject updated successfully"})}catch{X({title:"Error updating subject",variant:"destructive"})}},b=async S=>{try{await Pe.deleteSubject(S),X({title:"Subject deleted successfully"})}catch{X({title:"Error deleting subject",variant:"destructive"})}},x=async()=>{if(!(!h||!h.title.trim()))try{await Pe.addChapter(h.subjectId,h.title.trim(),h.content);const S=await Pe.getChaptersBySubject(h.subjectId);s(C=>({...C,[h.subjectId]:S})),d(null),X({title:"Chapter added successfully"})}catch{X({title:"Error adding chapter",variant:"destructive"})}},v=async(S,C)=>{try{await Pe.deleteChapter(S);const E=await Pe.getChaptersBySubject(C);s(k=>({...k,[C]:E})),X({title:"Chapter deleted successfully"})}catch{X({title:"Error deleting chapter",variant:"destructive"})}},{user:y}=Gt(),N=(y==null?void 0:y.displayName)||((_=y==null?void 0:y.email)==null?void 0:_.split("@")[0])||"Teacher";return o.jsx(Cn,{userType:"teacher",userName:N,children:o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-4xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground mb-2",children:"Manage Subjects"}),o.jsx("p",{className:"text-muted-foreground",children:"Add subjects and organize chapters within them."})]}),o.jsxs(J,{className:"bg-card mb-4 sm:mb-6",children:[o.jsx(xe,{className:"p-4 sm:p-6",children:o.jsxs(ye,{className:"flex items-center gap-2 text-base sm:text-lg",children:[o.jsx(Ot,{className:"h-5 w-5"}),"Add New Subject"]})}),o.jsx(ee,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[o.jsx(Ce,{placeholder:"Enter subject name...",value:r,onChange:S=>i(S.target.value),onKeyPress:S=>S.key==="Enter"&&w(),className:"flex-1"}),o.jsxs(V,{onClick:w,size:"sm",className:"w-full sm:w-auto",children:[o.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Add"]})]})})]}),o.jsxs(J,{className:"bg-card",children:[o.jsxs(xe,{className:"p-4 sm:p-6",children:[o.jsxs(ye,{className:"flex items-center gap-2 text-base sm:text-lg",children:[o.jsx(jn,{className:"h-5 w-5"}),"Subjects (",t.length,")"]}),o.jsx(Ie,{className:"text-xs sm:text-sm",children:"Manage your subjects and their chapters"})]}),o.jsx(ee,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:m?o.jsx("div",{className:"text-center py-6 sm:py-8 text-muted-foreground text-sm",children:"Loading..."}):t.length===0?o.jsx("div",{className:"text-center py-6 sm:py-8 text-muted-foreground text-sm",children:"No subjects yet. Add your first subject above."}):o.jsx(JW,{type:"single",collapsible:!0,className:"space-y-3 sm:space-y-4",children:t.map(S=>o.jsxs(yR,{value:S.id,className:"border rounded-lg px-3 sm:px-4",children:[o.jsx(wR,{className:"hover:no-underline py-3",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between w-full pr-2 sm:pr-4 gap-2",children:[a===S.id?o.jsxs("div",{className:"flex items-center gap-2",onClick:C=>C.stopPropagation(),children:[o.jsx(Ce,{value:c,onChange:C=>u(C.target.value),className:"w-32 sm:w-48 text-sm"}),o.jsx(V,{size:"sm",onClick:()=>g(S.id),className:"h-8 w-8 p-0",children:o.jsx(zp,{className:"h-4 w-4"})}),o.jsx(V,{size:"sm",variant:"outline",onClick:()=>l(null),className:"h-8 w-8 p-0",children:o.jsx(xo,{className:"h-4 w-4"})})]}):o.jsx("span",{className:"font-medium text-sm sm:text-base",children:S.name}),o.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",onClick:C=>C.stopPropagation(),children:[o.jsx(V,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",onClick:()=>{l(S.id),u(S.name)},children:o.jsx(cM,{className:"h-4 w-4"})}),o.jsx(V,{size:"sm",variant:"ghost",className:"text-destructive h-8 w-8 p-0",onClick:()=>b(S.id),children:o.jsx(Zs,{className:"h-4 w-4"})})]})]})}),o.jsx(bR,{className:"pt-4",children:o.jsxs("div",{className:"space-y-3",children:[(n[S.id]||[]).map(C=>o.jsxs("div",{className:"flex items-start justify-between p-3 bg-accent rounded-lg",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium text-foreground flex items-center gap-2",children:[o.jsx(ms,{className:"h-4 w-4"}),C.title]}),C.content&&o.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:C.content})]}),o.jsx(V,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>v(C.id,S.id),children:o.jsx(Zs,{className:"h-4 w-4"})})]},C.id)),(h==null?void 0:h.subjectId)===S.id?o.jsxs("div",{className:"space-y-3 p-3 border border-border rounded-lg",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ue,{children:"Chapter Title"}),o.jsx(Ce,{placeholder:"Enter chapter title...",value:h.title,onChange:C=>d({...h,title:C.target.value})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ue,{children:"Content (optional)"}),o.jsx(Ds,{placeholder:"Enter chapter content or description...",value:h.content,onChange:C=>d({...h,content:C.target.value}),rows:3})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(V,{size:"sm",onClick:x,children:[o.jsx(zp,{className:"h-4 w-4 mr-2"}),"Save Chapter"]}),o.jsx(V,{size:"sm",variant:"outline",onClick:()=>d(null),children:"Cancel"})]})]}):o.jsxs(V,{variant:"outline",size:"sm",className:"w-full",onClick:()=>d({subjectId:S.id,title:"",content:""}),children:[o.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Add Chapter"]})]})})]},S.id))})})]})]})})},e9=()=>{var S;const{user:t}=Gt(),e=(t==null?void 0:t.displayName)||((S=t==null?void 0:t.email)==null?void 0:S.split("@")[0])||"Teacher",[n,s]=f.useState([]),[r,i]=f.useState([]),[a,l]=f.useState(""),[c,u]=f.useState(""),[h,d]=f.useState([]),[m,p]=f.useState(""),[w,g]=f.useState(!0);f.useEffect(()=>{const C=he(fe,"users"),E=nr(C,I=>{if(!I.exists()){s([]),g(!1);return}const L=I.val(),M=Object.entries(L).filter(([z,R])=>R.role==="student").map(([z,R])=>({id:z,email:R.email,displayName:R.displayName,phone:R.phone,createdAt:R.createdAt}));s(M),g(!1)}),k=Pe.subscribeToTests(i);return()=>{E(),k()}},[]);const b=async()=>{if(!a.trim()||!c.trim()){X({title:"Please fill in all fields",variant:"destructive"});return}try{const C=as(he(fe,"users"));await yn(C,{email:a,displayName:c,role:"student",createdAt:Date.now()}),X({title:"Student added successfully"}),l(""),u("")}catch{X({title:"Error adding student",variant:"destructive"})}},x=async C=>{try{await ia(he(fe,`users/${C}`)),X({title:"Student removed"}),d(E=>E.filter(k=>k!==C))}catch{X({title:"Error removing student",variant:"destructive"})}},v=(C,E)=>{d(E?k=>[...k,C]:k=>k.filter(I=>I!==C))},y=C=>{d(C?n.map(E=>E.id):[])},N=async()=>{if(!m||h.length===0){X({title:"Select a test and at least one student",variant:"destructive"});return}try{const C=he(fe,"testAssignments");for(const E of h){const k=as(C);await yn(k,{id:k.key,testId:m,studentId:E,assignedAt:Date.now(),status:"assigned"})}X({title:`Test assigned to ${h.length} student(s)`}),d([]),p("")}catch{X({title:"Error assigning test",variant:"destructive"})}},_=r.filter(C=>C.published);return o.jsx(Cn,{userType:"teacher",userName:e,children:o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground mb-2",children:"Manage Students"}),o.jsx("p",{className:"text-muted-foreground",children:"Add, remove students and assign tests individually."})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[o.jsxs(J,{className:"bg-card",children:[o.jsxs(xe,{className:"p-4 sm:p-6",children:[o.jsxs(ye,{className:"flex items-center gap-2 text-base sm:text-lg",children:[o.jsx(Vp,{className:"h-5 w-5"}),"Add Student"]}),o.jsx(Ie,{className:"text-xs sm:text-sm",children:"Add a new student manually"})]}),o.jsxs(ee,{className:"p-4 sm:p-6 pt-0 sm:pt-0 space-y-3 sm:space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ue,{className:"text-sm",children:"Student Name"}),o.jsx(Ce,{placeholder:"John Doe",value:c,onChange:C=>u(C.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ue,{className:"text-sm",children:"Email"}),o.jsx(Ce,{type:"email",placeholder:"student@example.com",value:a,onChange:C=>l(C.target.value)})]}),o.jsxs(V,{className:"w-full",size:"sm",onClick:b,children:[o.jsx(Vp,{className:"h-4 w-4 mr-2"}),"Add Student"]})]})]}),o.jsxs(J,{className:"bg-card lg:col-span-2",children:[o.jsxs(xe,{className:"p-4 sm:p-6",children:[o.jsxs(ye,{className:"flex items-center gap-2 text-base sm:text-lg",children:[o.jsx(Pd,{className:"h-5 w-5"}),"Assign Test"]}),o.jsx(Ie,{className:"text-xs sm:text-sm",children:"Send a test to selected students"})]}),o.jsxs(ee,{className:"p-4 sm:p-6 pt-0 sm:pt-0 space-y-3 sm:space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ue,{className:"text-sm",children:"Select Test"}),o.jsxs(Hi,{value:m,onValueChange:p,children:[o.jsx(ui,{children:o.jsx(Gi,{placeholder:"Choose a published test"})}),o.jsx(di,{children:_.map(C=>o.jsx(Pt,{value:C.id,children:C.title},C.id))})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[o.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:[h.length," student(s) selected"]}),o.jsxs(V,{size:"sm",onClick:N,disabled:!m||h.length===0,children:[o.jsx(Pd,{className:"h-4 w-4 mr-2"}),"Assign Test"]})]})]})]})]}),o.jsxs(J,{className:"bg-card mt-4 sm:mt-6",children:[o.jsxs(xe,{className:"p-4 sm:p-6",children:[o.jsxs(ye,{className:"flex items-center gap-2 text-base sm:text-lg",children:[o.jsx(eo,{className:"h-5 w-5"}),"All Students",o.jsx(Fe,{variant:"secondary",children:n.length})]}),o.jsx(Ie,{className:"text-xs sm:text-sm",children:"Select students to assign tests"})]}),o.jsx(ee,{className:"p-4 sm:p-6 pt-0 sm:pt-0",children:w?o.jsx("div",{className:"text-center py-8 sm:py-12 text-muted-foreground",children:"Loading..."}):n.length===0?o.jsxs("div",{className:"text-center py-8 sm:py-12 text-muted-foreground",children:[o.jsx(eo,{className:"h-10 w-10 sm:h-12 sm:w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{className:"text-sm",children:"No students registered yet"})]}):o.jsx("div",{className:"overflow-x-auto -mx-4 sm:mx-0",children:o.jsx("div",{className:"inline-block min-w-full align-middle",children:o.jsxs(Ef,{children:[o.jsx(jf,{children:o.jsxs(ci,{children:[o.jsx(kt,{className:"w-10 sm:w-12",children:o.jsx(co,{checked:h.length===n.length&&n.length>0,onCheckedChange:y})}),o.jsx(kt,{className:"text-xs sm:text-sm",children:"Name"}),o.jsx(kt,{className:"text-xs sm:text-sm hidden sm:table-cell",children:"Email"}),o.jsx(kt,{className:"text-xs sm:text-sm hidden md:table-cell",children:"Joined"}),o.jsx(kt,{className:"text-right text-xs sm:text-sm",children:"Actions"})]})}),o.jsx(kf,{children:n.map(C=>o.jsxs(ci,{children:[o.jsx(yt,{className:"p-2 sm:p-4",children:o.jsx(co,{checked:h.includes(C.id),onCheckedChange:E=>v(C.id,E)})}),o.jsxs(yt,{className:"font-medium text-xs sm:text-sm p-2 sm:p-4",children:[o.jsx("div",{children:C.displayName}),o.jsx("div",{className:"text-xs text-muted-foreground sm:hidden",children:C.email})]}),o.jsx(yt,{className:"text-xs sm:text-sm hidden sm:table-cell",children:C.email}),o.jsx(yt,{className:"text-xs sm:text-sm hidden md:table-cell",children:new Date(C.createdAt).toLocaleDateString()}),o.jsx(yt,{className:"text-right p-2 sm:p-4",children:o.jsx(V,{size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive h-8 w-8 p-0",onClick:()=>x(C.id),children:o.jsx(Zs,{className:"h-4 w-4"})})})]},C.id))})]})})})})]})]})})},t9=()=>{var C;const{user:t}=Gt(),e=(t==null?void 0:t.displayName)||((C=t==null?void 0:t.email)==null?void 0:C.split("@")[0])||"Teacher",[n,s]=f.useState([]),[r,i]=f.useState([]),[a,l]=f.useState(!0),[c,u]=f.useState(!1),[h,d]=f.useState(null),[m,p]=f.useState(""),[w,g]=f.useState(""),[b,x]=f.useState("");f.useEffect(()=>{const E=he(fe,"classes"),k=nr(E,L=>{if(!L.exists()){s([]),l(!1);return}const M=L.val(),z=Object.entries(M).filter(([R,W])=>!W.archived).map(([R,W])=>({id:R,...W,students:W.students||[],studentCount:W.students?Object.keys(W.students).length:0}));s(z),l(!1)}),I=Pe.subscribeToSubjects(i);return()=>{k(),I()}},[]);const v=()=>{p(""),g(""),x(""),d(null)},y=E=>{E?(d(E),p(E.name),g(E.subjectId),x(E.description)):v(),u(!0)},N=async()=>{if(!m.trim()||!w){X({title:"Please fill in required fields",variant:"destructive"});return}const E=r.find(k=>k.id===w);try{if(h)await ls(he(fe,`classes/${h.id}`),{name:m,subjectId:w,subjectName:(E==null?void 0:E.name)||"",description:b}),X({title:"Class updated successfully"});else{const k=as(he(fe,"classes"));await yn(k,{id:k.key,name:m,subjectId:w,subjectName:(E==null?void 0:E.name)||"",description:b,teacherId:t==null?void 0:t.uid,teacherName:e,students:{},archived:!1,createdAt:Date.now()}),X({title:"Class created successfully"})}u(!1),v()}catch{X({title:"Error saving class",variant:"destructive"})}},_=async E=>{try{await ls(he(fe,`classes/${E}`),{archived:!0}),X({title:"Class archived"})}catch{X({title:"Error archiving class",variant:"destructive"})}},S=async E=>{try{await ia(he(fe,`classes/${E}`)),X({title:"Class deleted"})}catch{X({title:"Error deleting class",variant:"destructive"})}};return o.jsx(Cn,{userType:"teacher",userName:e,children:o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6 sm:mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground mb-2",children:"Manage Classes"}),o.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Create and manage your classes"})]}),o.jsxs(YI,{open:c,onOpenChange:u,children:[o.jsx(XI,{asChild:!0,children:o.jsxs(V,{onClick:()=>y(),className:"w-full sm:w-auto",children:[o.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Add Class"]})}),o.jsxs(Ey,{className:"w-[95vw] max-w-md",children:[o.jsxs(jy,{children:[o.jsx(ky,{children:h?"Edit Class":"Create New Class"}),o.jsx(Ty,{children:h?"Update class details":"Add a new class for your students"})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ue,{children:"Class Name *"}),o.jsx(Ce,{placeholder:"e.g., Grade 10 - Section A",value:m,onChange:E=>p(E.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ue,{children:"Subject *"}),o.jsxs(Hi,{value:w,onValueChange:g,children:[o.jsx(ui,{children:o.jsx(Gi,{placeholder:"Select a subject"})}),o.jsx(di,{children:r.map(E=>o.jsx(Pt,{value:E.id,children:E.name},E.id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ue,{children:"Description"}),o.jsx(Ds,{placeholder:"Optional class description...",value:b,onChange:E=>x(E.target.value),rows:3})]})]}),o.jsxs(ZI,{children:[o.jsx(V,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),o.jsxs(V,{onClick:N,children:[h?"Update":"Create"," Class"]})]})]})]})]}),a?o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Loading classes..."}):n.length===0?o.jsx(J,{className:"bg-card",children:o.jsxs(ee,{className:"py-12 text-center",children:[o.jsx(Ls,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"No classes created yet"}),o.jsxs(V,{onClick:()=>y(),children:[o.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Create Your First Class"]})]})}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(E=>o.jsxs(J,{className:"bg-card hover:shadow-md transition-shadow",children:[o.jsx(xe,{className:"p-4 pb-2",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx(ye,{className:"text-base sm:text-lg truncate",children:E.name}),o.jsx(Ie,{className:"text-xs sm:text-sm mt-1",children:E.subjectName})]}),o.jsxs(hy,{children:[o.jsx(fy,{asChild:!0,children:o.jsx(V,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 shrink-0",children:o.jsx(iC,{className:"h-4 w-4"})})}),o.jsxs(_f,{align:"end",children:[o.jsxs(cs,{onClick:()=>y(E),children:[o.jsx(dC,{className:"h-4 w-4 mr-2"}),"Edit"]}),o.jsxs(cs,{onClick:()=>_(E.id),children:[o.jsx(tC,{className:"h-4 w-4 mr-2"}),"Archive"]}),o.jsxs(cs,{onClick:()=>S(E.id),className:"text-destructive",children:[o.jsx(Zs,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})}),o.jsxs(ee,{className:"p-4 pt-2",children:[E.description&&o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mb-3 line-clamp-2",children:E.description}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs sm:text-sm",children:[o.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[o.jsx(eo,{className:"h-4 w-4"}),o.jsxs("span",{children:[E.studentCount," students"]})]}),o.jsxs(Fe,{variant:"outline",className:"text-xs",children:[o.jsx(jn,{className:"h-3 w-3 mr-1"}),E.subjectName]})]}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Teacher: ",E.teacherName]})]})]},E.id))})]})})},n9=()=>{var N;const{user:t}=Gt(),e=ut(),n=(t==null?void 0:t.displayName)||((N=t==null?void 0:t.email)==null?void 0:N.split("@")[0])||"Teacher",[s,r]=f.useState([]),[i,a]=f.useState([]),[l,c]=f.useState([]),[u,h]=f.useState(!0);f.useEffect(()=>{const _=he(fe,"tests"),S=nr(_,E=>{if(!E.exists()){r([]),a([]),h(!1);return}const k=E.val(),I=Object.values(k);r(I.filter(L=>!L.archived)),a(I.filter(L=>L.archived)),h(!1)}),C=Pe.subscribeToSubmissions(c);return()=>{S(),C()}},[]);const d=_=>l.filter(S=>S.testId===_).length,m=s.filter(_=>d(_.id)>0),p=l.length,w=async _=>{try{await ls(he(fe,`tests/${_.id}`),{published:!_.published}),X({title:_.published?"Test unpublished":"Test published"})}catch{X({title:"Error updating test",variant:"destructive"})}},g=async _=>{try{await ls(he(fe,`tests/${_}`),{archived:!0}),X({title:"Test archived"})}catch{X({title:"Error archiving test",variant:"destructive"})}},b=async _=>{try{await ls(he(fe,`tests/${_}`),{archived:!1}),X({title:"Test restored"})}catch{X({title:"Error restoring test",variant:"destructive"})}},x=async _=>{try{await ia(he(fe,`tests/${_}`)),X({title:"Test deleted"})}catch{X({title:"Error deleting test",variant:"destructive"})}},v=[{icon:ms,label:"Total Tests",value:s.length,color:"text-primary"},{icon:Xo,label:"Total Submissions",value:p,color:"text-chart-1"},{icon:lr,label:"Tests with Submissions",value:m.length,color:"text-chart-2"}],y=({test:_,isArchived:S=!1})=>o.jsxs(J,{className:"bg-card hover:shadow-md transition-shadow",children:[o.jsx(xe,{className:"p-4 pb-2",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx(ye,{className:"text-base sm:text-lg truncate",children:_.title}),o.jsxs(Ie,{className:"text-xs sm:text-sm mt-1",children:[_.subjectName||"No subject","  ",_.duration," min"]})]}),o.jsxs(hy,{children:[o.jsx(fy,{asChild:!0,children:o.jsx(V,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 shrink-0",children:o.jsx(iC,{className:"h-4 w-4"})})}),o.jsxs(_f,{align:"end",children:[!S&&o.jsxs(o.Fragment,{children:[o.jsxs(cs,{onClick:()=>e("/teacher/create-test"),children:[o.jsx(dC,{className:"h-4 w-4 mr-2"}),"Edit"]}),o.jsxs(cs,{onClick:()=>w(_),children:[o.jsx(Pd,{className:"h-4 w-4 mr-2"}),_.published?"Unpublish":"Publish"]}),o.jsxs(cs,{onClick:()=>g(_.id),children:[o.jsx(tC,{className:"h-4 w-4 mr-2"}),"Archive"]})]}),S&&o.jsxs(cs,{onClick:()=>b(_.id),children:[o.jsx(XA,{className:"h-4 w-4 mr-2"}),"Restore"]}),o.jsxs(cs,{onClick:()=>x(_.id),className:"text-destructive",children:[o.jsx(Zs,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})}),o.jsxs(ee,{className:"p-4 pt-2",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[o.jsx(Fe,{variant:"outline",className:"text-xs",children:_.type}),o.jsx(Fe,{variant:"secondary",className:`text-xs ${_.published?"bg-chart-1/20 text-chart-1":"bg-chart-3/20 text-chart-3"}`,children:_.published?"Published":"Draft"}),S&&o.jsx(Fe,{variant:"secondary",className:"text-xs bg-muted",children:"Archived"})]}),o.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm text-muted-foreground",children:[o.jsxs("span",{children:[d(_.id)," submissions"]}),o.jsx("span",{children:new Date(_.createdAt).toLocaleDateString()})]})]})]});return o.jsx(Cn,{userType:"teacher",userName:n,children:o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6 sm:mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground mb-2",children:"Test Management"}),o.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Create, manage and track your tests"})]}),o.jsxs(V,{onClick:()=>e("/teacher/create-test"),className:"w-full sm:w-auto",children:[o.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Create Test"]})]}),o.jsx("div",{className:"grid grid-cols-3 gap-3 sm:gap-4 mb-6 sm:mb-8",children:v.map((_,S)=>o.jsx(J,{className:"bg-card",children:o.jsx(ee,{className:"p-3 sm:p-4 sm:pt-6",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10 w-fit",children:o.jsx(_.icon,{className:`h-4 w-4 sm:h-5 sm:w-5 ${_.color}`})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-lg sm:text-2xl font-bold text-card-foreground",children:_.value}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:_.label})]})]})})},S))}),o.jsxs(su,{defaultValue:"manage",className:"space-y-4 sm:space-y-6",children:[o.jsxs(nl,{className:"bg-muted w-full sm:w-auto grid grid-cols-3 sm:flex",children:[o.jsx(mn,{value:"create",className:"text-xs sm:text-sm",children:"Create"}),o.jsx(mn,{value:"manage",className:"text-xs sm:text-sm",children:"Manage"}),o.jsx(mn,{value:"results",className:"text-xs sm:text-sm",children:"Results"})]}),o.jsx(pn,{value:"create",children:o.jsx(J,{className:"bg-card",children:o.jsxs(ee,{className:"py-8 sm:py-12 text-center",children:[o.jsx(ms,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Create a New Test"}),o.jsx("p",{className:"text-muted-foreground mb-4 text-sm",children:"Use our test creation wizard to build your assessment"}),o.jsxs(V,{onClick:()=>e("/teacher/create-test"),children:[o.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Start Creating"]})]})})}),o.jsx(pn,{value:"manage",children:u?o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Loading tests..."}):s.length===0&&i.length===0?o.jsx(J,{className:"bg-card",children:o.jsxs(ee,{className:"py-12 text-center",children:[o.jsx(ms,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"No tests created yet"}),o.jsxs(V,{onClick:()=>e("/teacher/create-test"),children:[o.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Create Your First Test"]})]})}):o.jsxs("div",{className:"space-y-6",children:[s.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Active Tests (",s.length,")"]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(_=>o.jsx(y,{test:_},_.id))})]}),i.length>0&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 text-muted-foreground",children:["Archived Tests (",i.length,")"]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 opacity-75",children:i.map(_=>o.jsx(y,{test:_,isArchived:!0},_.id))})]})]})}),o.jsx(pn,{value:"results",children:o.jsxs(J,{className:"bg-card",children:[o.jsxs(xe,{children:[o.jsxs(ye,{className:"flex items-center gap-2",children:[o.jsx(Xo,{className:"h-5 w-5"}),"View Submissions"]}),o.jsx(Ie,{children:"Review and grade student submissions"})]}),o.jsx(ee,{children:o.jsxs(V,{onClick:()=>e("/teacher/submissions"),className:"w-full sm:w-auto",children:[o.jsx(lr,{className:"h-4 w-4 mr-2"}),"Go to Submissions"]})})]})})]})]})})},s9=()=>{var y;const{user:t}=Gt(),e=ut(),n=(t==null?void 0:t.displayName)||((y=t==null?void 0:t.email)==null?void 0:y.split("@")[0])||"Student",s=(t==null?void 0:t.uid)||"",[r,i]=f.useState([]),[a,l]=f.useState([]),[c,u]=f.useState(!0);f.useEffect(()=>{const N=Pe.subscribeToTests(S=>{i(S.filter(C=>C.published))}),_=Pe.subscribeToSubmissions(S=>{l(S.filter(C=>C.studentId===s)),u(!1)});return()=>{N(),_()}},[s]);const h=a.map(N=>N.testId),d=r.filter(N=>h.includes(N.id)),m=a.reduce((N,_)=>{var S;return N+(((S=_.answers)==null?void 0:S.length)||0)},0),p=a.filter(N=>N.status==="graded"),w=p.reduce((N,_)=>N+(_.finalScore||_.totalAutoScore||0),0),g=p.length>0?Math.round(w/(p.length*100)*100):0,b=Math.min(a.length,7),x=[{icon:tM,label:"Day Streak",value:b,color:"text-orange-500"},{icon:hC,label:"Questions",value:m,color:"text-primary"},{icon:_a,label:"Accuracy",value:`${g}%`,color:"text-chart-1"}],v=N=>{e(`/student/test/${N}/instructions?practice=true`)};return o.jsx(Cn,{userType:"student",userName:n,children:o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-6 sm:mb-8",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground mb-2",children:"Practice Hub"}),o.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Strengthen your knowledge with practice tests"})]}),o.jsx("div",{className:"grid grid-cols-3 gap-3 sm:gap-4 mb-6 sm:mb-8",children:x.map((N,_)=>o.jsx(J,{className:"bg-card",children:o.jsx(ee,{className:"p-3 sm:p-4 sm:pt-6",children:o.jsxs("div",{className:"flex flex-col items-center sm:flex-row sm:items-center gap-2 sm:gap-3 text-center sm:text-left",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(N.icon,{className:`h-4 w-4 sm:h-5 sm:w-5 ${N.color}`})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-lg sm:text-2xl font-bold text-card-foreground",children:N.value}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:N.label})]})]})})},_))}),o.jsxs(su,{defaultValue:"practice",className:"space-y-4 sm:space-y-6",children:[o.jsxs(nl,{className:"bg-muted w-full sm:w-auto",children:[o.jsx(mn,{value:"practice",className:"flex-1 sm:flex-none text-xs sm:text-sm",children:"AI Practice"}),o.jsx(mn,{value:"past",className:"flex-1 sm:flex-none text-xs sm:text-sm",children:"Past Tests"})]}),o.jsx(pn,{value:"practice",children:o.jsx(J,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:o.jsxs(ee,{className:"py-8 sm:py-12 text-center",children:[o.jsx("div",{className:"inline-flex p-4 rounded-full bg-primary/10 mb-4",children:o.jsx(Zi,{className:"h-10 w-10 sm:h-12 sm:w-12 text-primary"})}),o.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-2",children:"AI Tutor Coming Soon"}),o.jsx("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto text-sm sm:text-base",children:"Get personalized practice questions, instant feedback, and adaptive learning powered by AI. Practice anytime, anywhere."}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-6",children:[o.jsxs(Fe,{variant:"secondary",className:"text-xs",children:[o.jsx(Io,{className:"h-3 w-3 mr-1"}),"Personalized Questions"]}),o.jsxs(Fe,{variant:"secondary",className:"text-xs",children:[o.jsx(Ll,{className:"h-3 w-3 mr-1"}),"Instant Feedback"]}),o.jsxs(Fe,{variant:"secondary",className:"text-xs",children:[o.jsx(_a,{className:"h-3 w-3 mr-1"}),"Track Progress"]})]}),o.jsxs(V,{disabled:!0,className:"gap-2",children:[o.jsx(Zi,{className:"h-4 w-4"}),"Notify Me When Available"]})]})})}),o.jsx(pn,{value:"past",children:c?o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Loading..."}):d.length===0?o.jsx(J,{className:"bg-card",children:o.jsxs(ee,{className:"py-12 text-center",children:[o.jsx($p,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),o.jsx("p",{className:"text-muted-foreground mb-2",children:"No completed tests yet"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete a test to practice it again"})]})}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("h3",{className:"font-semibold",children:["Completed Tests (",d.length,")"]})}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(N=>{const _=a.find(S=>S.testId===N.id);return o.jsxs(J,{className:"bg-card hover:shadow-md transition-shadow",children:[o.jsxs(xe,{className:"p-4 pb-2",children:[o.jsx(ye,{className:"text-base sm:text-lg truncate",children:N.title}),o.jsxs(Ie,{className:"text-xs sm:text-sm",children:[N.subjectName||"General","  ",N.duration," min"]})]}),o.jsxs(ee,{className:"p-4 pt-2",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx(Fe,{variant:"outline",className:"text-xs",children:N.type}),_&&o.jsx(Fe,{variant:"secondary",className:`text-xs ${_.status==="graded"?"bg-chart-1/20 text-chart-1":"bg-chart-3/20 text-chart-3"}`,children:_.status==="graded"?`${_.finalScore||_.totalAutoScore}%`:"Pending"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(V,{size:"sm",variant:"outline",className:"flex-1 text-xs sm:text-sm",onClick:()=>e(`/student/test/${N.id}/result`),children:[o.jsx($p,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),"View Result"]}),o.jsxs(V,{size:"sm",className:"flex-1 text-xs sm:text-sm",onClick:()=>v(N.id),children:[o.jsx(uC,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),"Practice"]})]})]})]},N.id)})})]})})]})]})})},r9=()=>{var b;const{user:t}=Gt(),e=(t==null?void 0:t.displayName)||((b=t==null?void 0:t.email)==null?void 0:b.split("@")[0])||"Student",n=(t==null?void 0:t.uid)||"",[s,r]=f.useState(null),[i,a]=f.useState([]),[l,c]=f.useState(""),[u,h]=f.useState(!0),[d,m]=f.useState(!1);f.useEffect(()=>{if(!n)return;const x=he(fe,"classEnrollments"),v=nr(x,async _=>{if(!_.exists()){r(null),h(!1);return}const S=_.val(),C=Object.values(S).find(E=>E.studentId===n&&E.status==="approved");if(C){const E=await On(he(fe,`classes/${C.classId}`));if(E.exists()){const k=E.val();r({id:C.classId,name:k.name,subjectName:k.subjectName,teacherName:k.teacherName,description:k.description,studentCount:k.students?Object.keys(k.students).length:0})}}else r(null);h(!1)}),y=he(fe,"classRequests"),N=nr(y,_=>{if(!_.exists()){a([]);return}const S=_.val(),C=Object.entries(S).filter(([E,k])=>k.studentId===n).map(([E,k])=>({id:E,classId:k.classId,className:k.className,status:k.status,createdAt:k.createdAt}));a(C)});return()=>{v(),N()}},[n]);const p=async()=>{if(!l.trim()){X({title:"Please enter a class code",variant:"destructive"});return}m(!0);try{const x=await On(he(fe,`classes/${l.trim()}`));if(!x.exists()){X({title:"Class not found",description:"Please check the code and try again",variant:"destructive"}),m(!1);return}const v=x.val();if(i.find(_=>_.classId===l.trim())){X({title:"Request already sent",description:"You have already requested to join this class",variant:"destructive"}),m(!1);return}const N=as(he(fe,"classRequests"));await yn(N,{id:N.key,classId:l.trim(),className:v.name,studentId:n,studentName:e,studentEmail:t==null?void 0:t.email,status:"pending",createdAt:Date.now()}),X({title:"Request sent!",description:"Your teacher will review your request"}),c("")}catch{X({title:"Error joining class",variant:"destructive"})}finally{m(!1)}},w=x=>{switch(x){case"approved":return o.jsx(Ll,{className:"h-4 w-4 text-chart-1"});case"rejected":return o.jsx(Xu,{className:"h-4 w-4 text-destructive"});default:return o.jsx(ar,{className:"h-4 w-4 text-chart-3"})}},g=x=>{switch(x){case"approved":return"bg-chart-1/20 text-chart-1";case"rejected":return"bg-destructive/20 text-destructive";default:return"bg-chart-3/20 text-chart-3"}};return o.jsx(Cn,{userType:"student",userName:e,children:o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-4xl mx-auto",children:[o.jsxs("div",{className:"mb-6 sm:mb-8",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground mb-2",children:"My Class"}),o.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"View your enrolled class or join a new one"})]}),u?o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Loading..."}):s?o.jsxs(J,{className:"bg-card mb-6",children:[o.jsx(xe,{children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"p-3 rounded-lg bg-primary/10",children:o.jsx(Ls,{className:"h-8 w-8 text-primary"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx(ye,{className:"text-xl sm:text-2xl",children:s.name}),o.jsx(Ie,{className:"mt-1",children:s.description})]})]})}),o.jsx(ee,{children:o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-accent rounded-lg",children:[o.jsx(jn,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:s.subjectName}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Subject"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-accent rounded-lg",children:[o.jsx(eo,{className:"h-5 w-5 text-chart-2"}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm font-medium",children:[s.studentCount," Students"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Class Size"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-accent rounded-lg",children:[o.jsx(Ls,{className:"h-5 w-5 text-chart-1"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:s.teacherName}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Teacher"})]})]})]})})]}):o.jsxs(J,{className:"bg-card mb-6",children:[o.jsxs(xe,{children:[o.jsxs(ye,{className:"flex items-center gap-2",children:[o.jsx(Vp,{className:"h-5 w-5"}),"Join a Class"]}),o.jsx(Ie,{children:"Enter the class code provided by your teacher to request access"})]}),o.jsx(ee,{children:o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx(ue,{htmlFor:"classCode",children:"Class Code"}),o.jsx(Ce,{id:"classCode",placeholder:"Enter class code...",value:l,onChange:x=>c(x.target.value)})]}),o.jsx("div",{className:"sm:self-end",children:o.jsxs(V,{onClick:p,disabled:d||!l.trim(),className:"w-full sm:w-auto",children:[o.jsx(Pd,{className:"h-4 w-4 mr-2"}),d?"Sending...":"Request to Join"]})})]})})]}),i.length>0&&o.jsxs(J,{className:"bg-card",children:[o.jsxs(xe,{children:[o.jsxs(ye,{className:"flex items-center gap-2 text-base sm:text-lg",children:[o.jsx(ar,{className:"h-5 w-5"}),"My Requests"]}),o.jsx(Ie,{children:"Status of your class join requests"})]}),o.jsx(ee,{children:o.jsx("div",{className:"space-y-3",children:i.map(x=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-accent rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[w(x.status),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:x.className}),o.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(x.createdAt).toLocaleDateString()})]})]}),o.jsx(Fe,{className:`text-xs ${g(x.status)}`,children:x.status.charAt(0).toUpperCase()+x.status.slice(1)})]},x.id))})})]})]})})},i9=()=>{var N;const{user:t,role:e}=Gt(),{theme:n,setTheme:s}=CC(),[r,i]=f.useState(""),[a,l]=f.useState(!1),[c,u]=f.useState(!1),[h,d]=f.useState("en"),[m,p]=f.useState(!0),w=(t==null?void 0:t.displayName)||((N=t==null?void 0:t.email)==null?void 0:N.split("@")[0])||"User",g=(t==null?void 0:t.email)||"",b=w.slice(0,2).toUpperCase();f.useEffect(()=>{i(w)},[w]);const x=e==="teacher"?"/teacher/dashboard":"/student/dashboard",v=async()=>{if(!(!t||!r.trim())){u(!0);try{await iE(t,{displayName:r.trim()}),await ls(he(fe,`users/${t.uid}`),{displayName:r.trim()}),X({title:"Name updated successfully"}),l(!1)}catch{X({title:"Failed to update name",variant:"destructive"})}finally{u(!1)}}},y=_=>{s(_),X({title:`Theme changed to ${_}`})};return o.jsx("div",{className:"min-h-screen bg-background",children:o.jsxs("div",{className:"flex",children:[o.jsxs("aside",{className:"w-64 min-h-screen border-r border-border bg-card p-6 hidden md:block",children:[o.jsxs(bn,{to:x,className:"inline-flex items-center text-muted-foreground hover:text-primary mb-8 transition-colors",children:[o.jsx(xs,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsx("h2",{className:"text-lg font-semibold text-foreground mb-6",children:"Settings"}),o.jsxs("nav",{className:"space-y-2",children:[o.jsxs("a",{href:"#profile",className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-primary/10 text-primary font-medium",children:[o.jsx(Ad,{className:"h-4 w-4"}),"Profile"]}),o.jsxs("a",{href:"#preferences",className:"flex items-center gap-3 px-3 py-2 rounded-lg text-muted-foreground hover:bg-accent transition-colors",children:[o.jsx(uc,{className:"h-4 w-4"}),"Preferences"]}),o.jsxs("a",{href:"#account",className:"flex items-center gap-3 px-3 py-2 rounded-lg text-muted-foreground hover:bg-accent transition-colors",children:[o.jsx(Bp,{className:"h-4 w-4"}),"Account"]})]})]}),o.jsxs("main",{className:"flex-1 p-4 sm:p-6 md:p-8 max-w-3xl",children:[o.jsxs(bn,{to:x,className:"inline-flex items-center text-muted-foreground hover:text-primary mb-6 transition-colors md:hidden",children:[o.jsx(xs,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-foreground mb-6 sm:mb-8",children:"Settings"}),o.jsxs(J,{id:"profile",className:"mb-6",children:[o.jsxs(xe,{className:"p-4 sm:p-6",children:[o.jsxs(ye,{className:"flex items-center gap-2 text-base sm:text-lg",children:[o.jsx(Ad,{className:"h-5 w-5"}),"Profile"]}),o.jsx(Ie,{children:"Manage your profile information"})]}),o.jsxs(ee,{className:"p-4 sm:p-6 pt-0 sm:pt-0 space-y-4 sm:space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[o.jsx(ff,{className:"h-14 w-14 sm:h-16 sm:w-16",children:o.jsx(mf,{className:"bg-primary/10 text-primary text-base sm:text-lg",children:b})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Profile Picture"}),o.jsx(V,{variant:"outline",size:"sm",disabled:!0,className:"mt-1 text-xs sm:text-sm",children:"Upload Photo (Coming Soon)"})]})]}),o.jsx(Di,{}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ue,{htmlFor:"name",children:"Display Name"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[o.jsx(Ce,{id:"name",value:r,onChange:_=>i(_.target.value),disabled:!a,className:"flex-1"}),a?o.jsxs("div",{className:"flex gap-2",children:[o.jsx(V,{variant:"outline",size:"sm",className:"flex-1 sm:flex-none",onClick:()=>{i(w),l(!1)},children:"Cancel"}),o.jsx(V,{size:"sm",className:"flex-1 sm:flex-none",onClick:v,disabled:c,children:c?o.jsx($n,{className:"h-4 w-4 animate-spin"}):o.jsx(Br,{className:"h-4 w-4"})})]}):o.jsx(V,{variant:"outline",size:"sm",onClick:()=>l(!0),children:"Edit"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ue,{htmlFor:"email",children:"Email"}),o.jsx(Ce,{id:"email",value:g,disabled:!0}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ue,{children:"Role"}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("span",{className:"px-3 py-1 rounded-full bg-primary/10 text-primary text-sm font-medium capitalize",children:e||"User"})})]})]})]}),o.jsxs(J,{id:"preferences",className:"mb-6",children:[o.jsxs(xe,{className:"p-4 sm:p-6",children:[o.jsxs(ye,{className:"flex items-center gap-2 text-base sm:text-lg",children:[o.jsx(uc,{className:"h-5 w-5"}),"Preferences"]}),o.jsx(Ie,{children:"Customize your experience"})]}),o.jsxs(ee,{className:"p-4 sm:p-6 pt-0 sm:pt-0 space-y-4 sm:space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[n==="dark"?o.jsx(aM,{className:"h-5 w-5"}):o.jsx(dM,{className:"h-5 w-5"}),o.jsxs("div",{children:[o.jsx(ue,{children:"Theme"}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Select your preferred theme"})]})]}),o.jsxs(Hi,{value:n,onValueChange:y,children:[o.jsx(ui,{className:"w-full sm:w-32",children:o.jsx(Gi,{})}),o.jsxs(di,{children:[o.jsx(Pt,{value:"light",children:"Light"}),o.jsx(Pt,{value:"dark",children:"Dark"}),o.jsx(Pt,{value:"system",children:"System"})]})]})]}),o.jsx(Di,{}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(nM,{className:"h-5 w-5"}),o.jsxs("div",{children:[o.jsx(ue,{children:"Language"}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Choose your language"})]})]}),o.jsxs(Hi,{value:h,onValueChange:d,children:[o.jsx(ui,{className:"w-full sm:w-32",children:o.jsx(Gi,{})}),o.jsxs(di,{children:[o.jsx(Pt,{value:"en",children:"English"}),o.jsx(Pt,{value:"es",children:"Spanish"}),o.jsx(Pt,{value:"fr",children:"French"}),o.jsx(Pt,{value:"de",children:"German"})]})]})]}),o.jsx(Di,{}),o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ZA,{className:"h-5 w-5"}),o.jsxs("div",{children:[o.jsx(ue,{children:"Notifications"}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Enable or disable notifications"})]})]}),o.jsx(xh,{checked:m,onCheckedChange:p})]})]})]}),o.jsxs(J,{id:"account",children:[o.jsxs(xe,{className:"p-4 sm:p-6",children:[o.jsxs(ye,{className:"flex items-center gap-2 text-base sm:text-lg",children:[o.jsx(Bp,{className:"h-5 w-5"}),"Account"]}),o.jsx(Ie,{children:"Manage your account settings"})]}),o.jsxs(ee,{className:"p-4 sm:p-6 pt-0 sm:pt-0 space-y-4 sm:space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(cc,{className:"h-5 w-5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx(ue,{children:"Change Password"}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Update your password"})]})]}),o.jsx(V,{variant:"outline",size:"sm",disabled:!0,className:"w-full sm:w-auto text-xs sm:text-sm",children:"Change Password (Coming Soon)"})]}),o.jsx(Di,{}),o.jsxs("div",{className:"flex items-start gap-3 p-4 bg-destructive/10 rounded-lg",children:[o.jsx(Mx,{className:"h-5 w-5 text-destructive mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-destructive",children:"Danger Zone"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Account deletion is permanent and cannot be undone. All your data, including tests and submissions, will be permanently removed."})]})]})]})]})]})]})})},o9=new LD,a9=()=>o.jsx(XM,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:o.jsx($D,{client:o9,children:o.jsxs(fD,{children:[o.jsx(QM,{}),o.jsx(T4,{}),o.jsx(OL,{children:o.jsx(oz,{children:o.jsxs(kL,{children:[o.jsx(Ze,{path:"/",element:o.jsx(UL,{})}),o.jsx(Ze,{path:"/student/auth",element:o.jsx(mz,{})}),o.jsx(Ze,{path:"/teacher/auth",element:o.jsx(pz,{})}),o.jsx(Ze,{path:"/student/dashboard",element:o.jsx(xt,{allowedRole:"student",children:o.jsx(Yz,{})})}),o.jsx(Ze,{path:"/student/test/:testId/details",element:o.jsx(xt,{allowedRole:"student",children:o.jsx(oV,{})})}),o.jsx(Ze,{path:"/student/test/:testId/instructions",element:o.jsx(xt,{allowedRole:"student",children:o.jsx(aV,{})})}),o.jsx(Ze,{path:"/student/test/:testId/take",element:o.jsx(xt,{allowedRole:"student",children:o.jsx(SV,{})})}),o.jsx(Ze,{path:"/student/test/:testId/submitted",element:o.jsx(xt,{allowedRole:"student",children:o.jsx(EV,{})})}),o.jsx(Ze,{path:"/student/test/:testId/result",element:o.jsx(xt,{allowedRole:"student",children:o.jsx(jV,{})})}),o.jsx(Ze,{path:"/student/history",element:o.jsx(xt,{allowedRole:"student",children:o.jsx(IV,{})})}),o.jsx(Ze,{path:"/student/practice-hub",element:o.jsx(xt,{allowedRole:"student",children:o.jsx(s9,{})})}),o.jsx(Ze,{path:"/student/class",element:o.jsx(xt,{allowedRole:"student",children:o.jsx(r9,{})})}),o.jsx(Ze,{path:"/settings",element:o.jsx(xt,{children:o.jsx(i9,{})})}),o.jsx(Ze,{path:"/teacher/dashboard",element:o.jsx(xt,{allowedRole:"teacher",children:o.jsx(RV,{})})}),o.jsx(Ze,{path:"/teacher/subjects",element:o.jsx(xt,{allowedRole:"teacher",children:o.jsx(ZW,{})})}),o.jsx(Ze,{path:"/teacher/create-test",element:o.jsx(xt,{allowedRole:"teacher",children:o.jsx(RW,{})})}),o.jsx(Ze,{path:"/teacher/question-builder",element:o.jsx(xt,{allowedRole:"teacher",children:o.jsx(PW,{})})}),o.jsx(Ze,{path:"/teacher/submissions",element:o.jsx(xt,{allowedRole:"teacher",children:o.jsx(AW,{})})}),o.jsx(Ze,{path:"/teacher/submission/:submissionId",element:o.jsx(xt,{allowedRole:"teacher",children:o.jsx($W,{})})}),o.jsx(Ze,{path:"/teacher/students",element:o.jsx(xt,{allowedRole:"teacher",children:o.jsx(e9,{})})}),o.jsx(Ze,{path:"/teacher/classes",element:o.jsx(xt,{allowedRole:"teacher",children:o.jsx(t9,{})})}),o.jsx(Ze,{path:"/teacher/tests",element:o.jsx(xt,{allowedRole:"teacher",children:o.jsx(n9,{})})}),o.jsx(Ze,{path:"*",element:o.jsx(zL,{})})]})})})]})})});jN(document.getElementById("root")).render(o.jsx(a9,{}));
